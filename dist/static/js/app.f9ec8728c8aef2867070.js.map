{"version":3,"sources":["webpack:///./src/App.vue?8fb5","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/containers/MyHeader/index.vue?a2ed","webpack:///./src/containers/MyHeader/index.vue","webpack:///src/containers/MyHeader/index.vue","webpack:///./src/utils/weixin.js","webpack:///src/containers/Course/index.vue","webpack:///./src/containers/Course/index.vue?0672","webpack:///./src/containers/Course/index.vue","webpack:///./src/containers/Player/Player/lib/fscreen.js","webpack:///./src/containers/Player/Player/src/Player.js","webpack:///src/containers/Player/Comment/index.vue","webpack:///./src/containers/Player/Comment/index.vue?bf83","webpack:///./src/containers/Player/Comment/index.vue","webpack:///src/containers/Player/Score/index.vue","webpack:///./src/containers/Player/Score/index.vue?ee06","webpack:///./src/containers/Player/Score/index.vue","webpack:///src/containers/Player/Subtitles/index.vue","webpack:///./src/containers/Player/Subtitles/index.vue?35e3","webpack:///./src/containers/Player/Subtitles/index.vue","webpack:///src/containers/Player/index.vue","webpack:///./src/containers/Player/index.vue?00fb","webpack:///./src/containers/Player/index.vue","webpack:///src/containers/Teacher/index.vue","webpack:///./src/containers/Teacher/index.vue?a4ce","webpack:///./src/containers/Teacher/index.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/utils/constants.js","webpack:///./src/assets/defaultClassCover.png","webpack:///./src/utils/browser.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","containers_MyHeader","staticClass","title","slot","on","click","back","icon","src_containers_MyHeader","MyHeader_normalizeComponent","remainRequestNumber","weixin_initWeiXinShareConfig","currentURL","axios_default","a","get","then","respones","window","jWeixin","config","debug","appId","timestamp","data","nonceStr","noncestr","signature","jsApiList","error","put","configWeiXinShare","_ref4","desc","link","imgUrl","_ref","onMenuShareTimeline","fail","alert","configShareTimeline","_ref2","onMenuShareAppMessage","configShareAppMessage","_ref3","onMenuShareQQ","configShareQQ","Course","accountId","defaultClassCoverPng","defaultClassCover_default","_this","$http","_ref$data","accounts","coopDocs","coopLibraries","docs","libraries","libraryId","docId","doc","status","transformed","hasAction","close","name","cover","nickname","introduction","href","authorIntroduction","coverURL","catch","computeScore","star1","star2","star3","star4","star5","score","MyHeader","containers_Course","_vm","_v","_s","library","style","backgroundSize","backgroundPosition","backgroundRepeat","backgroundImage","isDefault","_l","course","key","to","path","ratingStatis","staticStyle","font-size","color","width","margin-top","_e","display","src","margin-left","view","commentNums","src_containers_Course","Course_normalizeComponent","fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror","webkit","moz","ms","fscreen_document","document","vendor","keys_default","fscreen","element","requestFullscreenFunction","bind","addEventListener","type","handler","options","removeEventListener","Boolean","val","onfullscreenchange","toLowerCase","onfullscreenerror","Player","actionUrl","audioUrl","duration","imageUrls","_ref$mode","mode","undefined","size","subtitles","classCallCheck_default","actionData","actions","draftHeight","draftWidth","windowHeight","windowWidth","domRefs","audio","images","imageContainer","playerContainer","scrollDuration","autoPlay","captionFontSize","state","audioLoadStatus","imagesLoaded","Array","length","canPlay","nextAction","nextActionIndex","animation","animationObj","halt","isLoading","isPageFullscreenOpen","isdraftOpen","draftNum","contexts","propotions","propotion","ctx","currentSubtitleIndex","isCaptionsOpen","initialWidth","offsetWidth","wating","waitingPage","waitingTime","template","playerControl","normalizeTime","loadTip","Math","round","draft","captions","handleAudioLoaded","loadSource","fetchActions","map","action","index","extends_default","actionId","endTime","parseFloat","points","point","x","y","startTime","target","parseInt","yDistance","sort","prev","next","baseURL","responseType","response","formatActionData","renderContainer","_actionData","container","createElement","className","containerWidth","containerHeight","height","loadTipElem","renderString","appendChild","loading","querySelector","event","CustomEvent","dispatchEvent","loadButton","loadAudio","loadImages","firstElementChild","lastElementChild","audioElement","_this2","imageNameRegExp","Number","match","imageWidth","imageUrl","imageElement","Image","handleImageLoaded","handleFirstImageLoaded","_this3","checkSrcLoadStatus","forEach","imageElem","setLoadingTipStatus","initHtml","bindEvents","setDrawTarget","changeCurrentTime","togglePlay","showPlayerControl","renderImages","renderCanvas","renderPlayerControl","renderCaptions","renderAudio","renderDraft","_this4","_domRefs","pages","fragment","createDocumentFragment","image","section","classList","add","push","canvas","setCanvasSize","getContext","lineCap","setPropotions","_domRefs2","playerControlTemplate","progressbarWrapper","playState","fullscreen","pageFullscreen","toggleCaptionsButton","currentTime","progressbar","preview","progressHandle","_domRefs3","captionsNode","setDraftSize","_domRefs4","handlePlayButtonClick","handleFullscreenClick","handleCaptionsMove","handleCaptionsDown","handleCaptionsUp","toggleFullscreen","togglePageFullscreen","handleProgressbarOver","handleProgressbarleave","handleSeekMousedown","handleTimeUpdate","handleEnded","handleFullscreenChange","toggleCaptions","handleProgressbarClick","handleRotateScreen","handleWindowResize","handlePlayerTap","handleProgressPanStart","handleProgressPanMove","handleCaptionsPress","handleCaptionsPressUp","handleCaptionsPanMove","handleHammer","hammer_default","captionsHammer","set","direction","DIRECTION_ALL","time","loadTipHammer","canCaptionsMove","captionsStartX","offsetLeft","captionsStartY","offsetTop","e","left","deltaX","top","deltaY","setCaptionsOffset","panStartTime","deltaTime","min","max","preventDefault","cursorStartX","clientX","cursorStartY","clientY","distX","distY","_domRefs5","parentWidth","parentHeight","offsetHeight","captionsLeftMax","captionsBottomMax","leftOffset","bottomOffset","bottom","currentWidth","lastWidth","resizePlayer","handleSeekMousemove","handleSeekMouseup","changeProgressbarHandle","contains","_window$screen","screen","_actionData2","propotion2","getFullscreenSize","_domRefs6","_state","fullscreenSize","_actionData3","_domRefs7","_actionData4","translateX","controlWidth","transform","setContainerSize","fontSize","_domRefs8","_domRefs9","remove","_domRefs10","reduce","cur","_domRefs11","rerenderTimeInfo","changeDisplaySubtitle","_domRefs12","durationEl","textContent","getCursorTime","visibility","hidePlayerControl","clearTimeout","opacity","setTimeout","fadeOutPlayerControl","wrapper","dist","getBoundingClientRect","percent","clientWidth","stopPropagation","pause","cancelAnimationFrame","play","registerNextAction","registerNextAnimation","_this5","wait","waiting","_state2","currentWaitingPage","currentWaitingTime","continue","page","getPageByTime","pageTo","setPageState","setDraftState","getNextAction","waitPageLoading","_this6","handleNextAction","elaspedTime","Date","now","requestAnimationFrame","drawPoint","needRegist","drawPath","drawArrow","scroll","withdraw","clear","eliminate","_this7","_state3","i","cnt","floor","strokeStyle","lineWidth","backgroundData","getImageData","drawPoints","end","_state4","beginPath","slice","moveTo","lineTo","stroke","animate","_state5","_state$animationObj","_state6","clearRect","putImageData","ceil","k","_state7","fillStyle","x1","y1","x2","y2","r","sqrt","pow","aX","aY","bX","bY","cX","cY","dX","dY","eX","eY","fill","currentPage","toggleDraft","open","transition","_state8","ctxIndex","propIndex","_domRefs13","offsetY","orginOffset","tmp","abs","targetPage","getDrawActionsOnPage","handleActions","draftActions","getActionsOnDraft","getDraftStatus","res","filterActions","targetIndex","getActionsOnPage","_state9","_domRefs14","hasSubtitle","beginTime","text","detail","subtitleIndex","parentNode","removeChild","includeTypes","withdrawTypes","eliminatedIds","indexOf","j","concat","eliminateIds","filter","hours","remain","minutes","seconds","parent","string","elem","innerHTML","Comment","String","comments","FormData","activeCommentIndex","replies","myComment","file","post","formData","removeUploadImages","files","confirmUploadImages","replyText","commentList","replyFormData","approve","commentId","getSeconds","number","replyId","Player_Comment","placeholder","disableClear","model","value","callback","$$v","expression","preview0","$event","isShowUploadImagesDialog","background-color","confirmComment","comment","avatar","userName","margin-right","approveHandle","img","showImg","formatTime","createTime","handleOnReply","userType","handleOnDeleteComment","popup-transition","padding-bottom","align-items","border-radius","border","preview1","preview2","padding-left","padding-right","clickUploadImageInputForComment","ref","accept","multiple","domProps","inputImage","change","handleInputChange","justify-content","align-self","cancelUploadImages","Object","keys","commentObj","position","replyVisible","margin-bottom","approveL","replyList","reply","originUserName","handleOnDeleteReply","rrVisible","text-align","margin","clickUploadImageInputForReply","confirmReply","cancleReply","showImgVisible","showImgUrl","containers_Player_Comment","Comment_normalizeComponent","Score","Player_Score","font-weight","teacherInformation","containers_Player_Score","Score_normalizeComponent","Subtitles","clientHeight","Player_Subtitles","subtitleContainerMarginTop","marginTop","subtitle","activeSubtitleIndex","refInFor","class","activeSubtitle","formatDuring","containers_Player","Subtitles_normalizeComponent","_respones$data","_respones$data$doc","defaultAction","pictures","_respones$data$doc$ra","sourceId","json","recording","totalSize","handleOnSetSubtitleContainerMarginTop","myInformation","delete","selectortype_template_index_0_src_containers_Player","selected","zIndex","actionsLoaded","subtitlechange","handleOnSubtitleChange","borderBottom","addCommentSuccess","handleOnAddCommentSuccess","addReplySuccess","handleOnAddReplySuccess","src_containers_Player","Player_normalizeComponent","Teacher","authorName","containers_Teacher","documentNumberForEachLibrary","src_containers_Teacher","Teacher_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","component","$browser","Browser","navigator","userAgent","token","result","cookie","localStorage","setItem","getItem","defaults","headers","common","Authorization","interceptors","_error$config","method","url","_error$response","toUpperCase","endsWith","console","log","location","pathname","startsWith","originURL","encodeURIComponent","redirectURL","replace","browser","assign","copy_to_clipboard_default","message","promise_default","reject","productionTip","prototype","mint_ui_common_default","el","components","App","module","exports","p","root","factory","_window","_navigator","_mime","option","mimeTypes","mt","u","Trident","Presto","WebKit","Gecko","Safari","Chrome","IE","Edge","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Arora","Lunascape","QupZilla","Coc Coc","Kindle","Iceweasel","Konqueror","Iceape","SeaMonkey","Epiphany","360","360EE","360SE","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi","Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","Windows Phone","BlackBerry","MeeGo","Symbian","iOS","Chrome OS","WebOS","Mobile","Tablet","is360","chrome","chrome_vision","showModalDialog","screenTop","screenY","arr","hash","engine","os","device","s","language","browserLanguage","split","join","osVersion","v","6.4","6.3","6.2","6.1","6.0","5.2","5.1","5.0","version","55","45","42","31","21","63","50","30","57","49","46","39","34","29","define","cmd","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default"],"mappings":"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","file":"static/js/app.f9ec8728c8aef2867070.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ba5c691\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ba5c691\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ba5c691\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id='app'>\n    <router-view />\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n}\n\n</script>\n\n<style>\n\n* {\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  width: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mt-header',{staticClass:\"header\",attrs:{\"title\":_vm.title}},[_c('a',{attrs:{\"slot\":\"left\"},on:{\"click\":_vm.back},slot:\"left\"},[_c('mt-button',{attrs:{\"icon\":\"back\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3246f62e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/MyHeader/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3246f62e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3246f62e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3246f62e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/MyHeader/index.vue\n// module id = null\n// module chunks = ","<template>\n  <mt-header\n    class=\"header\"\n    :title=\"title\"\n  >\n    <a @click=\"back\" slot=\"left\">\n      <mt-button icon=\"back\" />\n    </a>\n  </mt-header>\n</template>\n\n<script>\n\nexport default {\n  name: 'MyHeader',\n\n  props: [\n    'title',\n  ],\n\n  methods: {\n    back() {\n      this.$router.back()\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.header {\n  background-color: #FFF;\n  color: #000;\n  font-size: 18px;\n  width: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/MyHeader/index.vue","import axios from 'axios'\n\n/* 剩余请求次数 */\nlet remainRequestNumber = 2\n\nconst initWeiXinShareConfig = (currentURL) => {\n  /* 首先通过 GET 方法向后端发送配置数据请求信息 */\n  axios\n    .get(`authentication/signature?url=${currentURL}`)\n    .then((respones) => {\n      /* 配置微信 SDK */\n      window.jWeixin.config({\n        debug     : false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n        appId     : 'wxa53771df5d04e3d3', // 必填，公众号的唯一标识\n        timestamp : respones.data.timestamp, // 必填，生成签名的时间戳\n        nonceStr  : respones.data.noncestr, // 必填，生成签名的随机串\n        signature : respones.data.signature,// 必填，签名\n        jsApiList : ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ'] // 必填，需要使用的JS接口列表\n      })\n    })\n\n  /* 如果配置出错，则发送 PUT 方法重新发送配置数据请求信息 */\n  window.jWeixin.error(function (error) {\n    /* 如果剩余请求次数大于零，则重新发起请求 */\n    if (remainRequestNumber-- > 0) {\n      axios\n        .put(`authentication/signature?url=${currentURL}`)\n        .then((respones) => {\n          /* 配置微信 SDK */\n          window.jWeixin.config({\n            debug     : false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n            appId     : 'wxa53771df5d04e3d3', // 必填，公众号的唯一标识\n            timestamp : respones.data.timestamp, // 必填，生成签名的时间戳\n            nonceStr  : respones.data.noncestr, // 必填，生成签名的随机串\n            signature : respones.data.signature,// 必填，签名\n            jsApiList : ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ'] // 必填，需要使用的JS接口列表\n          })\n        })\n    }\n  })\n}\n\n/* 配置微信的分享到朋友圈操作 */\nconst configShareTimeline = ({\n  title,\n  link,\n  imgUrl,\n}) => {\n  window.jWeixin.onMenuShareTimeline({\n    title,\n    link,\n    imgUrl,\n    fail: function () {\n      alert('分享到朋友圈失败，请刷新页面重试')\n    },\n  })\n}\n\n/* 配置微信的分享给朋友操作 */\nconst configShareAppMessage = ({\n  title,\n  desc,\n  link,\n  imgUrl,\n}) => {\n  window.jWeixin.onMenuShareAppMessage({\n    title,\n    desc,\n    link,\n    imgUrl,\n    fail: function () {\n      alert('分享给朋友失败，请刷新页面重试')\n    },\n  })\n}\n\n/* 配置微信的分享到 QQ 操作 */\nconst configShareQQ = ({\n  title,\n  desc,\n  link,\n  imgUrl,\n}) => {\n  window.jWeixin.onMenuShareQQ({\n    title,\n    desc,\n    link,\n    imgUrl,\n    fail: function () {\n      alert('分享到 QQ 失败，请刷新页面重试')\n    },\n  })\n}\n\nconst configWeiXinShare = ({\n  title,\n  desc,\n  link,\n  imgUrl,\n}) => {\n  configShareTimeline({\n    title,\n    link,\n    imgUrl,\n  })\n  configShareAppMessage({\n    title,\n    desc,\n    link,\n    imgUrl,\n  })\n  configShareQQ({\n    title,\n    desc,\n    link,\n    imgUrl,\n  })\n}\n\n/* eslint-disable */\nexport {\n  configShareTimeline,\n  configShareAppMessage,\n  configShareQQ,\n  configWeiXinShare,\n  initWeiXinShareConfig,\n}\n/* eslint-disable */\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/weixin.js","<template>\n  <div class='coursePage'>\n    <MyHeader title='【课程专辑】' />\n    <div class='container'>\n      <div class='message'>\n        <h2 class='coursetitle'>{{library.name}}</h2>\n        <div\n          class='blackMask'\n          :style='{\n            backgroundSize: \"cover\",\n            backgroundPosition: \"center\",\n            backgroundRepeat: \"no-repeat\",\n            backgroundImage: library.isDefault ? `url(${defaultClassCoverPng})` : (library.cover || defaultClassCoverPng)\n          }'\n        />\n      </div>\n      <hr class='hr1'>\n      <div class='courseCell' v-for='course in courseList' :key='course.id'>\n        <router-link\n          class='link'\n          :to='{ path: \"/player/\" + course.id  }'\n        >\n          <div class='imgcon'>\n            <div class='msg'>\n              <i\n                class='fa fa-star'\n                style='\n                  font-size: 20px;\n                  color: #fbe359;\n                  width: 110px;\n                  margin-top: 20px;\n                '\n                v-if='computeScore(course.ratingStatis) !== -1'\n              >\n                {{computeScore(course.ratingStatis)}}\n              </i>\n              <span\n                style='\n                  font-size: 20px;\n                  color: white;\n                  width: 110px;\n                  margin-top: 20px;\n                  display: inline-block;\n                '\n                v-if='computeScore(course.ratingStatis) === -1'\n              >\n                暂无评分\n              </span>\n            </div>\n            <div class='blackblock'></div>\n            <div class='classImg'>\n              <img class='classImg' :src='course.cover' >\n            </div>\n          </div>\n          <div class='msgcontainer'>\n            <div style='display: inline-block;'>\n              <span class='className'>{{course.name}}</span>\n            </div>\n            <div class='icons'>\n              <i  class='fa fa-caret-square-o-right' />\n              <span style='display: inline-block;margin-left: 5px;'>{{course.view}}</span>\n              <i style='margin-left: 15px;' class='fa fa-commenting-o' />\n              <span style='display: inline-block;margin-left: 5px;'>{{course.commentNums}}</span>\n            </div>\n          </div>\n        </router-link>\n        <hr class='hr1'>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { Indicator } from 'mint-ui'\nimport MyHeader from '../MyHeader'\nimport defaultClassCoverPng from '../../assets/defaultClassCover.png'\nimport {\n  configWeiXinShare,\n  initWeiXinShareConfig,\n} from '../../utils/weixin'\n\nexport default {\n  name: 'course',\n\n  data() {\n    return {\n      accountId: this.$route.query.accountId,\n      action: [],\n      allDcos: [],\n      courseList: [],\n      cover: '',\n      defaultClassCoverPng,\n      docs: [],\n      library: {},\n      libraryId: this.$route.params.id,\n      name: '课堂主页',\n      teacherInformation: {},\n      title: '课程列表',\n    }\n  },\n\n  mounted() {\n    Indicator.open('获取课堂数据中')\n\n    this\n      .$http\n      .get(`/players/accounts/${this.accountId}`)\n      .then(({\n        data: {\n          accounts,\n          coopDocs,\n          coopLibraries,\n          docs,\n          libraries,\n        },\n      }) => {\n        const allLibraries = libraries.concat(coopLibraries)\n        const allDocs = docs.concat(coopDocs)\n\n        this.library = allLibraries.find((library) => library.id === this.libraryId)\n\n        this.teacherInformation = accounts.find((user) => String(user.id) === this.accountId)\n\n        this.library.chapters.reduce((result, chapter) => {\n          return result.concat(chapter.docs)\n        }, this.library.docs).forEach((docId) => {\n          const doc = allDocs.find((_doc) => _doc.id === docId)\n          if (\n            doc &&\n            doc.status == 'open' &&\n            doc.transformed == '1' &&\n            doc.hasAction\n          ) {\n            this.courseList.push(doc)\n          }\n        })\n\n        Indicator.close()\n\n        /* 只有处于生产环境才执行微信 JS-SDK 的初始化操作 */\n        if (process.env.NODE_ENV === 'production') {\n          const title = this.library.name\n          const coverURL = this.library.cover\n          const authorName = this.teacherInformation.name || this.teacherInformation.nickname\n          const authorIntroduction = this.teacherInformation.introduction\n\n          /* 初始化微信 JS-SDK 配置 */\n          initWeiXinShareConfig(window.encodeURIComponent(window.location.href))\n\n          /* 等待微信 JS-SDK 可以使用后自定义分享相关的操作 */\n          window.jWeixin.ready(function() {\n            configWeiXinShare({\n              title  : `${authorName}:《${title}》专辑`,\n              desc   : `${authorIntroduction}`,\n              link   : window.location.href,\n              imgUrl : coverURL,\n            })\n          })\n        }\n      })\n      .catch((error) => {\n        if (process.env.NODE_ENV === 'development') {\n          throw error\n        } else {\n          alert('获取数据错误，请检查访问地址')\n        }\n      })\n  },\n\n  methods: {\n    computeScore({\n      star1,\n      star2,\n      star3,\n      star4,\n      star5,\n    }) {\n      /* 计算当前文档的评分 */\n      const score = (star1 + star2 * 2 + star3 * 3 + star4 * 4 + star5 * 5) / (star1 + star2 + star3 + star4 + star5)\n      return window.isNaN(score) ? -1 : score\n    },\n  },\n\n  components: {\n    MyHeader,\n  },\n}\n\n</script>\n\n<style scoped>\n\n.coursePage {\n  width: 100%;\n}\n\n.blackMask {\n  width: 100%;\n  height: 200px;\n  position: absolute;\n  z-index: -1;\n}\n\n.message {\n  background-color:rgba(0, 0, 0, 0.48);\n  width: 100%;\n  height: 200px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.coursetitle {\n  color: white;\n  overflow: hidden;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 60%;\n}\n\n .courseCell {\n  width: 100%;\n  height: 65px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\n.link {\n  display: flex;\n  align-items: center;\n  height: 65px;\n  text-decoration: none;\n}\n\n.imgcon {\n  display: inline-block;\n  width: 110px;\n  height: 65px;\n  margin: 10px;\n  border-radius: 5px;\n  background: gray;\n  z-index: 1;\n}\n\n.classImg {\n  display: inline-block;\n  width:110px;\n  height:65px;\n  z-index: 1;\n  border-radius: 5px;\n}\n\n.msg {\n  position: absolute;\n  width: 110px;\n  height: 65px;\n  border-radius: 5px;\n  text-align: center;\n  z-index: 3;\n  vertical-align: middle;\n}\n\n.blackblock {\n  display: inline-block;\n  position: absolute;\n  width: 110px;\n  height: 65px;\n  background-color: rgba(0, 0, 0, 0.28);\n  z-index: 2;\n  border-radius: 5px;\n}\n\n.msgcontainer {\n  height: 65px;\n  margin-left: 8px;\n  margin-right: 10px;\n  flex:1;\n  text-align: left;\n}\n\n.className {\n  display: inline-block;\n  width: 160px;\n  text-overflow: ellipsis;\n  overflow:hidden;\n  white-space: nowrap;\n  font-size: 18px;\n  color: black;\n  text-align:left;\n}\n\n.icons {\n  text-align:left;\n  color: gray;\n  margin-top: 18px;\n  width: 100%;\n}\n\n.hr1 {\n  height:1px;\n  border:none;\n  border-top:1px solid lightgray;\n  margin-top: 10px;\n  margin: 10px 10px 0 10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Course/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coursePage\"},[_c('MyHeader',{attrs:{\"title\":\"【课程专辑】\"}}),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"message\"},[_c('h2',{staticClass:\"coursetitle\"},[_vm._v(_vm._s(_vm.library.name))]),_vm._v(\" \"),_c('div',{staticClass:\"blackMask\",style:({\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          backgroundRepeat: \"no-repeat\",\n          backgroundImage: _vm.library.isDefault ? (\"url(\" + _vm.defaultClassCoverPng + \")\") : (_vm.library.cover || _vm.defaultClassCoverPng)\n        })})]),_vm._v(\" \"),_c('hr',{staticClass:\"hr1\"}),_vm._v(\" \"),_vm._l((_vm.courseList),function(course){return _c('div',{key:course.id,staticClass:\"courseCell\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{ path: \"/player/\" + course.id  }}},[_c('div',{staticClass:\"imgcon\"},[_c('div',{staticClass:\"msg\"},[(_vm.computeScore(course.ratingStatis) !== -1)?_c('i',{staticClass:\"fa fa-star\",staticStyle:{\"font-size\":\"20px\",\"color\":\"#fbe359\",\"width\":\"110px\",\"margin-top\":\"20px\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.computeScore(course.ratingStatis))+\"\\n            \")]):_vm._e(),_vm._v(\" \"),(_vm.computeScore(course.ratingStatis) === -1)?_c('span',{staticStyle:{\"font-size\":\"20px\",\"color\":\"white\",\"width\":\"110px\",\"margin-top\":\"20px\",\"display\":\"inline-block\"}},[_vm._v(\"\\n              暂无评分\\n            \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"blackblock\"}),_vm._v(\" \"),_c('div',{staticClass:\"classImg\"},[_c('img',{staticClass:\"classImg\",attrs:{\"src\":course.cover}})])]),_vm._v(\" \"),_c('div',{staticClass:\"msgcontainer\"},[_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('span',{staticClass:\"className\"},[_vm._v(_vm._s(course.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"icons\"},[_c('i',{staticClass:\"fa fa-caret-square-o-right\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(course.view))]),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-commenting-o\",staticStyle:{\"margin-left\":\"15px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(course.commentNums))])])])]),_vm._v(\" \"),_c('hr',{staticClass:\"hr1\"})],1)})],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2173d86b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Course/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2173d86b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2173d86b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2173d86b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Course/index.vue\n// module id = null\n// module chunks = ","const key = {\n  fullscreenEnabled: 0,\n  fullscreenElement: 1,\n  requestFullscreen: 2,\n  exitFullscreen: 3,\n  fullscreenchange: 4,\n  fullscreenerror: 5,\n}\n\nconst webkit = [\n  'webkitFullscreenEnabled',\n  'webkitFullscreenElement',\n  'webkitRequestFullscreen',\n  'webkitExitFullscreen',\n  'webkitfullscreenchange',\n  'webkitfullscreenerror',\n]\n\nconst moz = [\n  'mozFullScreenEnabled',\n  'mozFullScreenElement',\n  'mozRequestFullScreen',\n  'mozCancelFullScreen',\n  'mozfullscreenchange',\n  'mozfullscreenerror',\n]\n\nconst ms = [\n  'msFullscreenEnabled',\n  'msFullscreenElement',\n  'msRequestFullscreen',\n  'msExitFullscreen',\n  'MSFullscreenChange',\n  'MSFullscreenError',\n]\n\n// so it doesn't throw if no window or document\nconst document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {}\n\nconst vendor = (\n  ('fullscreenEnabled' in document && Object.keys(key)) ||\n  (webkit[0] in document && webkit) ||\n  (moz[0] in document && moz) ||\n  (ms[0] in document && ms) ||\n  []\n)\n\nexport default {\n  requestFullscreen: element => element[vendor[key.requestFullscreen]](),\n  requestFullscreenFunction: element => element[vendor[key.requestFullscreen]],\n  get exitFullscreen() { return document[vendor[key.exitFullscreen]].bind(document) },\n  addEventListener: (type, handler, options) => document.addEventListener(vendor[key[type]], handler, options),\n  removeEventListener: (type, handler, options) => document.removeEventListener(vendor[key[type]], handler, options),\n  get fullscreenEnabled() { return Boolean(document[vendor[key.fullscreenEnabled]]) },\n  set fullscreenEnabled(val) {},\n  get fullscreenElement() { return document[vendor[key.fullscreenElement]] },\n  set fullscreenElement(val) {},\n  get onfullscreenchange() { return document[`on${vendor[key.fullscreenchange]}`.toLowerCase()] },\n  set onfullscreenchange(handler) { return document[`on${vendor[key.fullscreenchange]}`.toLowerCase()] = handler },\n  get onfullscreenerror() { return document[`on${vendor[key.fullscreenerror]}`.toLowerCase()] },\n  set onfullscreenerror(handler) { return document[`on${vendor[key.fullscreenerror]}`.toLowerCase()] = handler },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Player/Player/lib/fscreen.js","import axios from 'axios'\nimport Hammer from 'hammerjs'\nimport fscreen from '../lib/fscreen'\n\nimport './Player.css'\n\nexport default class Player {\n  /* 格式化 Action 数据 */\n  static formatActionData(actionData) {\n    return {\n      actions: actionData.actions.map((action, index) => ({\n        ...action,\n        actionId: index,\n        color: action.color,\n        endTime: action.endTime ? Math.round(window.parseFloat(action.endTime) * 10) * 100 : undefined,\n        id: action.id,\n        points: action.points ? action.points.map(point => [window.parseFloat(point.x), window.parseFloat(point.y)]) : undefined,\n        startTime: Math.round(window.parseFloat(action.startTime) * 10) * 100,\n        target: action.target,\n        type: action.type,\n        width: action.width ? window.parseInt(action.width, 10) : undefined,\n        yDistance: action.yDistance ? window.parseInt(action.yDistance, 10) : undefined,\n      })).sort((prev, next) => prev.startTime - next.startTime),\n      draftHeight: window.parseInt(actionData.draftHeight, 10),\n      draftWidth: window.parseInt(actionData.draftWidth, 10),\n      windowHeight: window.parseInt(actionData.windowHeight, 10),\n      windowWidth: window.parseInt(actionData.windowWidth, 10),\n    }\n  }\n\n  constructor({\n    actionUrl,\n    audioUrl,\n    duration,\n    element,\n    imageUrls,\n    mode = 'mobile',\n    size,\n    subtitles,\n  }) {\n    this.actionData = {\n      actions: null,\n      draftHeight: 0,\n      draftWidth: 0,\n      windowHeight: 0,\n      windowWidth: 0,\n    }\n    this.domRefs = {\n      audio: null,\n      images: [],\n      imageContainer: null,\n      playerContainer: element,\n    }\n    this.options = {\n      /* 外部实例化时传入的配置项参数 */\n      actionUrl,\n      audioUrl,\n      duration,\n      element,\n      imageUrls,\n      mode,\n      size,\n      subtitles,\n      /* 滚动一页距离需要的时间，以秒为单位 */\n      scrollDuration: 1,\n      /* 是否自动播放 */\n      autoPlay: mode === 'mobile',\n      /* 字幕初始大小 */\n      captionFontSize: 16,\n    }\n    this.state = {\n      /* 语音文件加载状态 */\n      audioLoadStatus: 'initial',\n      /* 图集加载状态 */\n      imagesLoaded: new Array(imageUrls.length, false),\n      /* 播放器能否开始播放 */\n      canPlay: false,\n      /* setTimeout注册动作的返回值，暂停时需取消已注册的动作 */\n      nextAction: null,\n      nextActionIndex: 0,\n      /* 使用这个取消注册的动画 */\n      animation: null,\n      /* 使用这个注册动画 */\n      animationObj: null,\n      /* 播放器处于暂停或播放状态 */\n      halt: true,\n      /* 播放器是否正在等候加载 */\n      isLoading: true,\n      /* 是否处于网页全屏 */\n      isPageFullscreenOpen: false,\n      /* 草稿纸是否处于打开状态 */\n      isdraftOpen: false,\n      /* 草稿纸的宽度，用于打开草稿纸时进行恢复 */\n      draftWidth: 0,\n      /* 当前使用的草稿纸编号，从1开始 */\n      draftNum: 1,\n      /* 保存所有canvas的context，一个是在课件上绘制笔迹的canvas，其余为草稿纸canvas */\n      contexts: [],\n      /* 保存课件canvas和草稿纸canvas使用的比例 */\n      propotions: [],\n      /* 当前使用的比例 */\n      propotion: 1,\n      /* 当前使用的context */\n      ctx: null,\n      /* 当前显示的字幕索引 */\n      currentSubtitleIndex: 0,\n      /* 字幕数组 */\n      subtitles: this.options.subtitles || [],\n      /* 是否开启字幕 */\n      isCaptionsOpen: mode === 'mobile',\n      /* 播放器的初始宽度，用于退出全屏时进行恢复 */\n      initialWidth: element.offsetWidth,\n      /* 用于记录加载完成后如何恢复状态，分别为正在等待加载的页码和加载成功后恢复的时刻 */\n      wating: {\n        waitingPage: null,\n        waitingTime: null,\n      },\n    }\n    /* html模板 */\n    this.template = {\n      playerControl: `\n        <div class=\"player-main\">\n          <div class=\"player-section-left\">\n            <button class=\"player-section player-play player-button\" title=\"播放\">\n              <i class=\"fa fa-play\"></i>\n            </button>\n            <div class=\"player-section player-time\">\n              <span class=\"current-time\">0</span>\n              <span class=\"player-time-divider\">/</span>\n              <span class=\"duration\">${Player.normalizeTime(this.options.duration)}</span>\n            </div>\n          </div>\n          <div class=\"player-section-right\">\n            <button class=\"${`player-section player-button player-toggle-captions${this.state.isCaptionsOpen ? ' is-active' : ''}`}\" title=\"打开字幕\">\n              <svg viewBox=\"0 0 24 24\" style=\"display: inline-block; fill: currentcolor; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\">\n                <path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z\"></path>\n              </svg>\n            </button>\n            <button class=\"player-section player-button player-page-fullscreen\" title=\"网页全屏\">\n              <svg viewBox=\"0 0 24 24\" style=\"display: inline-block; fill: currentcolor; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\">\n                <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"></path>\n              </svg>\n              <svg viewBox=\"0 0 24 24\" style=\"display: none; fill: currentcolor; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\">\n                <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"></path>\n              </svg>\n            </button>\n            <button class=\"player-section player-button player-fullscreen\" title=\"进入全屏\">\n              <svg viewBox=\"0 0 24 24\" style=\"display: inline-block; fill: currentcolor; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\">\n                <path d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"></path>\n              </svg>\n            </button>\n          </div>\n          <div class=\"player-progress-control\">\n            <div class=\"player-progressbar-wrap\">\n              <div class=\"player-progressbar\">\n                <div class=\"player-progressbar-handle\">\n                <i class=\"fa fa-circle\"></i>\n                </div>\n              </div>\n              <div class=\"player-preview\"></div>\n            </div>\n          </div>\n        </div>\n      `,\n      loadTip: `\n        <div class=\"player-load-tip\">\n          <button class=\"player-load-button\">\n            <i class=\"fa fa-play\" aria-hidden=\"true\"></i>\n            <span>${Math.round(size / 1024 / 1024)}MB流量</span>\n          </button>\n          <div class=\"player-loading\">\n            <i class=\"fa fa-spinner fa-spin fa-3x fa-fw\"></i>\n            <div>正在加载...</div>\n          </div>\n        </div>\n      `,\n      draft: `\n        <canvas class=\"draft\"></canvas>\n      `,\n      captions: `\n        <div class=\"player-captions\">\n          ${mode === 'desktop' ? '<i class=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i>' : ''}\n          <span class=\"player-captions-text\">(播放开始时将出现字幕)</span>\n        </div>\n      `,\n    }\n    this.handleAudioLoaded = this.handleAudioLoaded.bind(this)\n    this.loadSource = this.loadSource.bind(this)\n    this.fetchActions()\n  }\n\n  fetchActions() {\n    axios\n      .get(this.options.actionUrl, {\n        baseURL: '',\n        responseType: 'json',\n      })\n      .then((response) => {\n        /* 对数据进行格式化处理 */\n        this.actionData = Player.formatActionData(response.data)\n        this.renderContainer()\n      })\n      .catch((error) => {\n        throw error\n      })\n  }\n\n  /* 渲染播放器的主体结构，添加缓冲提示 */\n  renderContainer() {\n    const {\n      actionData: {\n        windowHeight,\n        windowWidth,\n      },\n      domRefs: {\n        playerContainer,\n      },\n      options: {\n        mode,\n      },\n      template: {\n        loadTip,\n      },\n    } = this\n\n    const container = document.createElement('div')\n    container.className = 'player-image-container'\n    /* 获取到渲染节点的实际宽度，并将该宽度设置为播放器宽度 */\n    const containerWidth = playerContainer.offsetWidth\n    /* 以上面设置的播放器宽度为基准，动态调整播放器的高度，使播放器的宽高比与录制区域的宽高 */\n    /* 比相同 */\n    const containerHeight = containerWidth * windowHeight / windowWidth\n    container.style.width = `${containerWidth}px`\n    container.style.height = `${containerHeight}px`\n\n    /* 渲染正在加载的提示 */\n    const loadTipElem = Player.renderString(container, loadTip)\n    playerContainer.appendChild(container)\n\n    this.domRefs.loadTip = loadTipElem\n    this.domRefs.imageContainer = container\n    this.domRefs.loading = loadTipElem.querySelector('.player-loading')\n\n    const event = new CustomEvent('actionsLoaded')\n    playerContainer.dispatchEvent(event)\n\n    /* 如果为移动端，则显示当前需要下载的资源的大小而不是直接下载资源 */\n    const loadButton = loadTipElem.querySelector('.player-load-button')\n    if (mode === 'mobile') {\n      loadButton.addEventListener('click', this.loadSource)\n    } else {\n      this.loadSource()\n    }\n  }\n\n  loadSource() {\n    const {\n      loadTip,\n    } = this.domRefs\n\n    /* 获取音频资源 */\n    this.loadAudio()\n    /* 获取图片资源 */\n    this.loadImages()\n\n    /* 隐藏加载资源按钮，显示正在加载提示 */\n    loadTip.firstElementChild.style.display = 'none'\n    loadTip.lastElementChild.style.display = 'block'\n  }\n\n  loadAudio() {\n    const audioElement = document.createElement('audio')\n\n    audioElement.addEventListener('canplay', this.handleAudioLoaded)\n    audioElement.addEventListener('canplaythrough', this.handleAudioLoaded)\n    audioElement.addEventListener('loadeddata', this.handleAudioLoaded)\n    audioElement.addEventListener('loadedmetadata', this.handleAudioLoaded)\n\n    audioElement.src = this.options.audioUrl\n\n    this.domRefs.audio = audioElement\n\n    this.state.audioLoadStatus = 'loading'\n  }\n\n  loadImages() {\n    const imageNameRegExp = /p(\\d+)\\.png$/\n\n    const imageUrls = this.options.imageUrls.sort((prev, next) => {\n      const prevImageOrder = Number(prev.match(imageNameRegExp)[1])\n      const nextImageOrder = Number(next.match(imageNameRegExp)[1])\n\n      return prevImageOrder - nextImageOrder\n    })\n    this.options.imageUrls = imageUrls\n\n    /* 图片宽度等于播放器宽度 */\n    const imageWidth = this.domRefs.playerContainer.offsetWidth\n\n    /* 生成图片节点,并请求第一张图片,待第一张请求成功再请求其他图片 */\n    this.domRefs.images = imageUrls.map((imageUrl, index) => {\n      const imageElement = new Image(imageWidth)\n      /* 改变图片下载完成事件处理程序的指定方式 */\n      imageElement.addEventListener('load', this.handleImageLoaded.bind(this, index))\n      return imageElement\n    })\n    this.domRefs.images[0].addEventListener('load', this.handleFirstImageLoaded.bind(this))\n    this.domRefs.images[0].src = imageUrls[0]\n  }\n\n  handleFirstImageLoaded() {\n    this.checkSrcLoadStatus()\n\n    /* 加载剩余的图片 */\n    this.domRefs.images.forEach((imageElem, index) => {\n      if (index) {\n        imageElem.src = this.options.imageUrls[index]\n      }\n    })\n  }\n\n  handleImageLoaded(index) {\n    this.state.imagesLoaded[index] = true\n  }\n\n  handleAudioLoaded() {\n    this.state.audioLoadStatus = 'finish'\n    this.checkSrcLoadStatus()\n  }\n\n  checkSrcLoadStatus() {\n    /* 如果音频加载完成且第一张图片加载完成，播放器可以开始播放 */\n    if (this.state.audioLoadStatus === 'finish' && this.state.imagesLoaded[0] && !this.state.canPlay) {\n      this.state.canPlay = true\n      this.setLoadingTipStatus(false)\n      /* 图片和语音都已经加载完成，可以初始化页面的 HTML 结构了 */\n      this.initHtml()\n      this.bindEvents()\n      this.setDrawTarget()\n      /* 将播放进度调整到开头 */\n      this.changeCurrentTime(0)\n      if (this.options.autoPlay) {\n        this.togglePlay()\n      }\n      this.showPlayerControl()\n    }\n  }\n\n  initHtml() {\n    this.renderImages()\n    this.renderCanvas()\n    this.renderPlayerControl()\n    this.renderCaptions()\n    this.renderAudio()\n    this.renderDraft()\n  }\n\n  setLoadingTipStatus(status) {\n    this.state.isLoading = status\n    this.domRefs.loading.style.display = this.state.isLoading ? 'block' : 'none'\n  }\n\n  renderImages() {\n    const {\n      images,\n      imageContainer,\n    } = this.domRefs\n    /* 挂载图片节点，置于canvas之下 */\n    this.domRefs.pages = []\n    /* 在循环中频繁操作 DOM 是很费时的，最好将要添加的 DOM 元素先添加到一个文档片段中，最 */\n    /* 后一次性添加到文档中 */\n    const fragment = document.createDocumentFragment()\n    images.forEach((image) => {\n      const section = document.createElement('section')\n      section.classList.add('player-image-section')\n      /* 图片撑满画布宽度，高度自适应 */\n      image.classList.add('player-image')\n      section.appendChild(image)\n      this.domRefs.pages.push(section)\n      fragment.appendChild(section)\n    })\n    imageContainer.appendChild(fragment)\n  }\n\n  renderCanvas() {\n    const canvas = document.createElement('canvas')\n    this.domRefs.canvas = canvas\n    const {\n      imageContainer,\n    } = this.domRefs\n    /* canvas的宽和高等于底图容器，注意这里需修改canvas的width和height，而非style */\n    this.setCanvasSize(imageContainer.offsetWidth)\n    canvas.classList.add('player-canvas')\n    imageContainer.appendChild(canvas)\n    const ctx = canvas.getContext('2d')\n    ctx.lineCap = 'round'\n    this.state.contexts.push(ctx)\n    this.setPropotions()\n  }\n\n  renderAudio() {\n    const {\n      audio,\n      playerContainer,\n    } = this.domRefs\n    /* 将音频元素添加到文档中 */\n    playerContainer.appendChild(audio)\n  }\n\n  renderPlayerControl() {\n    const {\n      domRefs: {\n        playerContainer,\n      },\n      options: {\n        mode,\n      },\n      template: {\n        playerControl: playerControlTemplate,\n      },\n    } = this\n\n    const playerControl = Player.renderString(playerContainer, playerControlTemplate)\n\n    /* 将控制条中点节点添加到domRefs中 */\n    this.domRefs.playerControl = playerControl\n    this.domRefs.progressbarWrapper = playerControl.querySelector('.player-progressbar-wrap')\n    this.domRefs.playState = playerControl.querySelector('.player-play')\n    this.domRefs.fullscreen = playerControl.querySelector('.player-fullscreen')\n    this.domRefs.pageFullscreen = playerControl.querySelector('.player-page-fullscreen')\n    this.domRefs.toggleCaptionsButton = playerControl.querySelector('.player-toggle-captions')\n    this.domRefs.duration = playerControl.querySelector('.duration')\n    this.domRefs.currentTime = playerControl.querySelector('.current-time')\n    this.domRefs.progressbar = playerControl.querySelector('.player-progressbar')\n    this.domRefs.preview = playerControl.querySelector('.player-preview')\n    this.domRefs.progressHandle = playerControl.querySelector('.player-progressbar-handle')\n    if (mode === 'mobile') {\n      this.domRefs.pageFullscreen.style.display = 'none'\n    }\n  }\n\n  renderCaptions() {\n    const {\n      playerContainer,\n      playerControl,\n    } = this.domRefs\n    const captionsNode = Player.renderString(playerContainer, this.template.captions)\n    if (!this.state.isCaptionsOpen) {\n      captionsNode.style.display = 'none'\n    }\n    this.domRefs.captions = captionsNode\n  }\n\n  renderDraft() {\n    const draft = Player.renderString(this.domRefs.imageContainer, this.template.draft)\n    const ctx = draft.getContext('2d')\n    ctx.lineCap = 'round'\n    this.state.contexts.push(ctx)\n    this.domRefs.draft = draft\n    this.setDraftSize()\n  }\n\n  bindEvents() {\n    const {\n      audio,\n      canvas,\n      fullscreen,\n      pageFullscreen,\n      playState,\n      progressbarWrapper,\n      playerControl,\n      progressHandle,\n      toggleCaptionsButton,\n      captions,\n      loadTip,\n    } = this.domRefs\n    this.handlePlayButtonClick = this.handlePlayButtonClick.bind(this)\n    this.handleFullscreenClick = this.handleFullscreenClick.bind(this)\n    this.handleCaptionsMove = this.handleCaptionsMove.bind(this)\n    this.showPlayerControl = this.showPlayerControl.bind(this)\n    this.handleCaptionsDown = this.handleCaptionsDown.bind(this)\n    this.handleCaptionsUp = this.handleCaptionsUp.bind(this)\n    this.toggleFullscreen = this.toggleFullscreen.bind(this)\n    this.togglePageFullscreen = this.togglePageFullscreen.bind(this)\n    this.handleProgressbarOver = this.handleProgressbarOver.bind(this)\n    this.handleProgressbarleave = this.handleProgressbarleave.bind(this)\n    this.handleSeekMousedown = this.handleSeekMousedown.bind(this)\n    /* 添加PC端事件 */\n    if (this.options.mode === 'desktop') {\n      playerControl.addEventListener('mouseenter', this.showPlayerControl)\n      playerControl.addEventListener('mousemove', this.showPlayerControl)\n      loadTip.addEventListener('mouseenter', this.showPlayerControl)\n      loadTip.addEventListener('mousemove', this.showPlayerControl)\n      loadTip.addEventListener('click', this.handlePlayButtonClick)\n      fullscreen.addEventListener('click', this.toggleFullscreen)\n      pageFullscreen.addEventListener('click', this.togglePageFullscreen)\n      progressbarWrapper.addEventListener('mouseover', this.handleProgressbarOver)\n      progressbarWrapper.addEventListener('mouseleave', this.handleProgressbarleave)\n      progressbarWrapper.addEventListener('mousemove', this.handleProgressbarOver)\n      progressHandle.addEventListener('mousedown', this.handleSeekMousedown)\n      captions.addEventListener('mousedown', this.handleCaptionsDown)\n    }\n    /* 添加公共事件 */\n    audio.addEventListener('timeupdate', this.handleTimeUpdate.bind(this))\n    audio.addEventListener('ended', this.handleEnded.bind(this))\n    playState.addEventListener('click', this.handlePlayButtonClick)\n    fscreen.addEventListener('fullscreenchange', this.handleFullscreenChange.bind(this))\n    toggleCaptionsButton.addEventListener('click', this.toggleCaptions.bind(this))\n    progressbarWrapper.addEventListener('click', this.handleProgressbarClick.bind(this))\n    window.addEventListener('orientationchange', this.handleRotateScreen.bind(this))\n    window.addEventListener('resize', this.handleWindowResize.bind(this))\n    /* 添加移动端事件 */\n    this.handlePlayerTap = this.handlePlayerTap.bind(this)\n    this.handleProgressPanStart = this.handleProgressPanStart.bind(this)\n    this.handleProgressPanMove = this.handleProgressPanMove.bind(this)\n    this.handleCaptionsPress = this.handleCaptionsPress.bind(this)\n    this.handleCaptionsPressUp = this.handleCaptionsPressUp.bind(this)\n    this.handleCaptionsPanMove = this.handleCaptionsPanMove.bind(this)\n    const handleHammer = new Hammer(progressHandle)\n    handleHammer.on('panstart', this.handleProgressPanStart)\n    handleHammer.on('panleft panright', this.handleProgressPanMove)\n    const captionsHammer = new Hammer(captions)\n    captionsHammer.get('pan').set({\n      direction: Hammer.DIRECTION_ALL,\n    })\n    captionsHammer.get('press').set({\n      time: 500,\n    })\n    captionsHammer.on('press', this.handleCaptionsPress)\n    captionsHammer.on('panleft panright panup pandown', this.handleCaptionsPanMove)\n    captionsHammer.on('panend', this.handleCaptionsPressUp)\n    const fullscreenHammer = new Hammer(fullscreen)\n    fullscreenHammer.on('tap', this.toggleFullscreen)\n    const loadTipHammer = new Hammer(loadTip)\n    loadTipHammer.on('tap', this.handlePlayerTap)\n    loadTipHammer.on('panstart', this.handleProgressPanStart)\n    loadTipHammer.on('panleft panright', this.handleProgressPanMove)\n  }\n\n  handleCaptionsPress() {\n    const {\n      captions,\n    } = this.domRefs\n    /* 长按字幕可以拖动 */\n    this.canCaptionsMove = true\n    this.captionsStartX = captions.offsetLeft\n    this.captionsStartY = captions.offsetTop\n  }\n\n  handleCaptionsPressUp() {\n    this.canCaptionsMove = false\n  }\n\n  handleCaptionsPanMove(e) {\n    if (this.canCaptionsMove) {\n      const left = this.captionsStartX + e.deltaX\n      const top = this.captionsStartY + e.deltaY\n      this.setCaptionsOffset(left, top)\n    }\n  }\n\n  handleProgressPanStart() {\n    /* 当滑动开始时，记录下起始的时间 */\n    const {\n      audio,\n    } = this.domRefs\n    this.panStartTime = audio.currentTime\n  }\n\n  handleProgressPanMove(e) {\n    const {\n      domRefs: {\n        progressbarWrapper,\n      },\n      options: {\n        duration,\n      },\n    } = this\n\n    const percent = e.deltaX / progressbarWrapper.offsetWidth\n    const deltaTime = duration * percent\n    let time = this.panStartTime + deltaTime\n    time = Math.min(duration, time)\n    time = Math.max(0, time)\n    this.showPlayerControl()\n    this.changeCurrentTime(time * 1000)\n  }\n\n  handlePlayerTap(e) {\n    e.preventDefault()\n    this.showPlayerControl()\n  }\n\n  handleCaptionsDown(e) {\n    const {\n      captions,\n    } = this.domRefs\n    document.addEventListener('mousemove', this.handleCaptionsMove)\n    document.addEventListener('mouseup', this.handleCaptionsUp)\n    this.captionsStartX = captions.offsetLeft\n    this.captionsStartY = captions.offsetTop\n    this.cursorStartX = e.clientX\n    this.cursorStartY = e.clientY\n  }\n\n  handleCaptionsUp() {\n    document.removeEventListener('mousemove', this.handleCaptionsMove)\n    document.removeEventListener('mouseup', this.handleCaptionsUp)\n  }\n\n  handleCaptionsMove(e) {\n    const distX = e.clientX - this.cursorStartX\n    const distY = e.clientY - this.cursorStartY\n    const left = this.captionsStartX + distX\n    const top = this.captionsStartY + distY\n    this.setCaptionsOffset(left, top)\n  }\n\n  setCaptionsOffset(left, top) {\n    const {\n      captions,\n      playerContainer,\n      playerControl,\n    } = this.domRefs\n    const parentWidth = playerContainer.offsetWidth\n    const parentHeight = playerContainer.offsetHeight\n    const captionsLeftMax = parentWidth - captions.offsetWidth\n    const captionsBottomMax = parentHeight - captions.offsetHeight\n\n    let leftOffset = left\n    leftOffset = Math.max(0, leftOffset)\n    leftOffset = Math.min(captionsLeftMax, leftOffset)\n    captions.style.left = `${leftOffset / parentWidth * 100}%`\n\n    /* 这里设置字幕的bottom值而非top，是考虑到用户一般会将字幕放到视频的下半部分，\n    所以需要避免字幕过多时超出播放器的下限，但仍然有超出上限的危险 */\n    let bottomOffset = parentHeight - top - captions.offsetHeight\n    bottomOffset = Math.max(playerControl.offsetHeight, bottomOffset)\n    bottomOffset = Math.min(captionsBottomMax, bottomOffset)\n    captions.style.bottom = `${bottomOffset / parentHeight * 100}%`\n  }\n\n  handleWindowResize() {\n    const {\n      playerContainer,\n    } = this.domRefs\n    const currentWidth = playerContainer.offsetWidth\n    /* 如果播放器节点的宽度没有改变，则无需重设播放器宽度 */\n    if (!this.lastWidth || this.lastWidth !== currentWidth) {\n      this.resizePlayer(playerContainer.offsetWidth)\n    }\n    this.lastWidth = currentWidth\n  }\n\n  handleEnded() {\n    /* 将播放器暂停 */\n    this.togglePlay()\n    /* 恢复初始状态 */\n    this.changeCurrentTime(0)\n  }\n\n  handleSeekMousedown() {\n    this.handleSeekMousemove = this.handleSeekMousemove.bind(this)\n    this.handleSeekMouseup = this.handleSeekMouseup.bind(this)\n    document.addEventListener('mousemove', this.handleSeekMousemove)\n    document.addEventListener('mouseup', this.handleSeekMouseup)\n  }\n\n  handleSeekMousemove(e) {\n    this.changeProgressbarHandle(e)\n  }\n\n  handleSeekMouseup() {\n    document.removeEventListener('mousemove', this.handleSeekMousemove)\n    document.removeEventListener('mouseup', this.handleSeekMouseup)\n  }\n  /* 全屏状态时点击控制条之外的部分都会暂停 */\n  handleFullscreenClick(e) {\n    const {\n      playerControl,\n    } = this.domRefs\n    if (playerControl !== e.target && !(playerControl.contains(e.target))) {\n      this.handlePlayButtonClick(e)\n    }\n  }\n  /* 根据全屏时屏幕尺寸计算播放器需放大到的尺寸 */\n  getFullscreenSize() {\n    /* 重设播放器的高宽，使之撑满屏幕 */\n    const {\n      height,\n      width,\n    } = window.screen\n\n    const {\n      windowHeight,\n      windowWidth,\n    } = this.actionData\n\n    const propotion1 = height / width\n    const propotion2 = windowHeight / windowWidth\n    let containerHeight\n    let containerWidth\n    /* 如果宽度撑满，高度会超出屏幕，则选择撑满高度 */\n    if (propotion2 > propotion1) {\n      containerHeight = height\n      containerWidth = containerHeight / propotion2\n    } else {\n      containerWidth = width\n      containerHeight = containerWidth * propotion2\n    }\n    return containerWidth\n  }\n\n  handleRotateScreen() {\n    /* 若旋转了屏幕且此时处于全屏状态，需变更播放器尺寸 */\n    if (fscreen.fullscreenElement) {\n      const width = this.getFullscreenSize()\n      this.domRefs.playerContainer.style.width = `${width}px`\n      this.resizePlayer(width)\n    }\n  }\n\n  handleFullscreenChange() {\n    const {\n      domRefs: {\n        fullscreen,\n        pageFullscreen,\n        playerContainer,\n      },\n      options: {\n        mode,\n      },\n      state: {\n        initialWidth,\n        isPageFullscreenOpen,\n      },\n    } = this\n\n    if (fscreen.fullscreenElement) {\n      const fullscreenSize = this.getFullscreenSize()\n      playerContainer.style.width = `${fullscreenSize}px`\n      this.resizePlayer(fullscreenSize)\n\n      fullscreen.title = '退出全屏'\n\n      /* 在全屏状态不可直接设置网页全屏，需先退出才可设置 */\n      if (mode === 'desktop') {\n        pageFullscreen.style.display = 'none'\n      }\n    } else {\n      playerContainer.style.width = isPageFullscreenOpen ? '100%' : `${initialWidth}px`\n      this.resizePlayer(playerContainer.offsetWidth)\n\n      fullscreen.title = '进入全屏'\n      if (mode === 'desktop') {\n        pageFullscreen.style.display = 'inline'\n      }\n    }\n  }\n\n  setPropotions() {\n    const {\n      windowWidth,\n      draftHeight,\n    } = this.actionData\n    const {\n      imageContainer,\n    } = this.domRefs\n    const {\n      propotions,\n    } = this.state\n    propotions[0] = imageContainer.offsetWidth / windowWidth\n    propotions[1] = imageContainer.offsetHeight / draftHeight\n  }\n\n  /* 根据mountNode的宽度设置播放器各部件大小 */\n  resizePlayer(containerWidth) {\n    const {\n      audio,\n      playerControl,\n      captions,\n    } = this.domRefs\n    const {\n      windowWidth,\n      windowHeight,\n    } = this.actionData\n\n    const containerHeight = windowHeight / windowWidth * containerWidth\n\n    /* 如果全屏，播放器控制条占满宽度 */\n    let translateX = 0\n    let controlWidth = containerWidth\n    if (fscreen.fullscreenElement) {\n      controlWidth = window.screen.width\n      translateX = (window.screen.width - containerWidth) / 2\n    }\n    playerControl.style.width = `${controlWidth}px`\n\n    /* 全屏时将控制条移到最左侧 */\n    playerControl.style.transform = `translateX(${-translateX}px)`\n    this.setContainerSize(containerWidth, containerHeight)\n    this.setCanvasSize(containerWidth)\n\n    /* 修改播放器size后与原始大小的比例发生了变化 */\n    this.setPropotions()\n    this.setDrawTarget()\n    this.setDraftSize()\n    this.changeCurrentTime(audio.currentTime * 1000)\n\n    /* 调整字幕字体大小 */\n    const propotion = containerWidth / this.state.initialWidth\n    captions.style.fontSize = `${this.options.captionFontSize * propotion}px`\n  }\n\n  toggleFullscreen() {\n    const {\n      playerContainer,\n    } = this.domRefs\n    if (fscreen.fullscreenElement) {\n      fscreen.exitFullscreen()\n    } else {\n      fscreen.requestFullscreen(playerContainer)\n    }\n  }\n\n  togglePageFullscreen() {\n    const {\n      playerContainer,\n      pageFullscreen,\n    } = this.domRefs\n    this.state.isPageFullscreenOpen = !this.state.isPageFullscreenOpen\n    if (this.state.isPageFullscreenOpen) {\n      /* 改变图标 */\n      pageFullscreen.firstElementChild.style.display = 'none'\n      pageFullscreen.lastElementChild.style.display = 'inline-block'\n\n      /* 网页全屏的含义是将播放器宽度设成100%，使其撑满包裹元素 */\n      playerContainer.style.width = '100%'\n      this.resizePlayer(playerContainer.offsetWidth)\n    } else {\n      pageFullscreen.firstElementChild.style.display = 'inline-block'\n      pageFullscreen.lastElementChild.style.display = 'none'\n\n      /* 退出网页全屏即将宽度恢复原值 */\n      playerContainer.style.width = `${this.state.initialWidth}px`\n      this.resizePlayer(playerContainer.offsetWidth)\n    }\n  }\n\n  toggleCaptions() {\n    const {\n      isCaptionsOpen,\n    } = this.state\n    const {\n      toggleCaptionsButton,\n      captions,\n    } = this.domRefs\n    this.state.isCaptionsOpen = !isCaptionsOpen\n    if (this.state.isCaptionsOpen) {\n      toggleCaptionsButton.classList.add('is-active')\n      captions.style.display = 'block'\n    } else {\n      toggleCaptionsButton.classList.remove('is-active')\n      captions.style.display = 'none'\n    }\n  }\n\n  setContainerSize(width, height) {\n    const {\n      imageContainer,\n    } = this.domRefs\n    imageContainer.style.width = `${width}px`\n    imageContainer.style.height = `${height}px`\n  }\n\n  /* 修改 canvas 元素的尺寸，其中宽度与播放器的宽度相同，高度设置为与图集中最大高度的图片的 */\n  /* 高度相同 */\n  setCanvasSize(width) {\n    const {\n      images,\n      canvas,\n      playerContainer,\n    } = this.domRefs\n    canvas.width = width\n    const height = images.reduce((max, cur) => Math.max(max, cur.offsetHeight), 0)\n    canvas.height = Math.max(height, playerContainer.offsetHeight)\n  }\n\n  setDraftSize() {\n    const {\n      draft,\n      imageContainer,\n    } = this.domRefs\n    const {\n      draftWidth,\n    } = this.actionData\n    const {\n      propotions,\n    } = this.state\n    const height = imageContainer.offsetHeight\n    const width = draftWidth * propotions[1]\n    draft.width = width\n    draft.height = height\n    this.state.draftWidth = width\n  }\n\n  handleTimeUpdate(e) {\n    this.rerenderTimeInfo()\n    const time = e.target.currentTime * 1000\n    this.changeDisplaySubtitle(time)\n  }\n\n  rerenderTimeInfo() {\n    const {\n      domRefs: {\n        audio,\n        currentTime,\n        duration: durationEl,\n        progressbar,\n      },\n      options: {\n        duration,\n      },\n    } = this\n\n    currentTime.textContent = Player.normalizeTime(audio.currentTime)\n    durationEl.textContent = Player.normalizeTime(duration)\n    progressbar.style.width = `${audio.currentTime / duration * 100}%`\n  }\n\n  handleProgressbarOver(e) {\n    const {\n      domRefs: {\n        preview,\n      },\n      options: {\n        duration,\n      },\n    } = this\n\n    let time = this.getCursorTime(e)\n    time /= 1000\n    preview.style.left = `${time / duration * 100}%`\n    preview.style.visibility = 'visible'\n  }\n\n  handleProgressbarleave() {\n    const {\n      preview,\n    } = this.domRefs\n    preview.style.visibility = 'hidden'\n  }\n\n  handleProgressbarClick(e) {\n    this.changeProgressbarHandle(e)\n  }\n\n  changeProgressbarHandle(e) {\n    const time = this.getCursorTime(e)\n    this.changeCurrentTime(time)\n  }\n\n  showPlayerControl() {\n    const {\n      playerControl,\n    } = this.domRefs\n    if (this.hidePlayerControl) {\n      window.clearTimeout(this.hidePlayerControl)\n    }\n    playerControl.classList.remove('fade-out')\n    playerControl.style.opacity = '1'\n    this.hidePlayerControl = window.setTimeout(this.fadeOutPlayerControl.bind(this), 3000)\n  }\n\n  fadeOutPlayerControl() {\n    if (!(this.state.halt)) {\n      this.domRefs.playerControl.classList.add('fade-out')\n    }\n  }\n  /* 获得鼠标放置位置的时间 */\n  getCursorTime(e) {\n    const wrapper = document.querySelector('.player-progressbar-wrap')\n    let dist = e.clientX - wrapper.getBoundingClientRect().left\n    dist = Math.max(0, dist)\n    let percent = dist / wrapper.clientWidth\n    percent = Math.min(percent, 1.0)\n    const time = this.options.duration * percent * 1000\n    return time\n  }\n\n  handlePlayButtonClick(e) {\n    e.preventDefault()\n    e.stopPropagation()\n    this.togglePlay()\n  }\n\n  togglePlay() {\n    const {\n      playState,\n    } = this.domRefs\n    this[this.state.halt ? 'play' : 'halt']()\n    this.state.halt = !(this.state.halt)\n    playState.title = this.state.halt ? '播放' : '暂停'\n    playState.firstElementChild.className = this.state.halt ? 'fa fa-play' : 'fa fa-pause'\n    this.showPlayerControl()\n  }\n\n  /* 用于正在缓冲时暂停播放,此函数不改变状态变量 */\n  wait() {\n    this.setLoadingTipStatus(true)\n    this.halt()\n  }\n\n  halt() {\n    this.domRefs.audio.pause()\n    window.clearTimeout(this.state.nextAction)\n    window.cancelAnimationFrame(this.state.animation)\n  }\n\n  /* 用于缓冲结束时继续播放 */\n  continue() {\n    this.setLoadingTipStatus(false)\n    if (!this.state.halt) {\n      this.domRefs.audio.play()\n    }\n  }\n\n  play() {\n    this.domRefs.audio.play()\n    this.registerNextAction()\n    this.registerNextAnimation()\n  }\n\n  waitPageLoading(waitingPage, waitingTime) {\n    /* 等待加载的过程中暂停播放 */\n    this.wait()\n\n    /* 记录等待的页码和时间 */\n    this.state.waiting = { waitingPage, waitingTime }\n\n    /* 侦听等待图片的load事件，使得加载完成后可自动恢复播放 */\n    this.domRefs.images[waitingPage].addEventListener('load', () => {\n      const { waiting, isLoading } = this.state\n      const { waitingPage: currentWaitingPage, waitingTime: currentWaitingTime } = waiting\n\n      /* 如果当前正在加载，且当前等待的页码和时间与之前一致，则恢复播放，\n      之所以要进行后面两个判断，是因为可能在等待加载的过程中又调整了进度，这时等待的页码和时间可能与之前不同 */\n      if (isLoading && currentWaitingPage === waitingPage && waitingTime === currentWaitingTime) {\n        /* 在此函数内只需根据情况打开音频，因为changeCurrentTime会注册板书动作 */\n        this.continue()\n\n        /* 由于等待的页码已经加载成功，此时可以顺利地调整时间 */\n        this.changeCurrentTime(waitingTime)\n      }\n    })\n  }\n\n  /* 移动进度条时调用的函数，time单位为ms */\n  changeCurrentTime(time) {\n    const {\n      domRefs: {\n        audio,\n      },\n      state: {\n        imagesLoaded,\n      },\n    } = this\n    /* 调整音频时间秒 */\n    audio.currentTime = time / 1000\n    this.rerenderTimeInfo()\n\n    /* 若该时刻的图片还未加载完成，待加载完成再进行动作 */\n    const page = this.getPageByTime(time)\n    if (!imagesLoaded[page]) {\n      this.waitPageLoading(page, time)\n      return\n    }\n\n    if (this.state.isLoading) {\n      this.continue()\n    }\n\n    /* 取消已注册的动作 */\n    window.clearTimeout(this.state.nextAction)\n    /* 取消当前动画 */\n    window.cancelAnimationFrame(this.state.animation)\n    this.state.animationObj = null\n    /* 转到time时刻所在的页面 */\n    this.pageTo(page)\n    /* 恢复课件在time时刻的状态 */\n    this.setPageState(page, time)\n    /* 恢复草稿纸在time时刻的状态 */\n    this.setDraftState(time)\n    /* 设置下一个要注册的动作 */\n    const next = this.getNextAction(time)\n    if (next) {\n      this.state.nextActionIndex = next.actionId\n    } else {\n      this.state.nextActionIndex = -1\n    }\n    if (!(this.state.halt)) {\n      this.registerNextAction()\n      this.registerNextAnimation()\n    }\n    /* 重新渲染播放器控制条 */\n    this.changeDisplaySubtitle(time)\n  }\n\n  registerNextAction() {\n    const {\n      actionData: {\n        actions,\n      },\n      domRefs: {\n        audio,\n      },\n      state: {\n        nextActionIndex,\n      },\n    } = this\n    if (nextActionIndex >= actions.length || nextActionIndex < 0) {\n      return\n    }\n    this.state.nextAction = window.setTimeout(() => {\n      this.handleNextAction(true)\n    }, actions[nextActionIndex].startTime - audio.currentTime * 1000)\n  }\n\n  registerNextAnimation() {\n    const {\n      animationObj,\n    } = this.state\n    if (animationObj) {\n      const {\n        elaspedTime,\n      } = animationObj\n      animationObj.startTime = Date.now() - elaspedTime\n      this.state.animation = requestAnimationFrame(this.drawPoint.bind(this))\n    }\n  }\n\n  handleNextAction(needRegist) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    const nextAction = actions[this.state.nextActionIndex]\n    switch (nextAction.type) {\n      case 'path':\n        this.drawPath(nextAction, needRegist)\n        break\n      case 'arrow':\n        this.drawArrow(nextAction, needRegist)\n        break\n      case 'scroll':\n        this.scroll(nextAction, needRegist)\n        break\n      case 'page':\n        this.page(nextAction, needRegist)\n        break\n      case 'withdraw':\n        this.withdraw(nextAction)\n        break\n      case 'clear':\n        this.clear(nextAction)\n        break\n      case 'eliminate':\n        this.eliminate(nextAction)\n        break\n      case 'draft':\n        this.draft(nextAction)\n        break\n      default:\n        break\n    }\n    /* 注册下一个动作 */\n    if (needRegist && this.state.nextActionIndex < actions.length - 1) {\n      ++this.state.nextActionIndex\n      this.registerNextAction()\n    }\n  }\n\n  handleActions(actions, time) {\n    const {\n      nextActionIndex,\n      ctx,\n      propotion,\n    } = this.state\n    const {\n      canvas,\n    } = ctx\n    actions.forEach((action, i) => {\n      if (i === actions.length - 1 && action.type === 'path') {\n        const {\n          startTime,\n          endTime,\n          points,\n        } = action\n        const duration = endTime - startTime\n        const {\n          length,\n        } = points\n        /* 计算有多少点出现在time时刻前，将这些点直接绘出，其余点需通过动画 */\n        let cnt = Math.floor((time - startTime) / duration * length)\n        cnt = Math.min(cnt, length)\n        ctx.strokeStyle = action.color\n        ctx.lineWidth = Math.max(propotion * action.width, 1.5)\n        /* 记录笔迹动画开始前的canvas数据，动画的每一帧都要恢复一次 */\n        this.backgroundData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n        this.drawPoints(points, cnt)\n        if (cnt >= length) {\n          /* 所有的点都在time时刻前出现，无需注册动画 */\n          this.state.animationObj = null\n        } else {\n          const elaspedTime = duration * (cnt / length)\n          this.state.animationObj = {\n            points,\n            startTime: Date.now() - elaspedTime,\n            duration,\n            elaspedTime,\n          }\n        }\n      } else {\n        this.state.nextActionIndex = action.actionId\n        this.handleNextAction(false)\n      }\n    })\n    this.state.nextActionIndex = nextActionIndex\n  }\n  /* 绘制points[0-end) */\n  drawPoints(points, end) {\n    const {\n      ctx,\n      propotion,\n    } = this.state\n    ctx.beginPath()\n    points.slice(0, end).forEach((point, i) => {\n      const x = point[0] * propotion\n      const y = point[1] * propotion\n      if (i === 0) {\n        ctx.moveTo(x, y)\n      } else {\n        ctx.lineTo(x, y)\n      }\n    })\n    ctx.stroke()\n  }\n\n  drawPath(action, animate) {\n    const {\n      points,\n      width,\n      color,\n      startTime,\n      endTime,\n    } = action\n    const {\n      ctx,\n      propotion,\n    } = this.state\n    if (!points.length) {\n      return\n    }\n    ctx.lineWidth = width * propotion\n    ctx.lineWidth = Math.max(1.5, ctx.lineWidth)\n    ctx.strokeStyle = color\n    if (!animate) {\n      this.drawPoints(points, points.length - 1)\n    } else {\n      const duration = endTime - startTime\n      /* 保存在绘制路径前canvas的数据 */\n      this.backgroundData = ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height)\n      this.state.animationObj = {\n        points,\n        startTime: Date.now(),\n        duration,\n        elaspedTime: 0,\n      }\n      this.state.animation = requestAnimationFrame(this.drawPoint.bind(this))\n    }\n  }\n\n  drawPoint() {\n    if (!this.state.animationObj) {\n      return\n    }\n    const {\n      points,\n      startTime,\n      duration,\n    } = this.state.animationObj\n    const {\n      ctx,\n      propotion,\n    } = this.state\n    const {\n      length,\n    } = points\n    /* 清空画布，再重绘背景 */\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n    ctx.putImageData(this.backgroundData, 0, 0)\n    /* 计算在这一帧中需要画多少个点 */\n    const elaspedTime = Date.now() - startTime\n    const percent = elaspedTime / duration\n    let cnt = Math.ceil(points.length * percent)\n    cnt = Math.min(cnt, length)\n    ctx.beginPath()\n    for (let k = 0; k < cnt; ++k) {\n      const point = points[k]\n      const x = point[0] * propotion\n      const y = point[1] * propotion\n      if (k === 0) {\n        ctx.moveTo(x, y)\n      } else {\n        ctx.lineTo(x, y)\n      }\n    }\n    ctx.stroke()\n    if (cnt < length) {\n      this.state.animationObj.elaspedTime = elaspedTime\n      this.state.animation = requestAnimationFrame(this.drawPoint.bind(this))\n    } else {\n      this.state.animation = null\n      this.state.animationObj = null\n    }\n  }\n\n  drawArrow(action) {\n    const {\n      propotion,\n      ctx,\n    } = this.state\n    const {\n      points,\n    } = action\n    ctx.lineWidth = action.width * propotion\n    ctx.fillStyle = action.color\n    /* 起始点 */\n    const x1 = points[0][0] * propotion\n    const y1 = points[0][1] * propotion\n    /* 结束点 */\n    const x2 = points[1][0] * propotion\n    const y2 = points[1][1] * propotion\n    /* 箭杆长度 */\n    const r = Math.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)\n    const aX = x2 - (10 * propotion * (y1 - y2) / r)\n    const aY = y2 - (10 * propotion * (x2 - x1) / r)\n    const bX = x2 + (20 * propotion * (x2 - x1) / r)\n    const bY = y2 - (20 * propotion * (y1 - y2) / r)\n    const cX = x2 + (10 * propotion * (y1 - y2) / r)\n    const cY = y2 + (10 * propotion * (x2 - x1) / r)\n    const dX = x2 - (5 * propotion * (y1 - y2) / r)\n    const dY = y2 - (5 * propotion * (x2 - x1) / r)\n    const eX = x2 + (5 * propotion * (y1 - y2) / r)\n    const eY = y2 + (5 * propotion * (x2 - x1) / r)\n    ctx.beginPath()\n    ctx.moveTo(x1, y1)\n    ctx.lineTo(dX, dY)\n    ctx.lineTo(aX, aY)\n    ctx.lineTo(bX, bY)\n    ctx.lineTo(cX, cY)\n    ctx.lineTo(eX, eY)\n    ctx.fill()\n  }\n\n  clear() {\n    const {\n      ctx,\n    } = this.state\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n  }\n  /* 清除一些线 */\n  eliminate(action) {\n    if (this.state.isdraftOpen) {\n      this.setDraftState(action.startTime + 1)\n    } else {\n      const currentPage = this.getPageByTime(action.startTime)\n      this.setPageState(currentPage, action.startTime + 1)\n    }\n  }\n  /* 撤销当前页的上一个绘制操作 */\n  withdraw(action) {\n    if (this.state.isdraftOpen) {\n      this.setDraftState(action.startTime + 1)\n    } else {\n      const currentPage = this.getPageByTime(action.startTime)\n      this.setPageState(currentPage, action.startTime + 1)\n    }\n  }\n\n  draft(action) {\n    this.toggleDraft(action.status === 'open', true)\n  }\n\n  toggleDraft(open, animate) {\n    const {\n      draft,\n    } = this.domRefs\n    draft.style.transition = animate ? 'width 0.2s linear' : 'none'\n    if (open) {\n      draft.style.width = `${this.state.draftWidth}px`\n      this.state.isdraftOpen = true\n    } else {\n      draft.style.width = '0'\n      this.state.isdraftOpen = false\n    }\n    this.setDrawTarget()\n  }\n\n  /* 根据草稿纸是否打开，切换当前使用的canvas及比例 */\n  setDrawTarget() {\n    const {\n      isdraftOpen,\n      draftNum,\n      propotions,\n      contexts,\n    } = this.state\n    let ctxIndex = 0\n    let propIndex = 0\n    if (isdraftOpen) {\n      ctxIndex = draftNum\n      propIndex = 1\n    }\n    this.state.ctx = contexts[ctxIndex]\n    this.state.propotion = propotions[propIndex]\n  }\n\n  scroll(action, animate) {\n    const {\n      images,\n      canvas,\n    } = this.domRefs\n    const {\n      scrollDuration,\n    } = this.options\n    const {\n      propotion,\n    } = this.state\n    const currentPage = this.getPageByTime(action.startTime)\n    const image = images[currentPage]\n    /* 移动图片和canvas */\n    const offsetY = action.yDistance * propotion\n    let orginOffset = 0\n    const tmp = image.style.transform.match(/translateY\\(-(.*)px\\)/)\n    if (tmp) {\n      orginOffset = window.parseInt(tmp[1], 10)\n    }\n    const dist = Math.abs(orginOffset - offsetY)\n    const duration = dist / image.offsetHeight * propotion * scrollDuration\n    if (animate) {\n      image.style.transition = `transform ${duration}s linear`\n      canvas.style.transition = `transform ${duration}s linear`\n    } else {\n      image.style.transition = ''\n      canvas.style.transition = ''\n    }\n    image.style.transform = `translateY(${-offsetY}px)`\n    canvas.style.transform = `translateY(${-offsetY}px)`\n  }\n\n  page(action, animate) {\n    const {\n      pages,\n    } = this.domRefs\n    const currentPage = this.getPageByTime(action.startTime)\n    const targetPage = currentPage + (action.direction === 'next' ? 1 : -1)\n    if (targetPage >= pages.length || targetPage < 0) {\n      return\n    }\n\n    if (!this.state.imagesLoaded[targetPage]) {\n      this.waitPageLoading(targetPage, action.startTime - 1)\n      return\n    }\n\n    /* 转到该页 */\n    this.pageTo(targetPage, animate)\n    this.setPageState(targetPage, action.startTime)\n  }\n\n  setPageState(page, time) {\n    const {\n      images,\n    } = this.domRefs\n    /* 关闭草稿纸，将笔迹绘制在课件上 */\n    this.state.isdraftOpen = false\n    this.setDrawTarget()\n    const {\n      ctx,\n    } = this.state\n    const {\n      canvas,\n    } = ctx\n    /* 重做该页之前发生过的所有动作 */\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n    /* 因为之后要重做在page页上发生的动作（包括滚动），所以这里将该页的图片和canvas的垂直偏移置为0 */\n    canvas.style.transform = 'translateY(0px)'\n    images[page].style.transform = 'translateY(0px)'\n    const actions = this.getDrawActionsOnPage(page, time)\n    this.handleActions(actions, time)\n  }\n\n  /* 将草稿纸恢复到time时刻的状态 */\n  setDraftState(time) {\n    /* 将草稿纸设置成打开的状态 */\n    this.state.isdraftOpen = true\n    this.setDrawTarget()\n    /* 重新绘制草稿纸上的笔迹 */\n    const {\n      ctx,\n    } = this.state\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n    const draftActions = this.getActionsOnDraft(time)\n    this.handleActions(draftActions, time)\n    /* 设置time时刻草稿纸的状态 */\n    this.state.isdraftOpen = this.getDraftStatus(time) === 'open'\n    this.toggleDraft(this.state.isdraftOpen, false)\n  }\n\n  getDraftStatus(time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    let isdraftOpen = 'close'\n    for (let i = 0; i < actions.length && time > actions[i].startTime; ++i) {\n      const action = actions[i]\n      if (action.type === 'draft') {\n        isdraftOpen = action.status\n      }\n    }\n    return isdraftOpen\n  }\n\n  getActionsOnDraft(time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    const res = []\n    let isdraftOpen = false\n    for (let i = 0; i < actions.length && time > actions[i].startTime; ++i) {\n      const action = actions[i]\n      if (action.type === 'draft') {\n        isdraftOpen = (action.status === 'open')\n        continue\n      }\n      if (isdraftOpen) {\n        res.push(action)\n      }\n    }\n    return Player.filterActions(res)\n  }\n\n  pageTo(targetIndex, animate) {\n    const {\n      pages,\n    } = this.domRefs\n    pages.forEach((page) => {\n      page.style.transition = animate ? 'transform 0.2s ease' : 'none'\n      page.style.transform = `translateY(-${page.offsetHeight * targetIndex}px)`\n    })\n  }\n\n  /* 返回time时刻所在的页码 */\n  getPageByTime(time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    let page = 0\n    for (let i = 0; i < actions.length && actions[i].startTime < time; ++i) {\n      if (actions[i].type === 'page') {\n        page += actions[i].direction === 'prev' ? -1 : 1\n      }\n    }\n    return page\n  }\n  /* 获得time时刻前在page上进行过的所有未被撤销、未被清除的移动和绘制操作 */\n  getDrawActionsOnPage(page, time) {\n    return Player.filterActions(this.getActionsOnPage(page, time))\n  }\n  /* 根据撤销和消除操作对actions进行过滤 */\n  static filterActions(actions) {\n    /* 需要收集的动作类型 */\n    const includeTypes = ['arrow', 'scroll', 'path', 'clear', 'eliminate']\n    /* 可以被撤销的动作类型 */\n    const withdrawTypes = ['arrow', 'path', 'clear', 'eliminate']\n    const res = []\n    let eliminatedIds = []\n    for (let i = 0; i < actions.length; ++i) {\n      const action = actions[i]\n      /* 只收集进行的移动和绘制操作 */\n      if (includeTypes.indexOf(action.type) !== -1) {\n        /* 判断这个操作是否被之后的撤销操作撤销了 */\n        let withdraw = false\n        if (withdrawTypes.indexOf(action.type) !== -1) {\n          /* 若cnt变为0，则说明这个动作被撤销了 */\n          let cnt = 1\n          /* 这里加入了对page类型的判断，因为如果翻页之后再翻回来，之前的操作便不可撤销了 */\n          for (let j = i + 1; j < actions.length && actions[j].type !== 'page'; ++j) {\n            if (actions[j].type === 'withdraw') {\n              --cnt\n              if (!cnt) {\n                withdraw = true\n                break\n              }\n            }\n            if (withdrawTypes.indexOf(actions[j].type) !== -1) {\n              ++cnt\n            }\n          }\n        }\n        if (!withdraw) {\n          if (action.type === 'eliminate') {\n            eliminatedIds = eliminatedIds.concat(action.eliminateIds)\n          } else {\n            res.push(action)\n          }\n        }\n      }\n    }\n    return res.filter(action => !action.id || eliminatedIds.indexOf(action.id) === -1)\n  }\n  /* time时刻在page上进行的动作 */\n  getActionsOnPage(page, time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    let currentPage = 0\n    const res = []\n    let isdraftOpen = false\n    for (let i = 0; i < actions.length && actions[i].startTime < time; ++i) {\n      const action = actions[i]\n      if (action.type === 'draft') {\n        isdraftOpen = action.status === 'open'\n        continue\n      }\n      if (currentPage === page && !isdraftOpen) {\n        res.push(action)\n      }\n      if (action.type === 'page') {\n        currentPage += action.direction === 'next' ? 1 : -1\n      }\n    }\n    return res\n  }\n  /* 返回time时刻的下一个动作 */\n  getNextAction(time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    for (let i = 0; i < actions.length; ++i) {\n      const {\n        startTime,\n      } = actions[i]\n      if (startTime >= time) {\n        return actions[i]\n      }\n    }\n  }\n\n  /* 将秒表示的时间转换为00:00:00格式 */\n  static normalizeTime(time) {\n    /* 精确到s */\n    time = Math.floor(time)\n    const hours = Math.floor(time / 3600)\n    const remain = time % 3600\n    const minutes = Math.floor(remain / 60)\n    const seconds = remain % 60\n    let res = ''\n    /* 如果短于1h，不要小时段 */\n    res += hours ? `${hours}:` : ''\n    /* 如果前面有小时段，分钟至少为两位数 */\n    if (hours && minutes < 10) {\n      res += '0'\n    }\n    res += `${minutes}:`\n    if (seconds < 10) {\n      res += '0'\n    }\n    res += seconds\n    return res\n  }\n\n  changeDisplaySubtitle(currentTime) {\n    const {\n      subtitles,\n      isCaptionsOpen,\n      currentSubtitleIndex,\n    } = this.state\n    const {\n      playerContainer,\n      captions,\n    } = this.domRefs\n    if (!subtitles.length) {\n      return\n    }\n    /* 如果当前时间比现在字幕的时间小，则从索引0开始查，否则从当前索引开始查 */\n    const begin = parseFloat(subtitles[currentSubtitleIndex].beginTime) > currentTime ? 0 : currentSubtitleIndex\n    let res = -1\n    let hasSubtitle = false\n    let i\n    for (i = begin; i < subtitles.length && parseFloat(subtitles[i].beginTime) <= currentTime; ++i) {\n      if (parseFloat(subtitles[i].endTime) >= currentTime) {\n        hasSubtitle = true\n        res = i\n        break\n      }\n    }\n    if (!hasSubtitle) {\n      res = Math.min(subtitles.length - 1, i)\n    }\n    /* 更新播放器字幕节点文本内容 */\n    if (isCaptionsOpen) {\n      if (hasSubtitle) {\n        captions.style.display = 'block'\n        captions.lastElementChild.textContent = subtitles[res].text\n      } else {\n        captions.style.display = 'none'\n      }\n    }\n    const event = new CustomEvent('subtitlechange', {\n      detail: {\n        hasSubtitle,\n        subtitleIndex: res,\n      },\n    })\n    playerContainer.dispatchEvent(event)\n    this.state.currentSubtitleIndex = res\n  }\n\n  /* 渲染 string 表示的 HTML 元素并将之插入到第一个参数所指向的元素中，之后返回该元素 */\n  static renderString(parent, string) {\n    const elem = document.createElement('div')\n    elem.innerHTML = string\n    /* 注意调用appenChild会将之从原来的parent节点remove掉,并附加在新parent的最后 */\n    parent.appendChild(elem.firstElementChild)\n    return parent.lastElementChild\n  }\n\n  updateSubtitles(subtitles) {\n    this.state.subtitles = subtitles\n  }\n\n  /* 将播放器节点从dom树中移除 */\n  unmount() {\n    const {\n      playerContainer,\n    } = this.domRefs\n    playerContainer.parentNode.removeChild(playerContainer)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Player/Player/src/Player.js","<template>\n  <div class='commentContainer'>\n\n    <!-- 评论输入框 -->\n    <mt-field\n      class='commentInput'\n      placeholder='评论'\n      disableClear\n      v-model='myComment'\n    >\n      <i\n        class='fa fa-picture-o'\n        style='font-size: 20px;'\n        v-if='!preview0'\n        @click='isShowUploadImagesDialog = true'\n      />\n      <img\n        width='35px'\n        v-if='preview0'\n        :src='preview0'\n      />\n      <mt-button\n        style='margin-left: 10px; height: 35px; background-color: #418642; color: #FFF'\n        @click='confirmComment()'\n      >\n        提交\n      </mt-button>\n    </mt-field>\n\n    <!-- 评论容器 -->\n    <div\n      class='commentCell'\n      v-for='(comment, index) in commentList'\n      :key='comment.id'\n    >\n      <div class='commentTop'>\n        <img\n          class='avatar'\n          :src='comment.avatar'\n        />\n        <span class='userName'>{{comment.userName}}</span>\n        <div class='approve'>\n          <i\n            class='fa fa-thumbs-o-up'\n            style='font-size: 18px; margin-right: 5px;'\n            :id='\"approve\" + comment.id'\n            @click='approveHandle(index, 0, 1)'\n          />\n          <span>{{comment.approve.length}}</span>\n        </div>\n      </div>\n      <p class='text'>{{comment.text}}</p>\n      <div\n        class='imagesBox'\n        v-if='comment.images.length'\n      >\n        <img\n          class='textImg'\n          :src='img'\n          v-for='img in comment.images'\n          @click='showImg(img)'\n        >\n      </div>\n      <span style='color: gray; font-size: 12px;'>\n        {{formatTime(comment.createTime)}}\n      </span>\n      <span\n        class='replyBtn'\n        @click='handleOnReply(index, -1, \"comment\")'\n      >\n        回复({{comment.replies.length}})\n      </span>\n      <span\n        class='deleteBtn'\n        v-if='userType === \"master\" || userType === comment.accountId'\n        @click='handleOnDeleteComment(comment.id)'\n      >\n        删除\n      </span>\n    </div>\n    <h3 v-if='!commentList.length' style='color: gray'>暂无评论，快来评论吧！</h3>\n\n    <!-- 图片上传弹框 -->\n    <mt-popup\n      class='imagesUploadDialog'\n      popup-transition='popup-fade'\n      v-model='isShowUploadImagesDialog'\n    >\n      <div>\n        <p style='padding-bottom: 10px; color: #555'>最多可上传3张图片</p>\n        <div style='display: flex; align-items: center;'>\n          <img :src='preview0' v-if='preview0 !== \"\"' height='100px' style='border-radius: 5px; border: solid 1px #DDD; margin-right: 10px;'>\n          <img :src='preview1' v-if='preview1 !== \"\"' height='100px' style='border-radius: 5px; border: solid 1px #DDD; margin-right: 10px;'>\n          <img :src='preview2' v-if='preview2 !== \"\"' height='100px' style='border-radius: 5px; border: solid 1px #DDD; margin-right: 10px;'>\n          <i\n            class='fa fa-plus-square-o'\n            style='font-size: 100px; padding-left: 10px; padding-right: 10px; border-radius: 5px; border: solid 1px #DDD;'\n            v-if='preview2 === \"\"'\n            @click='clickUploadImageInputForComment'\n          />\n          <input\n            ref='uploadImageInputForComment'\n            accept='image/*'\n            type='file'\n            multiple\n            style='display: none'\n            :value='inputImage'\n            @change='handleInputChange'\n          />\n        </div>\n        <div style='display: flex; justify-content: center; align-self: center; margin-top: 30px;'>\n          <mt-button\n            style='margin-right: 10px; padding-left: 30px; padding-right: 30px;'\n            @click='confirmUploadImages'\n          >\n            确定\n          </mt-button>\n          <mt-button\n            style='margin-left: 10px; padding-left: 30px; padding-right: 30px;'\n            @click='cancelUploadImages'\n          >\n            取消\n          </mt-button>\n        </div>\n      </div>\n    </mt-popup>\n\n    <!-- 回复的弹框 -->\n    <mt-popup\n      class='replyPop'\n      position='right'\n      v-if='Object.keys(commentObj).length'\n      v-model='replyVisible'\n    >\n      <div>\n        <mt-button\n          style='margin-top: 10px; margin-bottom: 10px; padding-left: 10px; padding-right: 10px;'\n          @click='replyVisible = false'\n        >\n          返回\n        </mt-button>\n      </div>\n      <div class='commentCell'>\n        <div class='commentTop'>\n          <img\n            class='avatar'\n            :src='commentObj.avatar'\n          />\n          <span class='userName'>{{commentObj.userName}}</span>\n          <div class='approve'>\n            <i\n              class='fa fa-thumbs-o-up'\n              style='font-size: 18px; margin-right: 5px;'\n              :id='\"approvepop\" + commentObj.id'\n              @click='approveHandle(-1, 0, 1)'\n            />\n            <span>{{approveL}}</span>\n          </div>\n        </div>\n        <p class='text'>{{commentObj.text}}</p>\n        <div\n          class='imagesBox'\n          v-if='commentObj.images.length'\n        >\n          <img\n            class='textImg'\n            :src='img'\n            v-for='img in commentObj.images'\n            @click='showImg(img)'\n          >\n        </div>\n        <span style='color: gray; font-size: 12px;'>\n          {{formatTime(commentObj.createTime)}}\n        </span>\n        <span\n          class='replyBtn'\n          @click='handleOnReply(-1, -1, \"comment\")'\n        >\n          回复({{replyList.length}})\n        </span>\n      </div>\n      <hr>\n      <div\n        class='commentCell'\n        v-for='(reply, i) in replyList'\n      >\n        <div class='commentTop'>\n          <img\n            class='avatar'\n            :src='reply.avatar'\n          />\n          <span class='userName'>{{reply.userName}}</span>\n          <span style='font-size: 14px; color:gray; margin-left: 5px; margin-right: 5px;'>@:</span>\n          <span class='userName'>{{reply.originUserName}}</span>\n          <div class='approve'>\n            <i\n              class='fa fa-thumbs-o-up'\n              style='font-size: 18px; margin-right: 5px;'\n              :id='\"approve\" + reply.id'\n              @click='approveHandle(index, i, 2)'\n            />\n            <span>{{reply.approve.length}}</span>\n          </div>\n        </div>\n        <p class='text'>{{reply.text}}</p>\n        <div\n          class='imagesBox'\n          v-if='reply.images.length'\n        >\n          <img\n            class='textImg'\n            :src='img'\n            v-for='img in reply.images'\n            @click='showImg(img)'\n          />\n        </div>\n        <span style='color: gray; font-size: 12px;'>\n          {{formatTime(reply.createTime)}}\n        </span>\n        <span\n          class='replyBtn'\n          @click='handleOnReply(-1, i, \"reply\")'\n        >\n          回复\n        </span>\n        <span\n          class='deleteBtn'\n          v-if='userType === \"master\" || userType === reply.accountId'\n          @click='handleOnDeleteReply(commentObj.id, reply.id)'\n        >\n          删除\n        </span>\n      </div>\n    </mt-popup>\n\n    <!-- 回复对话框 -->\n    <mt-popup\n      class='imagesUploadDialog'\n      v-model='rrVisible'\n    >\n      <mt-field\n        class='replyInput'\n        placeholder='请输入回复'\n        v-model='replyText'\n      />\n      <div style='text-align: left;margin-top: 5px;'>\n        <p style='font-size: 12px;color:gray;margin:0 12px'>至多可提交3张图片</p>\n        <img :src='preview0' v-if=' preview0 !== \"\" ' height='70px' style='margin-left: 10px;'>\n        <img :src='preview1' v-if=' preview1 !== \"\" ' height='70px' >\n        <img :src='preview2' v-if=' preview2 !== \"\" ' height='70px' >\n        <i\n          class='fa fa-plus-square-o'\n          style='font-size: 70px;margin-left: 5%;' v-if=' preview2 === \"\" '\n          @click='clickUploadImageInputForReply'\n        />\n        <input\n          ref='uploadImageInputForReply'\n          type='file'\n          accept='image/*'\n          multiple\n          style='display: none'\n          :value='inputImage'\n          @change='handleInputChange'\n        >\n      </div>\n      <div style='display: flex; justify-content: center; align-self: center; margin-top: 30px;'>\n        <mt-button\n          style='margin-right: 10px; padding-left: 30px; padding-right: 30px;'\n          @click='confirmReply'\n        >\n          确定\n        </mt-button>\n        <mt-button\n          style='margin-left: 10px; padding-left: 30px; padding-right: 30px;'\n          @click='cancleReply'\n        >\n          取消\n        </mt-button>\n      </div>\n    </mt-popup>\n\n    <mt-popup\n      position='right'\n      class='showImg'\n      v-model='showImgVisible'\n    >\n      <img\n        style='width: 100%; height: 100%;'\n        :src='showImgUrl'\n      />\n    </mt-popup>\n  </div>\n</template>\n\n<script>\n\nimport { Toast } from 'mint-ui'\nimport { Indicator } from 'mint-ui'\nimport Viewer from 'viewerjs'\n\nexport default {\n  name: 'Comment',\n\n  props: {\n    docId: {\n      type: String,\n      required: true,\n    },\n    comments: {\n      type: Array,\n      required: true,\n    },\n    userType: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      activeCommentIndex: -1,\n      activeReplyIndex: -1,\n      approveL: 0,\n      approveList: [],\n      commentId: '',\n      commentList: this.comments,\n      commentObj: {},\n      images: [],\n      index: -1,\n      inputImage: '',\n      /* 是否显示底部评论工具条的 */\n      isShowUploadImagesDialog: false,\n      myComment: '',\n      preview0: '',\n      preview1: '',\n      preview2: '',\n      replyFormData: new FormData(),\n      replyId: -1,\n      replyList: [],\n      replyText: '',\n      replyType: '',\n      replyVisible: false,\n      rrVisible: false,\n      showImgUrl: '',\n      showImgVisible: false,\n      uploadFile: [],\n    }\n  },\n\n  watch: {\n    comments() {\n      this.commentList = this.comments\n\n      if (this.activeCommentIndex !== -1 && this.replyVisible) {\n        this.commentObj = this.commentList[this.activeCommentIndex]\n      }\n    },\n\n    commentObj() {\n      if (Object.keys(this.commentObj).length) {\n        this.approveL = this.commentObj.approve.length\n        this.replyList = this.commentObj.replies\n\n        this.replyFormData = new FormData()\n        this.replyFormData.append('commentId', this.commentObj.id)\n        if (this.replyType === 'comment') {\n          this.replyFormData.append('sourceId', this.commentObj.accountId)\n        } else {\n          this.replyFormData.append('sourceId', this.commentObj.replies[this.activeReplyIndex].accountId)\n        }\n      }\n    },\n\n    replyVisible() {\n      if (!this.replyVisible) {\n        this.commentObj = {}\n      }\n    },\n  },\n\n  methods: {\n    confirmComment() {\n      if (this.myComment === '' && this.preview0 === '') {\n        Toast('请输入评论')\n      } else {\n        const formData = new FormData()\n        formData.append('text', this.myComment)\n        formData.append('docId', this.docId)\n        this.uploadFile.forEach((file) => {\n          formData.append('files', file)\n        })\n\n        Indicator.open('发表评论中')\n\n        this\n          .$http\n          .post('/comments/', formData)\n          .then((respones) => {\n            /* 触发提交评论成功事件，更新外部传入的评论数据 */\n            this.$emit('addCommentSuccess', respones.data)\n          })\n          .then(() => {\n            Indicator.close()\n            Toast({\n              message: '评论成功',\n              iconClass: 'fa fa-check',\n            })\n          })\n          .catch((error) => {\n            if (process.env.NODE_ENV === 'development') {\n              throw error\n            } else {\n              Indicator.close()\n              Toast({\n                message: '评论失败',\n                iconClass: 'fa fa-exclamation-triangle',\n              })\n            }\n          })\n\n        this.myComment = ''\n        this.removeUploadImages()\n      }\n    },\n\n    /* 处于评论状态时点击上传图片按钮 */\n    clickUploadImageInputForComment() {\n      this.inputImage = ''\n      this.$refs.uploadImageInputForComment.click()\n    },\n\n    /* 处于回复状态时点击上传图片按钮 */\n    clickUploadImageInputForReply() {\n      this.inputImage = ''\n      this.$refs.uploadImageInputForReply.click()\n    },\n\n    /* 转换文件类型 */\n    handleInputChange(event) {\n      if (event.target.files) {\n        this.uploadFile = Array.from(event.target.files)\n        this.uploadFile.forEach((file) => {\n          if (this.preview0 === '') {\n            this.preview0 = window.URL.createObjectURL(file)\n          } else if (this.preview1 === '') {\n            this.preview1 = window.URL.createObjectURL(file)\n          } else {\n            this.preview2 = window.URL.createObjectURL(file)\n          }\n        })\n      }\n    },\n\n    /* 确认上传图片 */\n    confirmUploadImages() {\n      this.isShowUploadImagesDialog = false\n    },\n\n    /* 取消上传图片 */\n    cancelUploadImages() {\n      this.isShowUploadImagesDialog = false\n      this.removeUploadImages()\n    },\n\n    /* 删除图片相关 */\n    removeUploadImages() {\n      this.uploadFile = []\n      this.preview0 = ''\n      this.preview1 = ''\n      this.preview2 = ''\n    },\n\n    showImg(imgUrl) {\n      this.showImgUrl = imgUrl\n      this.showImgVisible = true\n    },\n\n    /* 点击回复按钮（这个函数写的什么几把玩意儿） */\n    /* 当 index 非负， i 为 -1，type 为 comment 时，表示当前点击回复按钮的操作是在评论列表中触发的，index 表示被回复的评论的数组下标 */\n    /* 当 index 为 -1，i 为 -1，type 为 comment 时，表示当前点击回复按钮的操作是在回复对话框中评论的下面触发的 */\n    /* 当 index 为 -1，i 非负，type 为 reply 时，表示当前点击回复按钮的操作是在回复对话框回复列表中触发的，index 表示被回复的回复的数组下标 */\n    handleOnReply(index, i, type) {\n      /* 设置处于活动状态的评论 */\n      if (index !== -1) {\n        this.activeCommentIndex = index\n      }\n\n      /* 设置处于活动状态的回复 */\n      if (i !== -1) {\n        this.activeReplyIndex = i\n      }\n\n      /* 设置回复的类型，目前分为回复评论和回复回复 */\n      this.replyType = type\n\n      this.commentObj = this.commentList[this.activeCommentIndex]\n\n      this.replyVisible = true\n      this.rrVisible = true\n    },\n\n    /* 确认回复 */\n    confirmReply() {\n      this.rrVisible = false\n      this.confirmUploadImages()\n\n      if (this.replyText === '' && this.preview0 === '') {\n        Toast('请输入回复')\n      } else {\n        Indicator.open('发表回复中')\n\n        this.uploadFile.forEach((file) => {\n          this.replyFormData.append('files', file)\n        })\n        this.replyFormData.append('text', this.replyText)\n\n        this.preview0 = ''\n\n        this\n          .$http\n          .post(`/comments/${this.commentList[this.activeCommentIndex].id}/reply`, this.replyFormData)\n          .then((respones) => {\n            this.$emit('addReplySuccess', respones.data)\n\n            this.replyText = ''\n            this.replyFormData = new FormData()\n            this.removeUploadImages()\n\n            /* 关闭上传评论提示 */\n            Indicator.close()\n            Toast({\n              message: '回复成功',\n              iconClass: 'icon icon-success',\n            })\n          })\n          .catch((error) => {\n            if (process.env.NODE_ENV === 'development') {\n              throw error\n            } else {\n              /* 关闭上传评论提示 */\n              Indicator.close()\n              Toast({\n                message: '回复失败',\n                iconClass: 'fa fa-exclamation-triangle',\n              })\n            }\n          })\n      }\n    },\n\n    /* 取消回复 */\n    cancleReply() {\n      this.removeUploadImages()\n      this.rrVisible = false\n      this.replyText = ''\n    },\n\n    /* 点赞 */\n    approveHandle(index, i, type) {\n      if (index === -1) {\n        index = this.activeCommentIndex\n      }\n      if (type === 1) {\n        /* 点赞评论 */\n        this.commentId = this.commentList[index].id\n        this.accountId = this.commentList[index].accountId\n        this.approveList = this.commentList[index].approve\n      } else {\n        /* 点赞回复 */\n        this.commentId = this.commentList[index].replies[i].id\n        this.accountId = this.commentList[index].replies[i].accountId\n        this.approveList = this.commentList[index].replies[i].approve\n      }\n      /* 检查此评论是否被点赞过（查找list中有没有这个accountId） */\n      if (this.approveList.indexOf(this.accountId) === -1) {\n        document.getElementById(`approve${this.commentId}`).style.color = '#2196F3'\n        if (document.getElementById(`approvepop${this.commentId}`)) {\n          document.getElementById(`approvepop${this.commentId}`).style.color = '#2196F3'\n        }\n        this.approveList.push(this.accountId)\n        if (type === 1) {\n          this.approveL = this.approveList.length\n        }\n        this\n          .$http\n          .put(`/comments/${this.commentId}/approve`, { approve: true })\n      } else {\n        const cancleIndex = this.approveList.indexOf(this.accountId)\n        this.approveList.splice(cancleIndex, 1)\n        if (type === 1) {\n          this.approveL = this.approveList.length\n        }\n        document.getElementById(`approve${this.commentId}`).style.color = 'black'\n        if (document.getElementById(`approvepop${this.commentId}`)) {\n          document.getElementById(`approvepop${this.commentId}`).style.color = 'black'\n        }\n        this.$http.put(`/comments/${this.commentId}/approve`, { approve: false })\n      }\n    },\n\n    /* 格式化时间 */\n    formatTime(time) {\n      const parseTime = new Date(time)\n\n      return `${parseTime.getFullYear()}-${parseTime.getMonth() + 1}-${parseTime.getDate()} ${this.paddingNumberWithZero(parseTime.getHours())}:${this.paddingNumberWithZero(parseTime.getMinutes())}:${this.paddingNumberWithZero(parseTime.getSeconds())}`\n    },\n\n    /* 针对只有个位的数字，返回一个前置补零的字符串 */\n    paddingNumberWithZero(number) {\n      return number > 9 ? String(number) : `0${number}`\n    },\n\n    handleOnDeleteComment(commentId) {\n      this.$emit('handleOnDeleteComment', commentId)\n    },\n\n    handleOnDeleteReply(commentId, replyId) {\n      this.$emit('handleOnDeleteReply', commentId, replyId)\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.commentContainer {\n  margin: 10px 10px 60px;\n}\n\n.commentInput {\n  position: fixed;\n  z-index: 200;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  border-top: 1px solid #AAA;\n}\n\n.commentCell {\n  margin-bottom: 10px;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: #EEE;\n}\n\n.commentTop {\n  position: relative;\n  display: flex;\n  width: 100%;\n  align-items: center;\n}\n\n.avatar {\n  width: 25px;\n  height: 25px;\n  border: 1px solid lightgray;\n  border-radius: 50%;\n}\n\n.userName {\n  font-size: 16px;\n  color: #5082B4;\n  margin-left: 5px;\n}\n\n.approve {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  transform: translate(0, -50%);\n  display: inline-flex;\n  align-items: center;\n}\n\n.text {\n  padding: 5px 30px;\n  word-wrap: break-word;\n}\n\n.imagesBox {\n  padding-left: 30px;\n}\n\n.mint-indicator-wrapper {\n  z-index: 2100 !important;\n}\n\n.mint-toast {\n  z-index: 2100 !important;\n}\n\n.changeColor {\n  color: blue;\n}\n\n.line {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  border: 0.5px solid #ddd;\n}\n\n.top {\n  margin-bottom: 10px;\n}\n\n.showImg {\n  width: 80%;\n  margin-right: 10%;\n}\n\n.imagesUploadDialog {\n  box-sizing: border-box;\n  min-width: 80%;\n  min-height: 200px;\n  max-height: 400px;\n  padding: 10px;\n  border-radius: 5px;\n}\n\n.textImg {\n  width: 60px;\n  height: 60px;\n  font-size: 14px;\n  display: inline-block;\n  padding: 5px;\n}\n\n.replyPop {\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  padding-left: 10px;\n  padding-right: 10px;\n  box-sizing: border-box;\n}\n\n.replyBtnCell {\n  float: right;\n}\n\n.deleteBtn,\n.replyBtn {\n  font-size: 14px;\n  padding: 0 8px;\n  color: #60898b;\n}\n\n.replyInput {\n  margin: 20px 10px;\n  margin-bottom: 0px;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n}\n\n.replyCell {\n  margin-top: -10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Player/Comment/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"commentContainer\"},[_c('mt-field',{staticClass:\"commentInput\",attrs:{\"placeholder\":\"评论\",\"disableClear\":\"\"},model:{value:(_vm.myComment),callback:function ($$v) {_vm.myComment=$$v},expression:\"myComment\"}},[(!_vm.preview0)?_c('i',{staticClass:\"fa fa-picture-o\",staticStyle:{\"font-size\":\"20px\"},on:{\"click\":function($event){_vm.isShowUploadImagesDialog = true}}}):_vm._e(),_vm._v(\" \"),(_vm.preview0)?_c('img',{attrs:{\"width\":\"35px\",\"src\":_vm.preview0}}):_vm._e(),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"margin-left\":\"10px\",\"height\":\"35px\",\"background-color\":\"#418642\",\"color\":\"#FFF\"},on:{\"click\":function($event){_vm.confirmComment()}}},[_vm._v(\"\\n      提交\\n    \")])],1),_vm._v(\" \"),_vm._l((_vm.commentList),function(comment,index){return _c('div',{key:comment.id,staticClass:\"commentCell\"},[_c('div',{staticClass:\"commentTop\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":comment.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(comment.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"approve\"},[_c('i',{staticClass:\"fa fa-thumbs-o-up\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"5px\"},attrs:{\"id\":\"approve\" + comment.id},on:{\"click\":function($event){_vm.approveHandle(index, 0, 1)}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(comment.approve.length))])])]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(comment.text))]),_vm._v(\" \"),(comment.images.length)?_c('div',{staticClass:\"imagesBox\"},_vm._l((comment.images),function(img){return _c('img',{staticClass:\"textImg\",attrs:{\"src\":img},on:{\"click\":function($event){_vm.showImg(img)}}})})):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"gray\",\"font-size\":\"12px\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.formatTime(comment.createTime))+\"\\n    \")]),_vm._v(\" \"),_c('span',{staticClass:\"replyBtn\",on:{\"click\":function($event){_vm.handleOnReply(index, -1, \"comment\")}}},[_vm._v(\"\\n      回复(\"+_vm._s(comment.replies.length)+\")\\n    \")]),_vm._v(\" \"),(_vm.userType === \"master\" || _vm.userType === comment.accountId)?_c('span',{staticClass:\"deleteBtn\",on:{\"click\":function($event){_vm.handleOnDeleteComment(comment.id)}}},[_vm._v(\"\\n      删除\\n    \")]):_vm._e()])}),_vm._v(\" \"),(!_vm.commentList.length)?_c('h3',{staticStyle:{\"color\":\"gray\"}},[_vm._v(\"暂无评论，快来评论吧！\")]):_vm._e(),_vm._v(\" \"),_c('mt-popup',{staticClass:\"imagesUploadDialog\",attrs:{\"popup-transition\":\"popup-fade\"},model:{value:(_vm.isShowUploadImagesDialog),callback:function ($$v) {_vm.isShowUploadImagesDialog=$$v},expression:\"isShowUploadImagesDialog\"}},[_c('div',[_c('p',{staticStyle:{\"padding-bottom\":\"10px\",\"color\":\"#555\"}},[_vm._v(\"最多可上传3张图片\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[(_vm.preview0 !== \"\")?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"solid 1px #DDD\",\"margin-right\":\"10px\"},attrs:{\"src\":_vm.preview0,\"height\":\"100px\"}}):_vm._e(),_vm._v(\" \"),(_vm.preview1 !== \"\")?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"solid 1px #DDD\",\"margin-right\":\"10px\"},attrs:{\"src\":_vm.preview1,\"height\":\"100px\"}}):_vm._e(),_vm._v(\" \"),(_vm.preview2 !== \"\")?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"solid 1px #DDD\",\"margin-right\":\"10px\"},attrs:{\"src\":_vm.preview2,\"height\":\"100px\"}}):_vm._e(),_vm._v(\" \"),(_vm.preview2 === \"\")?_c('i',{staticClass:\"fa fa-plus-square-o\",staticStyle:{\"font-size\":\"100px\",\"padding-left\":\"10px\",\"padding-right\":\"10px\",\"border-radius\":\"5px\",\"border\":\"solid 1px #DDD\"},on:{\"click\":_vm.clickUploadImageInputForComment}}):_vm._e(),_vm._v(\" \"),_c('input',{ref:\"uploadImageInputForComment\",staticStyle:{\"display\":\"none\"},attrs:{\"accept\":\"image/*\",\"type\":\"file\",\"multiple\":\"\"},domProps:{\"value\":_vm.inputImage},on:{\"change\":_vm.handleInputChange}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-self\":\"center\",\"margin-top\":\"30px\"}},[_c('mt-button',{staticStyle:{\"margin-right\":\"10px\",\"padding-left\":\"30px\",\"padding-right\":\"30px\"},on:{\"click\":_vm.confirmUploadImages}},[_vm._v(\"\\n          确定\\n        \")]),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"margin-left\":\"10px\",\"padding-left\":\"30px\",\"padding-right\":\"30px\"},on:{\"click\":_vm.cancelUploadImages}},[_vm._v(\"\\n          取消\\n        \")])],1)])]),_vm._v(\" \"),(Object.keys(_vm.commentObj).length)?_c('mt-popup',{staticClass:\"replyPop\",attrs:{\"position\":\"right\"},model:{value:(_vm.replyVisible),callback:function ($$v) {_vm.replyVisible=$$v},expression:\"replyVisible\"}},[_c('div',[_c('mt-button',{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\",\"padding-left\":\"10px\",\"padding-right\":\"10px\"},on:{\"click\":function($event){_vm.replyVisible = false}}},[_vm._v(\"\\n        返回\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"commentCell\"},[_c('div',{staticClass:\"commentTop\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.commentObj.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(_vm.commentObj.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"approve\"},[_c('i',{staticClass:\"fa fa-thumbs-o-up\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"5px\"},attrs:{\"id\":\"approvepop\" + _vm.commentObj.id},on:{\"click\":function($event){_vm.approveHandle(-1, 0, 1)}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.approveL))])])]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.commentObj.text))]),_vm._v(\" \"),(_vm.commentObj.images.length)?_c('div',{staticClass:\"imagesBox\"},_vm._l((_vm.commentObj.images),function(img){return _c('img',{staticClass:\"textImg\",attrs:{\"src\":img},on:{\"click\":function($event){_vm.showImg(img)}}})})):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"gray\",\"font-size\":\"12px\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.formatTime(_vm.commentObj.createTime))+\"\\n      \")]),_vm._v(\" \"),_c('span',{staticClass:\"replyBtn\",on:{\"click\":function($event){_vm.handleOnReply(-1, -1, \"comment\")}}},[_vm._v(\"\\n        回复(\"+_vm._s(_vm.replyList.length)+\")\\n      \")])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_vm._l((_vm.replyList),function(reply,i){return _c('div',{staticClass:\"commentCell\"},[_c('div',{staticClass:\"commentTop\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":reply.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(reply.userName))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"14px\",\"color\":\"gray\",\"margin-left\":\"5px\",\"margin-right\":\"5px\"}},[_vm._v(\"@:\")]),_vm._v(\" \"),_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(reply.originUserName))]),_vm._v(\" \"),_c('div',{staticClass:\"approve\"},[_c('i',{staticClass:\"fa fa-thumbs-o-up\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"5px\"},attrs:{\"id\":\"approve\" + reply.id},on:{\"click\":function($event){_vm.approveHandle(_vm.index, i, 2)}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(reply.approve.length))])])]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(reply.text))]),_vm._v(\" \"),(reply.images.length)?_c('div',{staticClass:\"imagesBox\"},_vm._l((reply.images),function(img){return _c('img',{staticClass:\"textImg\",attrs:{\"src\":img},on:{\"click\":function($event){_vm.showImg(img)}}})})):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"gray\",\"font-size\":\"12px\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.formatTime(reply.createTime))+\"\\n      \")]),_vm._v(\" \"),_c('span',{staticClass:\"replyBtn\",on:{\"click\":function($event){_vm.handleOnReply(-1, i, \"reply\")}}},[_vm._v(\"\\n        回复\\n      \")]),_vm._v(\" \"),(_vm.userType === \"master\" || _vm.userType === reply.accountId)?_c('span',{staticClass:\"deleteBtn\",on:{\"click\":function($event){_vm.handleOnDeleteReply(_vm.commentObj.id, reply.id)}}},[_vm._v(\"\\n        删除\\n      \")]):_vm._e()])})],2):_vm._e(),_vm._v(\" \"),_c('mt-popup',{staticClass:\"imagesUploadDialog\",model:{value:(_vm.rrVisible),callback:function ($$v) {_vm.rrVisible=$$v},expression:\"rrVisible\"}},[_c('mt-field',{staticClass:\"replyInput\",attrs:{\"placeholder\":\"请输入回复\"},model:{value:(_vm.replyText),callback:function ($$v) {_vm.replyText=$$v},expression:\"replyText\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\",\"margin-top\":\"5px\"}},[_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"gray\",\"margin\":\"0 12px\"}},[_vm._v(\"至多可提交3张图片\")]),_vm._v(\" \"),( _vm.preview0 !== \"\" )?_c('img',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"src\":_vm.preview0,\"height\":\"70px\"}}):_vm._e(),_vm._v(\" \"),( _vm.preview1 !== \"\" )?_c('img',{attrs:{\"src\":_vm.preview1,\"height\":\"70px\"}}):_vm._e(),_vm._v(\" \"),( _vm.preview2 !== \"\" )?_c('img',{attrs:{\"src\":_vm.preview2,\"height\":\"70px\"}}):_vm._e(),_vm._v(\" \"),( _vm.preview2 === \"\" )?_c('i',{staticClass:\"fa fa-plus-square-o\",staticStyle:{\"font-size\":\"70px\",\"margin-left\":\"5%\"},on:{\"click\":_vm.clickUploadImageInputForReply}}):_vm._e(),_vm._v(\" \"),_c('input',{ref:\"uploadImageInputForReply\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"multiple\":\"\"},domProps:{\"value\":_vm.inputImage},on:{\"change\":_vm.handleInputChange}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-self\":\"center\",\"margin-top\":\"30px\"}},[_c('mt-button',{staticStyle:{\"margin-right\":\"10px\",\"padding-left\":\"30px\",\"padding-right\":\"30px\"},on:{\"click\":_vm.confirmReply}},[_vm._v(\"\\n        确定\\n      \")]),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"margin-left\":\"10px\",\"padding-left\":\"30px\",\"padding-right\":\"30px\"},on:{\"click\":_vm.cancleReply}},[_vm._v(\"\\n        取消\\n      \")])],1)],1),_vm._v(\" \"),_c('mt-popup',{staticClass:\"showImg\",attrs:{\"position\":\"right\"},model:{value:(_vm.showImgVisible),callback:function ($$v) {_vm.showImgVisible=$$v},expression:\"showImgVisible\"}},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.showImgUrl}})])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b44363e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Player/Comment/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b44363e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b44363e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b44363e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Player/Comment/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class='score'>\n    <div class='left'>\n      <span style='font-size: 16px; font-weight: 800; margin-right: 5px;'>\n        评分:\n      </span>\n      <span style='font-size: 16px; font-weight: 800;'>\n        {{score === -1 ? '暂无评分' : `${score}/5`}}\n      </span>\n    </div>\n    <router-link\n      class='right'\n      v-if='accountId !== -1 && Object.keys(teacherInformation).length'\n      :to='`/teacher/${accountId}`'\n    >\n      <img\n        style='width: 30px; height: 30px; border-radius: 50%;'\n        :src='teacherInformation.avatar'\n      />\n      <span style='color: #000; font-size: 16px;'>\n        {{teacherInformation.name || teacherInformation.nickname}}\n      </span>\n      <i\n        class='fa fa-angle-right'\n        style='color: #000; font-size: 20px;'\n      />\n    </router-link>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Score',\n\n  props: {\n    accountId: {\n      type: Number,\n      required: true,\n    },\n    score: {\n      type: Number,\n      required: true,\n    },\n    teacherInformation: {\n      type: Object,\n      required: true,\n      default: function() {\n        return {}\n      }\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.score {\n  height: 40px;\n  padding: 0 10px;\n  border-bottom: 1px solid #EEE;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.right {\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n}\n\n.right > * {\n  margin-left: 10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Player/Score/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"score\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"800\",\"margin-right\":\"5px\"}},[_vm._v(\"\\n      评分:\\n    \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"800\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.score === -1 ? '暂无评分' : (_vm.score + \"/5\"))+\"\\n    \")])]),_vm._v(\" \"),(_vm.accountId !== -1 && Object.keys(_vm.teacherInformation).length)?_c('router-link',{staticClass:\"right\",attrs:{\"to\":(\"/teacher/\" + _vm.accountId)}},[_c('img',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"border-radius\":\"50%\"},attrs:{\"src\":_vm.teacherInformation.avatar}}),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#000\",\"font-size\":\"16px\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.teacherInformation.name || _vm.teacherInformation.nickname)+\"\\n    \")]),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-angle-right\",staticStyle:{\"color\":\"#000\",\"font-size\":\"20px\"}})]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-292d2f14\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Player/Score/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-292d2f14\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-292d2f14\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-292d2f14\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Player/Score/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div\n    class='subtitles'\n    :style='subtitleContainerMarginTop ? { marginTop: `${subtitleContainerMarginTop}px` } : undefined'\n  >\n    <div\n      class='subtitle'\n      v-for='(subtitle, index) in subtitles'\n      :class='{activeSubtitle: index === activeSubtitleIndex }'\n      :key='subtitle.beginTime'\n      :ref='index === activeSubtitleIndex ? \"activeSubtitle\" : undefined'\n    >\n      <span class='start'>{{formatDuring(subtitle.beginTime)}}</span>\n      <span class='wordstext'>{{subtitle.text}}</span>\n    </div>\n    <h3\n      style='color: gray; margin-top: 100px;'\n      v-if='!subtitles.length'\n    >\n      暂无字幕\n    </h3>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Subtitles',\n\n  props: {\n    activeSubtitleIndex: {\n      type: Number,\n      required: true,\n    },\n    subtitles: {\n      type: Array,\n      required: true,\n    },\n    subtitleContainerMarginTop: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      count: 0,\n      scroll: '',\n      text: '',\n      time: '',\n    }\n  },\n\n  updated() {\n    if (this.$refs.activeSubtitle && this.$refs.activeSubtitle[0]) {\n      const offsetTop = this.$refs.activeSubtitle[0].offsetTop\n      const clientHeight = this.$refs.activeSubtitle[0].clientHeight\n      if (this.$browser.os === 'iOS') {\n        document.body.scrollTop = offsetTop - (window.innerHeight - this.subtitleContainerMarginTop - clientHeight) / 2\n      } else {\n        document.documentElement.scrollTop = offsetTop - (window.innerHeight - this.subtitleContainerMarginTop - clientHeight) / 2\n      }\n    }\n  },\n\n  methods: {\n    formatDuring(mss) {\n      let minutes = parseInt((mss % (1000 * 60 * 60)) / (1000 * 60))\n      let seconds = parseInt((mss % (1000 * 60)) / 1000)\n      if (seconds < 10) {\n        seconds = `0${seconds}`\n      }\n      if (minutes < 10) {\n        minutes = `0${minutes}`\n      }\n      return `${minutes}:${seconds}`\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.subtitles {\n  position: relative;\n  border-top: solid 1px #EEE\n}\n\n.subtitle {\n  text-align: left;\n  font-size: 16px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  color:gray;\n  display: flex;\n  align-items:center;\n  padding: 6px;\n  border-bottom: 1px solid lightgray;\n}\n\n.start {\n  display: inline-block;\n  width: 15%;\n  height: 18px;\n  margin-left: 1%;\n  margin-right: 3%;\n  font-size: 15px;\n}\n\n.wordstext {\n  width: 70%;\n  overflow: hidden;\n  display: inline-block;\n}\n\n.activeSubtitle {\n  color: black;\n  background-color: #DDD;\n  transition: background-color 0.1s;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Player/Subtitles/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subtitles\",style:(_vm.subtitleContainerMarginTop ? { marginTop: (_vm.subtitleContainerMarginTop + \"px\") } : undefined)},[_vm._l((_vm.subtitles),function(subtitle,index){return _c('div',{key:subtitle.beginTime,ref:index === _vm.activeSubtitleIndex ? \"activeSubtitle\" : undefined,refInFor:true,staticClass:\"subtitle\",class:{activeSubtitle: index === _vm.activeSubtitleIndex }},[_c('span',{staticClass:\"start\"},[_vm._v(_vm._s(_vm.formatDuring(subtitle.beginTime)))]),_vm._v(\" \"),_c('span',{staticClass:\"wordstext\"},[_vm._v(_vm._s(subtitle.text))])])}),_vm._v(\" \"),(!_vm.subtitles.length)?_c('h3',{staticStyle:{\"color\":\"gray\",\"margin-top\":\"100px\"}},[_vm._v(\"\\n    暂无字幕\\n  \")]):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5532351d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Player/Subtitles/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5532351d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5532351d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5532351d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Player/Subtitles/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class='container'>\n    <div\n      ref='playerWrapper'\n      :style='selected === \"subtitles\" ? {\n        position: \"fixed\",\n        left: \"0\",\n        top: \"0\",\n        zIndex: \"100\",\n        width: \"100%\",\n      } : undefined'\n    >\n      <MyHeader :title='title' />\n      <div\n        id=\"player\"\n        @actionsLoaded='handleOnSetSubtitleContainerMarginTop'\n        @subtitlechange='handleOnSubtitleChange'\n      />\n      <mt-navbar\n        class='selectToolBar'\n        v-model='selected'\n      >\n        <mt-tab-item\n          id='comment'\n          :style='selected === \"comment\" ? { borderBottom: \"3px solid #418642\" } : undefined'\n        >\n          <span\n            style='font-size: 18px; color: #666; font-weight: 800;'\n            :style='selected === \"comment\" ? { color: \"#418642\" } : undefined'\n          >\n            评论\n          </span>\n        </mt-tab-item>\n        <mt-tab-item\n          id='subtitles'\n          :style='selected === \"subtitles\" ? { borderBottom: \"3px solid #418642\" } : undefined'\n        >\n          <span\n            style='font-size: 18px; color: #666; font-weight: 800;'\n            :style='selected === \"subtitles\" ? { color: \"#418642\" } : undefined'\n          >\n            字幕\n          </span>\n        </mt-tab-item>\n      </mt-navbar>\n    </div>\n    <mt-tab-container v-model='selected'>\n      <mt-tab-container-item id='comment'>\n        <Score\n          :accountId='accountId'\n          :score='score'\n          :teacherInformation='teacherInformation'\n        />\n        <Comment\n          :docId='docId'\n          :comments='comments'\n          :userType='userType'\n          @addCommentSuccess='handleOnAddCommentSuccess'\n          @addReplySuccess='handleOnAddReplySuccess'\n          @handleOnDeleteComment='handleOnDeleteComment'\n          @handleOnDeleteReply='handleOnDeleteReply'\n        />\n      </mt-tab-container-item>\n      <mt-tab-container-item id='subtitles'>\n        <Subtitles\n          :subtitles='subtitles'\n          :activeSubtitleIndex='activeSubtitleIndex'\n          :subtitleContainerMarginTop='subtitleContainerMarginTop'\n        />\n      </mt-tab-container-item>\n    </mt-tab-container>\n  </div>\n</template>\n\n<script>\n\nimport '../Player/Player/src/Player.css'\n\nimport { Indicator } from 'mint-ui'\n\nimport MyHeader from '../MyHeader'\nimport Player from '../Player/Player/src/Player.js'\nimport Comment from './Comment'\nimport Score from './Score'\nimport Subtitles from './Subtitles'\nimport {\n  configWeiXinShare,\n  initWeiXinShareConfig,\n} from '../../utils/weixin'\n\nexport default {\n  name: 'Player',\n\n  data() {\n    return {\n      accountId: -1,\n      activeSubtitleIndex: -1,\n      comments: [],\n      docId: '',\n      myInformation: {},\n      pictures: [],\n      player: {},\n      score: -1,\n      selected: 'comment',\n      subtitleContainerMarginTop: 0,\n      subtitles: [],\n      teacherInformation: {},\n      title: '课程名称',\n      usersInformation: {},\n    }\n  },\n\n  components: {\n    MyHeader,\n    Comment,\n    Score,\n    Subtitles,\n  },\n\n  mounted() {\n    /* 获取当前页面显示所需要的数据 */\n    if (this.$route.params.id) {\n      this.docId = this.$route.params.id\n\n      this\n        .$http\n        .get(`/players/${this.docId}`)\n        .then((respones) => {\n          const {\n            data: {\n              accounts,\n              comments,\n              doc: {\n                accountId,\n                action: actions,\n                defaultAction,\n                name,\n                pictures,\n                ratingStatis: {\n                  star1,\n                  star2,\n                  star3,\n                  star4,\n                  star5,\n                },\n              },\n            },\n          } = respones\n\n          /* 保存当前所有用户的个人信息 */\n          this.usersInformation = accounts\n\n          /* 获取当前文档的作者信息 */\n          this.accountId = accountId\n          this.teacherInformation = this.usersInformation.find((user) => user.id === this.accountId)\n\n          /* 获取当前文档信息 */\n          this.title = name\n\n          /* 获取当前文档的评论和回复信息 */\n          this.comments = comments\n          this.comments.sort((prev, next) => Date.parse(next.createTime) - Date.parse(prev.createTime)).forEach((comment) => {\n            const userInformation = this.usersInformation.find((user) => user.id === comment.accountId)\n            comment.userName = userInformation.name || userInformation.nickname\n            comment.avatar = userInformation.avatar\n            comment.replies.sort((prev, next) => Date.parse(next.createTime) - Date.parse(prev.createTime)).forEach((reply) => {\n              const replyUserInformation = this.usersInformation.find((user) => user.id === reply.accountId)\n              const originUserInformation = this.usersInformation.find((user) => user.id === reply.sourceId)\n              reply.userName = replyUserInformation.name || replyUserInformation.nickname\n              reply.avatar = replyUserInformation.avatar\n              reply.originUserName = originUserInformation.name || originUserInformation.nickname\n              reply.originAvatar = originUserInformation.avatar\n            })\n          })\n\n          /* 获取应当播放的 action */\n          const action = actions.find((action) => action.id === defaultAction)\n\n          /* 获取对应的字幕数据 */\n          this.subtitles = action.subtitle\n\n          this.pictures = pictures\n\n          /* 计算当前文档的评分 */\n          this.score = (star1 + star2 * 2 + star3 * 3 + star4 * 4 + star5 * 5) / (star1 + star2 + star3 + star4 + star5)\n          this.score = window.isNaN(this.score) ? -1 : this.score\n\n          /* 实例化播放器 */\n          if (process.env.NODE_ENV === 'production') {\n            this.player = new Player({\n              actionUrl : action.json,\n              audioUrl  : action.recording,\n              duration  : action.duration,\n              element   : document.getElementById('player'),\n              imageUrls : this.pictures,\n              mode      : 'mobile',\n              size      : action.totalSize,\n              subtitles : action.subtitle,\n            })\n          }\n\n          /* 等到播放器完成初始化并确定了其尺寸的时候触发，用来给字幕组件设置上外边距，防止 */\n          /* 处于固定定位的播放器遮盖底部的字幕组件正常显示 */\n          this.handleOnSetSubtitleContainerMarginTop()\n\n          /* 只有处于生产环境才执行微信 JS-SDK 的初始化操作，并需要在 axios 配置好了以后再执行 */\n          if (process.env.NODE_ENV === 'production') {\n            const title = this.title\n            const coverURL = this.pictures[0]\n            const authorName = this.teacherInformation.name || this.teacherInformation.nickname\n            const authorIntroduction = this.teacherInformation.introduction\n\n            /* 初始化微信 JS-SDK 配置 */\n            initWeiXinShareConfig(window.encodeURIComponent(window.location.href))\n\n            /* 等待微信 JS-SDK 可以使用后自定义分享相关的操作 */\n            window.jWeixin.ready(function() {\n              configWeiXinShare({\n                title  : `${authorName}:《${title}》`,\n                desc   : `${authorIntroduction}`,\n                link   : window.location.href,\n                imgUrl : coverURL,\n              })\n            })\n          }\n        })\n        .catch((error) => {\n          if (process.env.NODE_ENV === 'development') {\n            throw error\n          } else {\n            alert('获取数据错误，请检查访问地址')\n          }\n        })\n    }\n\n    /* 获取当前登录用户的个人信息 */\n    this\n      .$http\n      .get('/accounts')\n      .then(({\n        data: myInformation,\n      }) => {\n        this.myInformation = myInformation\n      })\n  },\n\n  computed: {\n    userType() {\n      if (\n        this.myInformation &&\n        Object.keys(this.myInformation).length\n      ) {\n        /* 当前登录用户是当前文档的上传者 */\n        if (this.myInformation.id === this.teacherInformation) {\n          return 'master'\n        }\n        /* 当前登录用户不是当前文档的上传者，返回当前登录用户的 ID */\n        return this.myInformation.id\n      }\n      return ''\n    },\n  },\n\n  methods: {\n    handleOnSubtitleChange(event) {\n      this.activeSubtitleIndex = event.detail.subtitleIndex\n    },\n\n    handleOnSetSubtitleContainerMarginTop() {\n      this.subtitleContainerMarginTop = this.$refs.playerWrapper.offsetHeight\n    },\n\n    handleOnAddCommentSuccess(comment) {\n      /* 加入评论者的个人信息 */\n      comment.userName = this.myInformation.name || this.myInformation.nickname\n      comment.avatar = this.myInformation.avatar\n\n      this.comments.unshift(comment)\n    },\n\n    handleOnAddReplySuccess(comment) {\n      /* 加入评论者的个人信息 */\n      comment.userName = this.myInformation.name || this.myInformation.nickname\n      comment.avatar = this.myInformation.avatar\n\n      comment.replies.sort((prev, next) => Date.parse(next.createTime) - Date.parse(prev.createTime)).forEach((reply) => {\n        /* 加入回复者和被回复者的个人信息 */\n        const replyUserInformation = this.usersInformation.find((user) => user.id === reply.accountId)\n        const originUserInformation = this.usersInformation.find((user) => user.id === reply.sourceId)\n        reply.userName = replyUserInformation.name || replyUserInformation.nickname\n        reply.avatar = replyUserInformation.avatar\n        reply.originUserName = originUserInformation.name || originUserInformation.nickname\n        reply.originAvatar = originUserInformation.avatar\n      })\n\n      const commentIndex = this.comments.findIndex((_comment) => _comment.id === comment.id)\n      this.comments.splice(commentIndex, 1, comment)\n    },\n\n    handleOnDeleteComment(commentId) {\n      Indicator.open('删除评论中')\n\n      this\n        .$http\n        .delete(`/comments/${commentId}`)\n        .then(() => {\n          Indicator.close()\n          const commentIndex = this.comments.findIndex((_comment) => _comment.id === commentId)\n          this.comments.splice(commentIndex, 1)\n        })\n        .catch((error) => {\n          Indicator.close()\n\n          if (process.env.NODE_ENV === 'development') {\n            throw error\n          } else {\n            alert('删除评论失败，请稍后重试')\n          }\n        })\n    },\n\n    handleOnDeleteReply(commentId, replyId) {\n      Indicator.open('删除回复中')\n\n      this\n        .$http\n        .delete(`/comments/${commentId}/reply/${replyId}`)\n        .then(() => {\n          Indicator.close()\n\n          const comment = this.comments.find((_comment) => _comment.id === commentId)\n          const replyIndex = comment.replies.findIndex((reply) => reply.id === replyId)\n          comment.replies.splice(replyIndex, 1)\n        })\n        .catch((error) => {\n          Indicator.close()\n\n          if (process.env.NODE_ENV === 'development') {\n            throw error\n          } else {\n            alert('删除回复失败，请稍后重试')\n          }\n        })\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n#player {\n  width: 100%;\n  position: relative;\n}\n\n.selectToolBar {\n  width: 100%;\n  border: solid 1px #EEE;\n  box-sizing: border-box;\n}\n\n.selectToolBar > a {\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\n.selectToolBar > a:not(:first-child) {\n  border-left: solid 1px #EEE;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Player/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{ref:\"playerWrapper\",style:(_vm.selected === \"subtitles\" ? {\n      position: \"fixed\",\n      left: \"0\",\n      top: \"0\",\n      zIndex: \"100\",\n      width: \"100%\",\n    } : undefined)},[_c('MyHeader',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"player\"},on:{\"actionsLoaded\":_vm.handleOnSetSubtitleContainerMarginTop,\"subtitlechange\":_vm.handleOnSubtitleChange}}),_vm._v(\" \"),_c('mt-navbar',{staticClass:\"selectToolBar\",model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('mt-tab-item',{style:(_vm.selected === \"comment\" ? { borderBottom: \"3px solid #418642\" } : undefined),attrs:{\"id\":\"comment\"}},[_c('span',{staticStyle:{\"font-size\":\"18px\",\"color\":\"#666\",\"font-weight\":\"800\"},style:(_vm.selected === \"comment\" ? { color: \"#418642\" } : undefined)},[_vm._v(\"\\n          评论\\n        \")])]),_vm._v(\" \"),_c('mt-tab-item',{style:(_vm.selected === \"subtitles\" ? { borderBottom: \"3px solid #418642\" } : undefined),attrs:{\"id\":\"subtitles\"}},[_c('span',{staticStyle:{\"font-size\":\"18px\",\"color\":\"#666\",\"font-weight\":\"800\"},style:(_vm.selected === \"subtitles\" ? { color: \"#418642\" } : undefined)},[_vm._v(\"\\n          字幕\\n        \")])])],1)],1),_vm._v(\" \"),_c('mt-tab-container',{model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('mt-tab-container-item',{attrs:{\"id\":\"comment\"}},[_c('Score',{attrs:{\"accountId\":_vm.accountId,\"score\":_vm.score,\"teacherInformation\":_vm.teacherInformation}}),_vm._v(\" \"),_c('Comment',{attrs:{\"docId\":_vm.docId,\"comments\":_vm.comments,\"userType\":_vm.userType},on:{\"addCommentSuccess\":_vm.handleOnAddCommentSuccess,\"addReplySuccess\":_vm.handleOnAddReplySuccess,\"handleOnDeleteComment\":_vm.handleOnDeleteComment,\"handleOnDeleteReply\":_vm.handleOnDeleteReply}})],1),_vm._v(\" \"),_c('mt-tab-container-item',{attrs:{\"id\":\"subtitles\"}},[_c('Subtitles',{attrs:{\"subtitles\":_vm.subtitles,\"activeSubtitleIndex\":_vm.activeSubtitleIndex,\"subtitleContainerMarginTop\":_vm.subtitleContainerMarginTop}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e71d589e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Player/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e71d589e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e71d589e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e71d589e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Player/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class='container'>\n    <MyHeader title='【个人主页】' />\n    <div class='information'>\n      <div class='message'>\n        <img class='photo' :src='teacherInformation.avatar' />\n        <h3 style='color:#FFFFFF;'>{{teacherInformation.name || teacherInformation.nickname}}</h3>\n        <h5 style='color:#C7C7C7;'>{{teacherInformation.introduction}}</h5>\n      </div>\n      <img class='backgroundImage' :src='teacherInformation.avatar' />\n    </div>\n    <div class='courseList'>\n      <div\n        class='coursesCell'\n        v-for='library in libraries'\n      >\n        <router-link\n          class='link'\n          :to='`/course/${library.id}?accountId=${accountId}`'\n        >\n          <div class='imgcontainer'>\n            <div class='image'>\n              <img\n                class='image'\n                :src='library.isDefault ? defaultClassCoverPng : (library.cover || defaultClassCoverPng)'\n              />\n            </div>\n          </div>\n          <div class='msgcontainer'>\n            <span class='courseName'>{{library.name}}</span>\n            <p class='alt'>{{documentNumberForEachLibrary[library.id]}}个文档</p>\n          </div>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport MyHeader from '../MyHeader'\nimport { Indicator } from 'mint-ui'\nimport { Toast } from 'mint-ui'\nimport {\n  configWeiXinShare,\n  initWeiXinShareConfig,\n} from '../../utils/weixin'\nimport defaultClassCoverPng from '../../assets/defaultClassCover.png'\n\nexport default {\n  name: 'Teacher',\n\n  data() {\n    return {\n      accountId: this.$route.params.id,\n      defaultClassCoverPng,\n      documentNumberForEachLibrary: {},\n      libraries: [],\n      teacherInformation: {},\n    }\n  },\n\n  mounted() {\n    Indicator.open('获取用户数据中')\n\n    /* 获取用户数据，显示用户当前所拥有的的课堂 */\n    this\n      .$http\n      .get(`/players/accounts/${this.accountId}`)\n      .then(({\n        data: {\n          accounts,\n          coopLibraries,\n          libraries,\n        },\n      }) => {\n        this.teacherInformation = accounts.find((user) => String(user.id) === this.accountId)\n        this.libraries = libraries.concat(coopLibraries)\n\n        Indicator.close()\n\n        /* 只有处于生产环境才执行微信 JS-SDK 的初始化操作 */\n        if (process.env.NODE_ENV === 'production') {\n          const coverURL = this.teacherInformation.avatar\n          const authorName = this.teacherInformation.name || this.teacherInformation.nickname\n          const authorIntroduction = this.teacherInformation.introduction\n\n          /* 初始化微信 JS-SDK 配置 */\n          initWeiXinShareConfig(window.encodeURIComponent(window.location.href))\n\n          /* 等待微信 JS-SDK 可以使用后自定义分享相关的操作 */\n          window.jWeixin.ready(function() {\n            configWeiXinShare({\n              title  : `${authorName}的个人主页`,\n              desc   : authorIntroduction,\n              link   : window.location.href,\n              imgUrl : coverURL,\n            })\n          })\n        }\n      })\n      .catch((error) => {\n        throw error\n\n        Indicator.close('获取用户数据失败，请稍后重试')\n      })\n  },\n\n  watch: {\n    libraries() {\n      this.libraries.forEach((library) => {\n        this.documentNumberForEachLibrary[library.id] = library.docs.length + library.chapters.reduce((result, chapter) => {\n          return result + chapter.docs.length\n        }, 0)\n      })\n    },\n  },\n\n  methods: {\n    pop() {\n      Toast({\n        message: '该课程已关闭',\n        iconClass: 'icon',\n        position: 'bottom',\n      })\n    },\n  },\n\n  components: {\n    MyHeader,\n  },\n}\n\n</script>\n\n<style scoped>\n\n.container {\n  width: 100%;\n}\n\n.information {\n  width: 100%;\n  height: 200px;\n  position: relative;\n}\n\n.message {\n  width: 100%;\n  height: 100%;\n  background-color:rgba(0, 0, 0, 0.48);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n\n.backgroundImage {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n}\n\n.courseList {\n\n}\n\n.photo {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  border: 1px solid lightgray;\n}\n\n.coursesCell {\n  width: 100%;\n  height: 80px;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n.link {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  padding-bottom: 10px;\n  border-bottom: solid 1px #DDD;\n  text-decoration: none;\n}\n\n.noclick {\n  pointer-events: none;\n}\n\n.imgcontainer {\n  width: 110px;\n  height: 100%;\n  border-radius: 5px;\n  background: gray;\n}\n\n.image {\n  display: inline-block;\n  width: 110px;\n  height: 100%;\n  border-radius: 5px;\n  overflow: hidden;\n}\n\n.msgcontainer {\n  height: 100%;\n  margin-left: 10px;\n}\n\n.courseName {\n  display: inline-block;\n  width: 180px;\n  text-overflow: ellipsis;\n  overflow:hidden;\n  white-space: nowrap;\n  font-size: 20px;\n  color: black;\n  text-decoration: none;\n}\n\n.alt {\n  color: gray;\n  font-size: 15px;\n  margin-top: 8px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Teacher/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('MyHeader',{attrs:{\"title\":\"【个人主页】\"}}),_vm._v(\" \"),_c('div',{staticClass:\"information\"},[_c('div',{staticClass:\"message\"},[_c('img',{staticClass:\"photo\",attrs:{\"src\":_vm.teacherInformation.avatar}}),_vm._v(\" \"),_c('h3',{staticStyle:{\"color\":\"#FFFFFF\"}},[_vm._v(_vm._s(_vm.teacherInformation.name || _vm.teacherInformation.nickname))]),_vm._v(\" \"),_c('h5',{staticStyle:{\"color\":\"#C7C7C7\"}},[_vm._v(_vm._s(_vm.teacherInformation.introduction))])]),_vm._v(\" \"),_c('img',{staticClass:\"backgroundImage\",attrs:{\"src\":_vm.teacherInformation.avatar}})]),_vm._v(\" \"),_c('div',{staticClass:\"courseList\"},_vm._l((_vm.libraries),function(library){return _c('div',{staticClass:\"coursesCell\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":(\"/course/\" + (library.id) + \"?accountId=\" + _vm.accountId)}},[_c('div',{staticClass:\"imgcontainer\"},[_c('div',{staticClass:\"image\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":library.isDefault ? _vm.defaultClassCoverPng : (library.cover || _vm.defaultClassCoverPng)}})])]),_vm._v(\" \"),_c('div',{staticClass:\"msgcontainer\"},[_c('span',{staticClass:\"courseName\"},[_vm._v(_vm._s(library.name))]),_vm._v(\" \"),_c('p',{staticClass:\"alt\"},[_vm._v(_vm._s(_vm.documentNumberForEachLibrary[library.id])+\"个文档\")])])])],1)}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e1b72fb0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Teacher/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e1b72fb0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e1b72fb0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e1b72fb0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Teacher/index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Course from '../containers/Course'\nimport Player from '../containers/Player'\nimport Teacher from '../containers/Teacher'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [{\n    path: '/teacher/:id',\n    name: 'teacher',\n    component: Teacher,\n  }, {\n    path: '/course/:id',\n    name: 'course',\n    component: Course,\n  }, {\n    path: '/player/:id',\n    name: 'player',\n    component: Player,\n  }],\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import 'mint-ui/lib/style.css'\n\nimport MintUI from 'mint-ui'\nimport Vue from 'vue'\nimport axios from 'axios'\nimport copy from 'copy-to-clipboard'\nimport App from './App'\nimport router from './router'\nimport { wxOAuth2RedirectUrl } from './utils/constants'\n\n/* 检测当前页面所处的浏览器环境 */\nconst browser = require('./utils/browser')\nconst $browser = new browser.Browser(window.navigator.userAgent)\n\nlet token\n\n/* 从 cookie 中获取 token */\nconst result = document.cookie.match(/qingtoken=(QJWT [\\w\\.\\-]+)/) // eslint-disable-line\n\n/* 销毁 cookie 中的 token */\ndocument.cookie = `qingtoken=none; expires=${new Date(0)};`\n\n/* 如果当前 cookie 中存在 token 值，说明用户是通过扫描二维码进入的，此时 cookie 中的 */\n/* token 值是最新的，则将 token 值保存到 localStorage 中；如果 cookie 中没有 */\n/* token，则表示用户不是通过扫描二维码进入的，此时从 localStorage 中取出之前的 token */\nif (result) {\n  token = result[1]\n  window.localStorage.setItem('token', result[1])\n} else {\n  token = window.localStorage.getItem('token')\n}\n\n/* axios 配置 */\naxios.defaults.baseURL = '/api/v1'\naxios.defaults.headers.common.Authorization = token\n\n/* 设置请求拦截器，拦截所有的 401 请求，并在需要授权的时候跳转到微信授权跳转地址 */\naxios.interceptors.response.use(response => response, (error) => {\n  const {\n    config: {\n      method,\n      url,\n    },\n    response: {\n      status: statusCode,\n    } = {},\n  } = error\n\n  /* 用户目前尚未登录的情况 */\n  if (statusCode === 401) {\n    if (method.toUpperCase() === 'GET' && url.endsWith('/accounts')) {\n      console.log('获取用户个人信息失败')\n    } else if (window.location.pathname.startsWith('/player/')) {\n      /* 当用户处于播放页面时，跳转之前需要把现在的地址记录下来，等到用户登录以后再跳转回原来的播放页面 */\n      const originURL = window.encodeURIComponent(window.location.pathname)\n\n      /* 微信授权跳转地址 */\n      const redirectURL = wxOAuth2RedirectUrl.replace(/\\{\\{.*?\\}\\}/, originURL)\n\n      if ($browser.browser === 'Wechat') {\n        /* 如果当前浏览器是微信浏览器，那么就直接跳转到微信授权地址 */\n        window.location.assign(redirectURL)\n      } else {\n        if (copy(redirectURL, {\n          message: '请复制下面的链接地址到微信中打开'\n        })) {\n          alert('请在微信中打开，链接地址已经复制到剪贴板')\n        }\n      }\n    }\n  }\n\n  return Promise.reject(error)\n})\n\nVue.config.productionTip = process.env.NODE_ENV === 'development'\n\nVue.prototype.$http = axios\n\n/* 记录当前页面所处浏览器环境 */\nVue.prototype.$browser = $browser\n\nVue.use(MintUI)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  router,\n  template: '<App />',\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/* 微信授权登录以后请求的服务器接口 */\nconst wxOAuth2RedirectUrl = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxa53771df5d04e3d3&redirect_uri=https%3A%2F%2Fmobile.mamasousuo.com%2Fapi%2Fv1%2Fauthentication%2Fmobile&response_type=code&scope=snsapi_userinfo&state={{}}#wechat_redirect'\n\n/* eslint-disable */\nexport {\n  wxOAuth2RedirectUrl,\n}\n/* eslint-disable */\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constants.js","module.exports = __webpack_public_path__ + \"static/img/defaultClassCover.4b577a3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/defaultClassCover.png\n// module id = OmDG\n// module chunks = 1","/**\n * 浏览器解析，浏览器、Node.js皆可\n * https://github.com/mumuy/browser\n */\n\n(function (root, factory) {\n    if (typeof define === 'function' && (define.amd||define.cmd)) {\n        // AMD&CMD\n        define(factory);\n    } else if (typeof exports === 'object') {\n        // Node, CommonJS-like\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.Browser = factory();\n    }\n}(this, function () {\n    var _window = this||{};\n    var _navigator = typeof navigator!='undefined'?navigator:{};\n    var _mime = function (option, value) {\n        var mimeTypes = navigator.mimeTypes;      \n        for (var mt in mimeTypes) {\n            if (mimeTypes[mt][option] == value) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    return function (userAgent) {\n        var u = userAgent || _navigator.userAgent||{};\n        var _this = this;\n\n        var match = {\n            //内核\n            'Trident': u.indexOf('Trident') > -1 || u.indexOf('NET CLR') > -1,\n            'Presto': u.indexOf('Presto') > -1,\n            'WebKit': u.indexOf('AppleWebKit') > -1,\n            'Gecko': u.indexOf('Gecko/') > -1,\n            //浏览器\n            'Safari': u.indexOf('Safari') > -1,\n            'Chrome': u.indexOf('Chrome') > -1 || u.indexOf('CriOS') > -1,\n            'IE': u.indexOf('MSIE') > -1 || u.indexOf('Trident') > -1,\n            'Edge': u.indexOf('Edge') > -1,\n            'Firefox': u.indexOf('Firefox') > -1 || u.indexOf('FxiOS') > -1,\n            'Firefox Focus': u.indexOf('Focus') > -1,\n            'Chromium': u.indexOf('Chromium') > -1,\n            'Opera': u.indexOf('Opera') > -1 || u.indexOf('OPR') > -1,\n            'Vivaldi': u.indexOf('Vivaldi') > -1,\n            'Yandex': u.indexOf('YaBrowser') > -1,\n            'Arora': u.indexOf('Arora') > -1,\n            'Lunascape': u.indexOf('Lunascape') > -1,\n            'QupZilla': u.indexOf('QupZilla') > -1,\n            'Coc Coc': u.indexOf('coc_coc_browser') > -1,\n            'Kindle': u.indexOf('Kindle') > -1 || u.indexOf('Silk/') > -1,\n            'Iceweasel': u.indexOf('Iceweasel') > -1,\n            'Konqueror': u.indexOf('Konqueror') > -1,\n            'Iceape': u.indexOf('Iceape') > -1,\n            'SeaMonkey': u.indexOf('SeaMonkey') > -1,\n            'Epiphany': u.indexOf('Epiphany') > -1,\n            '360': u.indexOf('QihooBrowser') > -1,\n            '360EE': u.indexOf('360EE') > -1,\n            '360SE': u.indexOf('360SE') > -1,\n            'UC': u.indexOf('UC') > -1 || u.indexOf(' UBrowser') > -1,\n            'QQBrowser': u.indexOf('QQBrowser') > -1,\n            'QQ': u.indexOf('QQ/') > -1,\n            'Baidu': u.indexOf('Baidu') > -1 || u.indexOf('BIDUBrowser') > -1,\n            'Maxthon': u.indexOf('Maxthon') > -1,\n            'Sogou': u.indexOf('MetaSr') > -1 || u.indexOf('Sogou') > -1,\n            'LBBROWSER': u.indexOf('LBBROWSER') > -1,\n            '2345Explorer': u.indexOf('2345Explorer') > -1,\n            'TheWorld': u.indexOf('TheWorld') > -1,\n            'XiaoMi': u.indexOf('MiuiBrowser') > -1,\n            'Quark': u.indexOf('Quark') > -1,\n            'Qiyu': u.indexOf('Qiyu') > -1,\n            'Wechat': u.indexOf('MicroMessenger') > -1,\n            'Taobao': u.indexOf('AliApp(TB') > -1,\n            'Alipay': u.indexOf('AliApp(AP') > -1,\n            'Weibo': u.indexOf('Weibo') > -1,\n            'Douban': u.indexOf('com.douban.frodo') > -1,\n            'Suning': u.indexOf('SNEBUY-APP') > -1,\n            'iQiYi': u.indexOf('IqiyiApp') > -1,\n            //系统或平台\n            'Windows': u.indexOf('Windows') > -1,\n            'Linux': u.indexOf('Linux') > -1 || u.indexOf('X11') > -1,\n            'Mac OS': u.indexOf('Macintosh') > -1,\n            'Android': u.indexOf('Android') > -1 || u.indexOf('Adr') > -1,\n            'Ubuntu': u.indexOf('Ubuntu') > -1,\n            'FreeBSD': u.indexOf('FreeBSD') > -1,\n            'Debian': u.indexOf('Debian') > -1,\n            'Windows Phone': u.indexOf('IEMobile') > -1 || u.indexOf('Windows Phone')>-1,\n            'BlackBerry': u.indexOf('BlackBerry') > -1 || u.indexOf('RIM') > -1,\n            'MeeGo': u.indexOf('MeeGo') > -1,\n            'Symbian': u.indexOf('Symbian') > -1,\n            'iOS': u.indexOf('like Mac OS X') > -1,\n            'Chrome OS': u.indexOf('CrOS') > -1,\n            'WebOS': u.indexOf('hpwOS') > -1,\n            //设备\n            'Mobile': u.indexOf('Mobi') > -1 || u.indexOf('iPh') > -1 || u.indexOf('480') > -1,\n            'Tablet': u.indexOf('Tablet') > -1 || u.indexOf('Pad') > -1 || u.indexOf('Nexus 7') > -1\n        };\n        var is360 = false;\n        if(_window.chrome){\n            var chrome_vision = u.replace(/^.*Chrome\\/([\\d]+).*$/, '$1');\n            if(chrome_vision>36&&_window.showModalDialog){\n                is360 = true;\n            }else if(chrome_vision>45){\n                is360 = _mime(\"type\", \"application/vnd.chromium.remoting-viewer\");\n            }\n        }\n        //修正\n        if (match['Mobile']) {\n            match['Mobile'] = !(u.indexOf('iPad') > -1);\n        } else if (is360) {\n            if(_mime(\"type\", \"application/gameplugin\")){\n                match['360SE'] = true;\n            }else{\n                match['360EE'] = true;\n            }\n        }\n        if(match['IE']||match['Edge']){\n            var navigator_top = window.screenTop-window.screenY;\n            switch(navigator_top){\n                case 71: //无收藏栏,贴边\n                case 74: //无收藏栏,非贴边\n                case 99: //有收藏栏,贴边\n                case 102: //有收藏栏,非贴边\n                    match['360EE'] = true;\n                    break;\n                case 75: //无收藏栏,贴边\n                case 74: //无收藏栏,非贴边\n                case 105: //有收藏栏,贴边\n                case 104: //有收藏栏,非贴边\n                    match['360SE'] = true;\n                    break;\n            }\n        }\n        //基本信息\n        var hash = {\n            engine: ['WebKit', 'Trident', 'Gecko', 'Presto'],\n            browser: ['Safari', 'Chrome', 'Edge', 'IE', 'Firefox', 'Firefox Focus', 'Chromium', 'Opera', 'Vivaldi', 'Yandex', 'Arora', 'Lunascape', 'QupZilla', 'Coc Coc', 'Kindle', 'Iceweasel', 'Konqueror', 'Iceape', 'SeaMonkey', 'Epiphany', '360', '360SE', '360EE', 'UC', 'QQBrowser', 'QQ', 'Baidu', 'Maxthon', 'Sogou', 'LBBROWSER', '2345Explorer', 'TheWorld', 'XiaoMi', 'Quark', 'Qiyu', 'Wechat', 'Taobao', 'Alipay', 'Weibo', 'Douban','Suning', 'iQiYi'],\n            os: ['Windows', 'Linux', 'Mac OS', 'Android', 'Ubuntu', 'FreeBSD', 'Debian', 'iOS', 'Windows Phone', 'BlackBerry', 'MeeGo', 'Symbian', 'Chrome OS', 'WebOS'],\n            device: ['Mobile', 'Tablet']\n        };\n        _this.device = 'PC';\n        _this.language = (function () {\n            var g = (_navigator.browserLanguage || _navigator.language);\n            var arr = g.split('-');\n            if (arr[1]) {\n                arr[1] = arr[1].toUpperCase();\n            }\n            return arr.join('_');\n        })();\n        for (var s in hash) {\n            for (var i = 0; i < hash[s].length; i++) {\n                var value = hash[s][i];\n                if (match[value]) {\n                    _this[s] = value;\n                }\n            }\n        }\n        //系统版本信息\n        var osVersion = {\n            'Windows': function () {\n                var v = u.replace(/^.*Windows NT ([\\d.]+);.*$/, '$1');\n                var hash = {\n                    '6.4': '10',\n                    '6.3': '8.1',\n                    '6.2': '8',\n                    '6.1': '7',\n                    '6.0': 'Vista',\n                    '5.2': 'XP',\n                    '5.1': 'XP',\n                    '5.0': '2000'\n                };\n                return hash[v] || v;\n            },\n            'Android': function () {\n                return u.replace(/^.*Android ([\\d.]+);.*$/, '$1');\n            },\n            'iOS': function () {\n                return u.replace(/^.*OS ([\\d_]+) like.*$/, '$1').replace(/_/g, '.');\n            },\n            'Debian': function () {\n                return u.replace(/^.*Debian\\/([\\d.]+).*$/, '$1');\n            },\n            'Windows Phone': function () {\n                return u.replace(/^.*Windows Phone( OS)? ([\\d.]+);.*$/, '$2');\n            },\n            'Mac OS': function () {\n                return u.replace(/^.*Mac OS X ([\\d_]+).*$/, '$1').replace(/_/g, '.');\n            },\n            'WebOS': function () {\n                return u.replace(/^.*hpwOS\\/([\\d.]+);.*$/, '$1');\n            }\n        };\n        _this.osVersion = '';\n        if (osVersion[_this.os]) {\n            _this.osVersion = osVersion[_this.os]();\n            if (_this.osVersion == u) {\n                _this.osVersion = '';\n            }\n        }\n        //浏览器版本信息\n        var version = {\n            'Safari': function () {\n                return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1');\n            },\n            'Chrome': function () {\n                return u.replace(/^.*Chrome\\/([\\d.]+).*$/, '$1').replace(/^.*CriOS\\/([\\d.]+).*$/, '$1');\n            },\n            'IE': function () {\n                return u.replace(/^.*MSIE ([\\d.]+).*$/, '$1').replace(/^.*rv:([\\d.]+).*$/, '$1');\n            },\n            'Edge': function () {\n                return u.replace(/^.*Edge\\/([\\d.]+).*$/, '$1');\n            },\n            'Firefox': function () {\n                return u.replace(/^.*Firefox\\/([\\d.]+).*$/, '$1').replace(/^.*FxiOS\\/([\\d.]+).*$/, '$1');\n            },\n            'Firefox Focus': function () {\n                return u.replace(/^.*Focus\\/([\\d.]+).*$/, '$1');\n            },\n            'Chromium': function () {\n                return u.replace(/^.*Chromium\\/([\\d.]+).*$/, '$1');\n            },\n            'Opera': function () {\n                return u.replace(/^.*Opera\\/([\\d.]+).*$/, '$1').replace(/^.*OPR\\/([\\d.]+).*$/, '$1');\n            },\n            'Vivaldi': function () {\n                return u.replace(/^.*Vivaldi\\/([\\d.]+).*$/, '$1');\n            },\n            'Yandex': function () {\n                return u.replace(/^.*YaBrowser\\/([\\d.]+).*$/, '$1');\n            },\n            'Arora': function () {\n                return u.replace(/^.*Arora\\/([\\d.]+).*$/, '$1');\n            },\n            'Lunascape': function(){\n                return u.replace(/^.*Lunascape[\\/\\s]([\\d.]+).*$/, '$1');\n            },\n            'QupZilla': function(){\n                return u.replace(/^.*QupZilla[\\/\\s]([\\d.]+).*$/, '$1');\n            },\n            'Coc Coc': function(){\n                return u.replace(/^.*coc_coc_browser\\/([\\d.]+).*$/, '$1');\n            },\n            'Kindle': function () {\n                return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1');\n            },\n            'Iceweasel': function () {\n                return u.replace(/^.*Iceweasel\\/([\\d.]+).*$/, '$1');\n            },\n            'Konqueror': function () {\n                return u.replace(/^.*Konqueror\\/([\\d.]+).*$/, '$1');\n            },\n            'Iceape': function () {\n                return u.replace(/^.*Iceape\\/([\\d.]+).*$/, '$1');\n            },\n            'SeaMonkey': function () {\n                return u.replace(/^.*SeaMonkey\\/([\\d.]+).*$/, '$1');\n            },\n            'Epiphany': function () {\n                return u.replace(/^.*Epiphany\\/([\\d.]+).*$/, '$1');\n            },\n            '360': function(){\n                return u.replace(/^.*QihooBrowser\\/([\\d.]+).*$/, '$1');\n            },\n            '360SE': function(){\n                var hash = {'55':'9.1','45':'8.1','42':'8.0','31':'7.0','21':'6.3'};\n                var chrome_vision = u.replace(/^.*Chrome\\/([\\d]+).*$/, '$1');\n                return hash[chrome_vision]||'';\n            },\n            '360EE': function(){\n                var hash = {'63':'9.5','55':'9.0','50':'8.7','30':'7.5'};\n                var chrome_vision = u.replace(/^.*Chrome\\/([\\d]+).*$/, '$1');\n                return hash[chrome_vision]||'';\n            },\n            'Maxthon': function () {\n                return u.replace(/^.*Maxthon\\/([\\d.]+).*$/, '$1');\n            },\n            'QQBrowser': function () {\n                return u.replace(/^.*QQBrowser\\/([\\d.]+).*$/, '$1');\n            },\n            'QQ': function () {\n                return u.replace(/^.*QQ\\/([\\d.]+).*$/, '$1');\n            },\n            'Baidu': function () {\n                return u.replace(/^.*BIDUBrowser[\\s\\/]([\\d.]+).*$/, '$1');\n            },\n            'UC': function () {\n                return u.replace(/^.*UC?Browser\\/([\\d.]+).*$/, '$1');\n            },\n            'Sogou': function () {\n                return u.replace(/^.*SE ([\\d.X]+).*$/, '$1').replace(/^.*SogouMobileBrowser\\/([\\d.]+).*$/, '$1');\n            },\n            'LBBROWSER': function(){\n                var hash = {'57':'6.5','49':'6.0','46':'5.9','42':'5.3','39':'5.2','34':'5.0','29':'4.5','21':'4.0'};\n                var chrome_vision = navigator.userAgent.replace(/^.*Chrome\\/([\\d]+).*$/, '$1');\n                return hash[chrome_vision]||'';\n            },\n            '2345Explorer': function () {\n                return u.replace(/^.*2345Explorer\\/([\\d.]+).*$/, '$1');\n            },\n            'TheWorld': function () {\n                return u.replace(/^.*TheWorld ([\\d.]+).*$/, '$1');\n            },\n            'XiaoMi': function () {\n                return u.replace(/^.*MiuiBrowser\\/([\\d.]+).*$/, '$1');\n            },\n            'Quark': function () {\n                return u.replace(/^.*Quark\\/([\\d.]+).*$/, '$1');\n            },\n            'Qiyu': function () {\n                return u.replace(/^.*Qiyu\\/([\\d.]+).*$/, '$1');\n            },\n            'Wechat': function () {\n                return u.replace(/^.*MicroMessenger\\/([\\d.]+).*$/, '$1');\n            },\n            'Taobao': function () {\n                return u.replace(/^.*AliApp\\(TB\\/([\\d.]+).*$/, '$1');\n            },\n            'Alipay': function () {\n                return u.replace(/^.*AliApp\\(AP\\/([\\d.]+).*$/, '$1');\n            },\n            'Weibo': function () {\n                return u.replace(/^.*weibo__([\\d.]+).*$/, '$1');\n            },\n            'Douban': function () {\n                return u.replace(/^.*com.douban.frodo\\/([\\d.]+).*$/, '$1');\n            },\n            'Suning': function () {\n                return u.replace(/^.*SNEBUY-APP([\\d.]+).*$/, '$1');\n            },\n            'iQiYi': function () {\n                return u.replace(/^.*IqiyiVersion\\/([\\d.]+).*$/, '$1');\n            }\n        };\n        _this.version = '';\n        if (version[_this.browser]) {\n            _this.version = version[_this.browser]();\n            if (_this.version == u) {\n                _this.version = '';\n            }\n        }\n        //修正\n        if (_this.browser == 'Edge') {\n            _this.engine = 'EdgeHTML';\n        } else if (_this.browser == 'Chrome' && parseInt(_this.version) > 27) {\n            _this.engine = 'Blink';\n        } else if (_this.browser == 'Opera' && parseInt(_this.version) > 12) {\n            _this.engine = 'Blink';\n        } else if (_this.browser == 'Yandex') {\n            _this.engine = 'Blink';\n        }\n    };\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/utils/browser.js"],"sourceRoot":""}