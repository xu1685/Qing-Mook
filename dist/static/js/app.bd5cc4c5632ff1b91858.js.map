{"version":3,"sources":["webpack:///./src/App.vue?8fb5","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/weixin.js","webpack:///./src/containers/MyHeader/index.vue?a2ed","webpack:///./src/containers/MyHeader/index.vue","webpack:///src/containers/MyHeader/index.vue","webpack:///./src/bus.js","webpack:///src/containers/Course/index.vue","webpack:///./src/containers/Course/index.vue?0672","webpack:///./src/containers/Course/index.vue","webpack:///src/containers/Player/Comment/index.vue","webpack:///./src/containers/Player/Comment/index.vue?bf83","webpack:///./src/containers/Player/Comment/index.vue","webpack:///src/containers/Player/Score/index.vue","webpack:///./src/containers/Player/Score/index.vue?ee06","webpack:///./src/containers/Player/Score/index.vue","webpack:///src/containers/Player/Subtitles/index.vue","webpack:///./src/containers/Player/Subtitles/index.vue?35e3","webpack:///./src/containers/Player/Subtitles/index.vue","webpack:///./src/containers/Player/Player/lib/fscreen.js","webpack:///./src/containers/Player/Player/src/Player.js","webpack:///src/containers/Player/index.vue","webpack:///./src/containers/Player/index.vue?00fb","webpack:///./src/containers/Player/index.vue","webpack:///src/containers/Teacher/index.vue","webpack:///./src/containers/Teacher/index.vue?a4ce","webpack:///./src/containers/Teacher/index.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/utils/constants.js","webpack:///./src/containers/Teacher/teacher.jpeg"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","remainRequestNumber","weixin","currentURL","window","encodeURIComponent","location","protocol","host","axios_default","a","get","then","respones","jWeixin","config","debug","appId","timestamp","data","nonceStr","noncestr","signature","jsApiList","error","put","containers_MyHeader","staticClass","title","slot","on","click","back","icon","src_containers_MyHeader","MyHeader_normalizeComponent","bus","vue_esm","Course","pageInite","_this","open","res","docs","libraryId","length","i","reverse","close","index","obj","count","score","MyHeader","containers_Course","_vm","pageName","name","_v","staticStyle","height","_s","library","color","courseList","src","cover","onerror","width","_l","course","key","sendIndex","to","path","ratingStatis","font-size","text-align","margin-top","aria-hidden","_e","display","margin-left","view","commentNums","src_containers_Course","Course_normalizeComponent","Comment","String","Array","comments","FormData","myComment","docId","$http","post","formData","cancleImage","files","imgUrl","replies","accountId","_this2","comfirmUpload","replyText","commentList","replyIndex","replyFormData","catch","approve","commentId","time","getSeconds","number","Player_Comment","placeholder","disableClear","model","value","callback","$$v","expression","isShowUploadImageIcon","$event","isShowUploadImagesDialog","preview0","background-color","confirmComment","comment","avatar","userName","margin-right","approveHandle","text","images","img","showImg","formatTime","createTime","handleOnReply","popup-transition","padding-bottom","align-items","border-radius","border","preview1","preview2","padding-left","padding-right","clickUploadImageInputForComment","ref","accept","type","multiple","domProps","inputImage","change","handleInputChange","justify-content","align-self","cancleUpload","Object","keys","commentObj","position","replyVisible","margin-bottom","approveL","replyList","reply","originUserName","rrVisible","margin","clickUploadImageInputForReply","confirmReply","cancleReply","showImgVisible","showImgUrl","containers_Player_Comment","Comment_normalizeComponent","Score","Number","Player_Score","font-weight","teacherInformation","nickname","containers_Player_Score","Score_normalizeComponent","Subtitles","offsetTop","seconds","minutes","Player_Subtitles","style","subtitleContainerMarginTop","marginTop","undefined","subtitle","beginTime","activeSubtitleIndex","refInFor","class","activeSubtitle","formatDuring","subtitles","containers_Player_Subtitles","Subtitles_normalizeComponent","fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror","webkit","moz","ms","fscreen_document","document","vendor","keys_default","fscreen","element","requestFullscreenFunction","bind","addEventListener","handler","options","removeEventListener","Boolean","val","onfullscreenchange","toLowerCase","onfullscreenerror","Player","_ref","actionUrl","audioUrl","duration","imageUrls","_ref$mode","mode","size","classCallCheck_default","actionData","actions","draftHeight","draftWidth","windowHeight","windowWidth","domRefs","audio","imageContainer","playerContainer","scrollDuration","autoPlay","captionFontSize","state","audioLoadStatus","imagesLoaded","canPlay","nextAction","nextActionIndex","animation","animationObj","halt","isLoading","isPageFullscreenOpen","isdraftOpen","draftNum","contexts","propotions","propotion","ctx","currentSubtitleIndex","isCaptionsOpen","initialWidth","offsetWidth","wating","waitingPage","waitingTime","template","playerControl","normalizeTime","loadTip","Math","round","draft","captions","handleAudioLoaded","loadSource","fetchActions","map","action","extends_default","actionId","endTime","parseFloat","points","point","x","y","startTime","target","parseInt","yDistance","sort","prev","next","baseURL","responseType","response","formatActionData","renderContainer","_actionData","container","createElement","className","containerWidth","containerHeight","loadTipElem","renderString","appendChild","loading","querySelector","event","CustomEvent","dispatchEvent","loadButton","loadAudio","loadImages","firstElementChild","lastElementChild","audioElement","imageNameRegExp","match","imageWidth","imageUrl","imageElement","Image","handleImageLoaded","handleFirstImageLoaded","_this3","checkSrcLoadStatus","forEach","imageElem","setLoadingTipStatus","initHtml","bindEvents","setDrawTarget","changeCurrentTime","togglePlay","showPlayerControl","renderImages","renderCanvas","renderPlayerControl","renderCaptions","renderAudio","renderDraft","status","_this4","_domRefs","pages","fragment","createDocumentFragment","image","section","classList","add","push","canvas","setCanvasSize","getContext","lineCap","setPropotions","_domRefs2","playerControlTemplate","progressbarWrapper","playState","fullscreen","pageFullscreen","toggleCaptionsButton","currentTime","progressbar","preview","progressHandle","_domRefs3","captionsNode","setDraftSize","_domRefs4","handlePlayButtonClick","handleFullscreenClick","handleCaptionsMove","handleCaptionsDown","handleCaptionsUp","toggleFullscreen","togglePageFullscreen","handleProgressbarOver","handleProgressbarleave","handleSeekMousedown","handleTimeUpdate","handleEnded","handleFullscreenChange","toggleCaptions","handleProgressbarClick","handleRotateScreen","handleWindowResize","handlePlayerTap","handleProgressPanStart","handleProgressPanMove","handleCaptionsPress","handleCaptionsPressUp","handleCaptionsPanMove","handleHammer","hammer_default","captionsHammer","set","direction","DIRECTION_ALL","loadTipHammer","canCaptionsMove","captionsStartX","offsetLeft","captionsStartY","e","left","deltaX","top","deltaY","setCaptionsOffset","panStartTime","deltaTime","min","max","preventDefault","cursorStartX","clientX","cursorStartY","clientY","distX","distY","_domRefs5","parentWidth","parentHeight","offsetHeight","captionsLeftMax","captionsBottomMax","leftOffset","bottomOffset","bottom","currentWidth","lastWidth","resizePlayer","handleSeekMousemove","handleSeekMouseup","changeProgressbarHandle","contains","_window$screen","screen","_actionData2","propotion2","getFullscreenSize","_domRefs6","_state","fullscreenSize","_actionData3","_domRefs7","_actionData4","translateX","controlWidth","transform","setContainerSize","fontSize","_domRefs8","_domRefs9","remove","_domRefs10","reduce","cur","_domRefs11","rerenderTimeInfo","changeDisplaySubtitle","_domRefs12","durationEl","textContent","getCursorTime","visibility","hidePlayerControl","clearTimeout","opacity","setTimeout","fadeOutPlayerControl","wrapper","dist","getBoundingClientRect","percent","clientWidth","stopPropagation","pause","cancelAnimationFrame","play","registerNextAction","registerNextAnimation","_this5","wait","waiting","_state2","currentWaitingPage","currentWaitingTime","continue","page","getPageByTime","pageTo","setPageState","setDraftState","getNextAction","waitPageLoading","_this6","handleNextAction","elaspedTime","Date","now","requestAnimationFrame","drawPoint","needRegist","drawPath","drawArrow","scroll","withdraw","clear","eliminate","_this7","_state3","cnt","floor","strokeStyle","lineWidth","backgroundData","getImageData","drawPoints","end","_state4","beginPath","slice","moveTo","lineTo","stroke","animate","_state5","_state$animationObj","_state6","clearRect","putImageData","ceil","k","_state7","fillStyle","x1","y1","x2","y2","r","sqrt","pow","aX","aY","bX","bY","cX","cY","dX","dY","eX","eY","fill","currentPage","toggleDraft","transition","_state8","ctxIndex","propIndex","_domRefs13","offsetY","orginOffset","tmp","abs","targetPage","getDrawActionsOnPage","handleActions","draftActions","getActionsOnDraft","getDraftStatus","filterActions","targetIndex","getActionsOnPage","_state9","_domRefs14","hasSubtitle","detail","subtitleIndex","parentNode","removeChild","includeTypes","withdrawTypes","eliminatedIds","indexOf","j","concat","eliminateIds","filter","hours","remain","parent","string","elem","innerHTML","_respones$data","accounts","doc","_respones$data$doc","defaultAction","pictures","star1","_respones$data$doc$ra","star2","star3","star4","star5","sourceId","json","recording","totalSize","handleOnSetSubtitleContainerMarginTop","selectortype_template_index_0_src_containers_Player","selected","zIndex","actionsLoaded","subtitlechange","handleOnSubtitleChange","borderBottom","update:comments","src_containers_Player","Player_normalizeComponent","containers_Player","Teacher","libraries","containers_Teacher","auto","continuous","padding-top","src_containers_Teacher","Teacher_normalizeComponent","use","vue_router_esm","router","routes","redirect","component","token","result","cookie","localStorage","setItem","getItem","defaults","headers","common","Authorization","interceptors","_error$response","pathname","startsWith","originURL","assign","replace","promise_default","reject","productionTip","prototype","mint_ui_common_default","el","components","App","module","exports","p"],"mappings":"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","file":"static/js/app.bd5cc4c5632ff1b91858.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ba5c691\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ba5c691\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ba5c691\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id='app'>\n    <router-view />\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n}\n\n</script>\n\n<style>\n\n* {\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  width: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import axios from 'axios'\n\n/* 剩余请求次数 */\nlet remainRequestNumber = 1\n\nconst initWeiXin = () => {\n  const currentURL = window.encodeURIComponent(`${window.location.protocol}//${window.location.host}`)\n\n  /* 首先通过 GET 方法向后端发送配置数据请求信息 */\n  axios\n    .get(`authentication/signature?url=${currentURL}`)\n    .then((respones) => {\n      /* 配置微信 SDK */\n      window.jWeixin.config({\n        debug     : true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n        appId     : 'wx544da2871902b400', // 必填，公众号的唯一标识\n        timestamp : respones.data.timestamp, // 必填，生成签名的时间戳\n        nonceStr  : respones.data.noncestr, // 必填，生成签名的随机串\n        signature : respones.data.signature,// 必填，签名\n        jsApiList : ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ'] // 必填，需要使用的JS接口列表\n      })\n    })\n\n  /* 如果配置出错，则发送 PUT 方法重新发送配置数据请求信息 */\n  window.jWeixin.error(function (error) {\n    /* 如果剩余请求次数大于零，则重新发起请求 */\n    if (remainRequestNumber-- > 0) {\n      axios\n        .put(`authentication/signature?url=${currentURL}`)\n        .then((respones) => {\n          /* 配置微信 SDK */\n          window.jWeixin.config({\n            debug     : true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n            appId     : 'wx544da2871902b400', // 必填，公众号的唯一标识\n            timestamp : respones.data.timestamp, // 必填，生成签名的时间戳\n            nonceStr  : respones.data.noncestr, // 必填，生成签名的随机串\n            signature : respones.data.signature,// 必填，签名\n            jsApiList : ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ'] // 必填，需要使用的JS接口列表\n          })\n        })\n    }\n  })\n}\n\nexport default initWeiXin\n\n\n\n// WEBPACK FOOTER //\n// ./src/weixin.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mt-header',{staticClass:\"header\",attrs:{\"title\":_vm.title}},[_c('a',{attrs:{\"slot\":\"left\"},on:{\"click\":_vm.back},slot:\"left\"},[_c('mt-button',{attrs:{\"icon\":\"back\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3246f62e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/MyHeader/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3246f62e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3246f62e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3246f62e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/MyHeader/index.vue\n// module id = null\n// module chunks = ","<template>\n  <mt-header\n    class=\"header\"\n    :title=\"title\"\n  >\n    <a @click=\"back\" slot=\"left\">\n      <mt-button icon=\"back\" />\n    </a>\n  </mt-header>\n</template>\n\n<script>\n\nexport default {\n  name: 'MyHeader',\n\n  props: [\n    'title',\n  ],\n\n  methods: {\n    back() {\n      this.$router.back()\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.header {\n  background-color: #FFF;\n  color: #000;\n  font-size: 18px;\n  width: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/MyHeader/index.vue","import Vue from 'vue'\n\nexport default new Vue()\n\n\n\n// WEBPACK FOOTER //\n// ./src/bus.js","<template>\n  <div class=\"coursePage\">\n    <MyHeader :pageName=\"name\" />\n    <div class=\"container\">\n      <div style=\"height: 200px;\">\n        <div class=\"message\">\n          <h2 class=\"coursetitle\">{{this.library.name}}</h2>\n          <span style=\"color: rgb(199, 199, 199)\">共{{this.courseList.length}}个可读文档</span>\n          <!-- <p style=\"margin-top: 20px;color: rgb(199, 199, 199)\">{{this.createTime}}</p> -->\n        </div>\n        <!-- 黑色透明遮罩 -->\n        <div class=\"black\"></div>\n        <img :src=\"this.library.cover\" onerror=\"this.style.display='none'\" width=\"100%\" height=\"200px;\">\n        <!-- 内容：头像 信息 -->\n\n      <!-- 课程卡片 -->\n      </div>\n      <hr class=\"hr1\">\n      <div class=\"courseCell\" @click=\"sendIndex\" v-for=\"(course,index) in courseList\" :key=\"index\">\n        <router-link :to=\"{ path: '/player/'+ course.id  }\"  class=\"link\">\n          <div class=\"imgcon\">\n            <div class=\"msg\">\n              <i style=\"color:white;font-size: 20px;width: 110px;text-align: center;margin-top: 20px;color:#fbe359\" class=\"fa fa-star\" aria-hidden=\"true\" v-if=\"score(course.ratingStatis) !== '暂无评分' \">{{score(course.ratingStatis)}}</i>\n              <i style=\"color:white;font-size: 20px;width: 110px;text-align: center;margin-top: 20px;\" class=\"fa\" aria-hidden=\"true\" v-if=\"score(course.ratingStatis) == '暂无评分' \">{{score(course.ratingStatis)}}</i>\n            </div>\n            <div class=\"blackblock\"></div>\n            <div class=\"classImg\">\n              <img class=\"classImg\" :src=\"course.cover\" onerror=\"this.style.display='none'\" >\n            </div>\n\n          </div>\n          <div class=\"msgcontainer\">\n            <div style=\"display: inline-block;\">\n              <span class=\"className\">{{course.name}}</span>\n            </div>\n            <div class=\"icons\">\n              <i  class=\"fa fa-caret-square-o-right\" aria-hidden=\"true\"></i>\n              <span style=\"display: inline-block;margin-left: 5px;\">{{course.view}}</span>\n              <i style=\"margin-left: 15px;\" class=\"fa fa-commenting-o\" aria-hidden=\"true\"></i>\n              <span style=\"display: inline-block;margin-left: 5px;\">{{course.commentNums}}</span>\n\n            </div>\n          </div>\n        </router-link>\n        <hr class=\"hr1\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport MyHeader from '../MyHeader'\nimport Bus from '../../bus.js'\nimport { Indicator } from 'mint-ui'\n\nexport default {\n  name: 'course',\n\n  data() {\n    return {\n      title: '课程列表',\n      courseList: [],\n      libraryId: this.$route.params.id,\n      docs: [],\n      allDcos: [],\n      library: {},\n      cover: '',\n      createTime: '',\n      action: [],\n      name: '课堂主页',\n    }\n  },\n\n  created() {\n    this.pageInite()\n  },\n\n  mounted() {\n\n  },\n\n  methods: {\n    pageInite() {\n      Indicator.open()\n      this.$http.get('/accounts/docs')\n        .then((res) => {\n          this.allDcos = res.data.docs\n          this.library = res.data.libraries.find(library => library.id === this.libraryId)\n          this.createTime = this.library.createTime.replace('T', ' ').replace(/\\.\\w+/, '')\n          this.docs = this.library.docs\n          const len = this.allDcos.length\n          for (let i = 0; i < len; i++) {\n            if (this.docs.indexOf(this.allDcos[i].id) != -1 && this.allDcos[i].status == 'open' && this.allDcos[i].transformed == '1' && this.allDcos[i].hasAction) {\n              this.courseList.push(this.allDcos[i])\n            }\n          }\n          this.courseList = this.courseList.reverse()\n          Indicator.close()\n        })\n    },\n\n    sendIndex() {\n      Bus.$emit('index', this.index)\n    },\n\n    score(obj) {\n      const arr = Object.values(obj)\n      const len = arr.length\n      let count = 0\n      for (let i = 0; i < len; i++) {\n        count += arr[i]\n      }\n      if (count === 0) {\n        var score = '暂无评分'\n      } else {\n        var score = (arr[0] * 1 + arr[1] * 2 + arr[2] * 3 + arr[3] * 4 + arr[4] * 5) / count\n        score = score.toFixed(1)\n      }\n      return score\n    },\n  },\n\n  components: {\n    MyHeader,\n  },\n}\n\n</script>\n\n<style scoped>\n\n.coursePage {\n\n}\n\n.black {\n  width: 100%;\n  height: 200px;\n  position: absolute;\n  background-color:rgba(0, 0, 0, 0.48);\n  z-index: 1;\n}\n\n.message {\n  width: 100%;\n  height: 200px;\n  position: absolute;\n  top: 40px;\n  z-index: 3;\n  text-align: center\n}\n\n.coursetitle {\n  margin-top: 40px;\n  color: white;\n  text-overflow: ellipsis;\n  overflow:hidden;\n  white-space: nowrap;\n  width: 60%;\n  margin-left: 20%;\n}\n\n .courseCell {\n  width: 100%;\n  /*background-color: rgba(212, 212, 212, 0.24);*/\n  height: 65px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\n.link {\n  display: flex;\n  align-items: center;\n  height: 65px;\n}\n\n.imgcon {\n  display: inline-block;\n  width: 110px;\n  height: 65px;\n  margin: 10px;\n  border-radius: 5px;\n  background: gray;\n  z-index: 1;\n}\n\n.classImg {\n  display: inline-block;\n  width:110px;\n  height:65px;\n  z-index: 1;\n  border-radius: 5px;\n}\n\n.msg {\n  position: absolute;\n  width: 110px;\n  height: 65px;\n  color: white;\n  border-radius: 5px;\n  text-align: left;\n  z-index: 3;\n}\n\n.blackblock {\n  display: inline-block;\n  position: absolute;\n  width: 110px;\n  height: 65px;\n  background-color: rgba(0, 0, 0, 0.28);\n  z-index: 2;\n  border-radius: 5px;\n}\n\n.msgcontainer {\n  height: 65px;\n  margin-left: 8px;\n  margin-right: 10px;\n  flex:1;\n  text-align: left;\n}\n\n.className {\n  display: inline-block;\n  width: 160px;\n  text-overflow: ellipsis;\n  overflow:hidden;\n  white-space: nowrap;\n  font-size: 18px;\n  color: black;\n  text-align:left;\n}\n\n.icons {\n  text-align:left;\n  color: gray;\n  margin-top: 18px;\n  width: 100%;\n}\n\n.hr1 {\n  height:1px;\n  border:none;\n  border-top:1px solid lightgray;\n  margin-top: 10px;\n  margin: 10px 10px 0 10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Course/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coursePage\"},[_c('MyHeader',{attrs:{\"pageName\":_vm.name}}),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{staticStyle:{\"height\":\"200px\"}},[_c('div',{staticClass:\"message\"},[_c('h2',{staticClass:\"coursetitle\"},[_vm._v(_vm._s(this.library.name))]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"rgb(199, 199, 199)\"}},[_vm._v(\"共\"+_vm._s(this.courseList.length)+\"个可读文档\")])]),_vm._v(\" \"),_c('div',{staticClass:\"black\"}),_vm._v(\" \"),_c('img',{attrs:{\"src\":this.library.cover,\"onerror\":\"this.style.display='none'\",\"width\":\"100%\",\"height\":\"200px;\"}})]),_vm._v(\" \"),_c('hr',{staticClass:\"hr1\"}),_vm._v(\" \"),_vm._l((_vm.courseList),function(course,index){return _c('div',{key:index,staticClass:\"courseCell\",on:{\"click\":_vm.sendIndex}},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{ path: '/player/'+ course.id  }}},[_c('div',{staticClass:\"imgcon\"},[_c('div',{staticClass:\"msg\"},[(_vm.score(course.ratingStatis) !== '暂无评分' )?_c('i',{staticClass:\"fa fa-star\",staticStyle:{\"color\":\"#fbe359\",\"font-size\":\"20px\",\"width\":\"110px\",\"text-align\":\"center\",\"margin-top\":\"20px\"},attrs:{\"aria-hidden\":\"true\"}},[_vm._v(_vm._s(_vm.score(course.ratingStatis)))]):_vm._e(),_vm._v(\" \"),(_vm.score(course.ratingStatis) == '暂无评分' )?_c('i',{staticClass:\"fa\",staticStyle:{\"color\":\"white\",\"font-size\":\"20px\",\"width\":\"110px\",\"text-align\":\"center\",\"margin-top\":\"20px\"},attrs:{\"aria-hidden\":\"true\"}},[_vm._v(_vm._s(_vm.score(course.ratingStatis)))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"blackblock\"}),_vm._v(\" \"),_c('div',{staticClass:\"classImg\"},[_c('img',{staticClass:\"classImg\",attrs:{\"src\":course.cover,\"onerror\":\"this.style.display='none'\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"msgcontainer\"},[_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('span',{staticClass:\"className\"},[_vm._v(_vm._s(course.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"icons\"},[_c('i',{staticClass:\"fa fa-caret-square-o-right\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(course.view))]),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-commenting-o\",staticStyle:{\"margin-left\":\"15px\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(course.commentNums))])])])]),_vm._v(\" \"),_c('hr',{staticClass:\"hr1\"})],1)})],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2173d86b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Course/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2173d86b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2173d86b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2173d86b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Course/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class='commentContainer'>\n\n    <!-- 评论输入框 -->\n    <mt-field\n      class='commentInput'\n      placeholder='评论'\n      disableClear\n      v-model='myComment'\n    >\n      <i\n        class='fa fa-picture-o'\n        style='font-size: 20px;'\n        v-if='!isShowUploadImageIcon'\n        @click='isShowUploadImagesDialog = true'\n      />\n      <img\n        width='35px'\n        v-if='isShowUploadImageIcon'\n        :src='preview0'\n      />\n      <mt-button\n        style='margin-left: 10px; height: 35px; background-color: #418642; color: #FFF'\n        @click='confirmComment()'\n      >\n        提交\n      </mt-button>\n    </mt-field>\n\n    <!-- 评论容器 -->\n    <div\n      class='commentCell'\n      v-for='(comment, index) in commentList'\n      :key='comment.id'\n    >\n      <div class='commentTop'>\n        <img\n          class='avatar'\n          :src='comment.avatar'\n        />\n        <span class='userName'>{{comment.userName}}</span>\n        <div class='approve'>\n          <i\n            class='fa fa-thumbs-o-up'\n            style='font-size: 18px; margin-right: 5px;'\n            :id='\"approve\" + comment.id'\n            @click='approveHandle(index, 0, 1)'\n          />\n          <span>{{comment.approve.length}}</span>\n        </div>\n      </div>\n      <p class='text'>{{comment.text}}</p>\n      <div\n        class='imagesBox'\n        v-if='comment.images.length'\n      >\n        <img\n          class='textImg'\n          :src='img'\n          v-for='img in comment.images'\n          @click='showImg(img)'\n        >\n      </div>\n      <span style='color: gray; font-size: 12px;'>\n        {{formatTime(comment.createTime)}}\n      </span>\n      <span\n        class='replyBtn'\n        @click='handleOnReply(index, 0, 1)'\n      >\n        回复({{comment.replies.length}})\n      </span>\n    </div>\n    <h3 v-if='!commentList.length' style='color: gray'>暂无评论，快来评论吧！</h3>\n\n    <!-- 图片上传弹框 -->\n    <mt-popup\n      class='imagesUploadDialog'\n      popup-transition='popup-fade'\n      v-model='isShowUploadImagesDialog'\n    >\n      <div>\n        <p style='padding-bottom: 10px; color: #555'>最多可上传3张图片</p>\n        <div style='display: flex; align-items: center;'>\n          <img :src='preview0' v-if='preview0 !== \"\"' height='100px' style='border-radius: 5px; border: solid 1px #DDD; margin-right: 10px;'>\n          <img :src='preview1' v-if='preview1 !== \"\"' height='100px' style='border-radius: 5px; border: solid 1px #DDD; margin-right: 10px;'>\n          <img :src='preview2' v-if='preview2 !== \"\"' height='100px' style='border-radius: 5px; border: solid 1px #DDD; margin-right: 10px;'>\n          <i\n            class='fa fa-plus-square-o'\n            style='font-size: 100px; padding-left: 10px; padding-right: 10px; border-radius: 5px; border: solid 1px #DDD;'\n            v-if='preview2 === \"\"'\n            @click='clickUploadImageInputForComment'\n          />\n          <input\n            ref='uploadImageInputForComment'\n            accept='image/*'\n            type='file'\n            multiple\n            style='display: none'\n            :value='inputImage'\n            @change='handleInputChange'\n          />\n        </div>\n        <div style='display: flex; justify-content: center; align-self: center; margin-top: 30px;'>\n          <mt-button\n            style='margin-right: 10px; padding-left: 30px; padding-right: 30px;'\n            @click='comfirmUpload'\n          >\n            确定\n          </mt-button>\n          <mt-button\n            style='margin-left: 10px; padding-left: 30px; padding-right: 30px;'\n            @click='cancleUpload'\n          >\n            取消\n          </mt-button>\n        </div>\n      </div>\n    </mt-popup>\n\n    <!-- 回复的弹框 -->\n    <mt-popup\n      class='replyPop'\n      position='right'\n      v-if='Object.keys(commentObj)'\n      v-model='replyVisible'\n    >\n      <div>\n        <mt-button\n          style='margin-top: 10px; margin-bottom: 10px; padding-left: 10px; padding-right: 10px;'\n          @click='replyVisible = false'\n        >\n          返回\n        </mt-button>\n      </div>\n      <div class='commentCell'>\n        <div class='commentTop'>\n          <img\n            class='avatar'\n            :src='commentObj.avatar'\n          />\n          <span class='userName'>{{commentObj.userName}}</span>\n          <div class='approve'>\n            <i\n              class='fa fa-thumbs-o-up'\n              style='font-size: 18px; margin-right: 5px;'\n              :id='\"approvepop\" + commentObj.id'\n              @click='approveHandle(-1, 0, 1)'\n            />\n            <span>{{approveL}}</span>\n          </div>\n        </div>\n        <p class='text'>{{commentObj.text}}</p>\n        <div\n          class='imagesBox'\n          v-if='commentObj.images && commentObj.images.length'\n        >\n          <img\n            class='textImg'\n            :src='img'\n            v-for='img in commentObj.images'\n            @click='showImg(img)'\n          >\n        </div>\n        <span style='color: gray; font-size: 12px;'>\n          {{formatTime(commentObj.createTime)}}\n        </span>\n        <span\n          class='replyBtn'\n          @click='handleOnReply(-1, 0, 1)'\n        >\n          回复({{replyList.length}})\n        </span>\n      </div>\n      <hr>\n      <div\n        class='commentCell'\n        v-for='(reply, i) in replyList'\n      >\n        <div class='commentTop'>\n          <img\n            class='avatar'\n            :src='reply.avatar'\n          />\n          <span class='userName'>{{reply.userName}}</span>\n          <span style='font-size: 14px; color:gray; margin-left: 5px; margin-right: 5px;'>@:</span>\n          <span class='userName'>{{reply.originUserName}}</span>\n          <div class='approve'>\n            <i\n              class='fa fa-thumbs-o-up'\n              style='font-size: 18px; margin-right: 5px;'\n              :id='\"approve\" + reply.id'\n              @click='approveHandle(index, i, 2)'\n            />\n            <span>{{reply.approve.length}}</span>\n          </div>\n        </div>\n        <p class='text'>{{reply.text}}</p>\n        <div\n          class='imagesBox'\n          v-if='reply.images.length'\n        >\n          <img\n            class='textImg'\n            :src='img'\n            v-for='img in reply.images'\n            @click='showImg(img)'\n          />\n        </div>\n        <span style='color: gray; font-size: 12px;'>\n          {{formatTime(reply.createTime)}}\n        </span>\n        <span\n          class='replyBtn'\n          @click='handleOnReply(-1, i, 2)'\n        >\n          回复\n        </span>\n      </div>\n    </mt-popup>\n\n    <!-- 回复对话框 -->\n    <mt-popup\n      class='imagesUploadDialog'\n      v-model='rrVisible'\n    >\n      <mt-field\n        class='replyInput'\n        placeholder='请输入回复'\n        v-model='replyText'\n      />\n      <div style='text-align: left;margin-top: 5px;'>\n        <p style='font-size: 12px;color:gray;margin:0 12px'>至多可提交3张图片</p>\n        <img :src='preview0' v-if=' preview0 !== \"\" ' height='70px' style='margin-left: 10px;'>\n        <img :src='preview1' v-if=' preview1 !== \"\" ' height='70px' >\n        <img :src='preview2' v-if=' preview2 !== \"\" ' height='70px' >\n        <i\n          class='fa fa-plus-square-o'\n          style='font-size: 70px;margin-left: 5%;' v-if=' preview2 === \"\" '\n          @click='clickUploadImageInputForReply'\n        />\n        <input\n          ref='uploadImageInputForReply'\n          type='file'\n          accept='image/*'\n          multiple\n          style='display: none'\n          :value='inputImage'\n          @change='handleInputChange'\n        >\n      </div>\n      <div style='display: flex; justify-content: center; align-self: center; margin-top: 30px;'>\n        <mt-button\n          style='margin-right: 10px; padding-left: 30px; padding-right: 30px;'\n          @click='confirmReply'\n        >\n          确定\n        </mt-button>\n        <mt-button\n          style='margin-left: 10px; padding-left: 30px; padding-right: 30px;'\n          @click='cancleReply'\n        >\n          取消\n        </mt-button>\n      </div>\n    </mt-popup>\n\n    <mt-popup\n      position='right'\n      class='showImg'\n      v-model='showImgVisible'\n    >\n      <img\n        style='width: 100%; height: 100%;'\n        :src='showImgUrl'\n      />\n    </mt-popup>\n  </div>\n</template>\n\n<script>\n\nimport { Toast } from 'mint-ui'\nimport { Indicator } from 'mint-ui'\nimport Viewer from 'viewerjs'\n\nexport default {\n  name: 'Comment',\n\n  props: {\n    docId: {\n      type: String,\n      required: true,\n    },\n    comments: {\n      type: Array,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      approveCount: [],\n      approveL: 0,\n      approveList: [],\n      change: false,\n      commentId: '',\n      commentList: this.comments,\n      commentObj: {},\n      files: [],\n      images: [],\n      index: -1,\n      inputImage: '',\n      isShowUploadImageIcon: false,\n      isShowUploadImagesDialog: false,\n      myComment: '',\n      preview0: '',\n      preview1: '',\n      preview2: '',\n      replyId: -1,\n      replyIndex: -1,\n      replyList: [],\n      replyText: '',\n      replyVisible: false,\n      rrVisible: false,\n      showImgUrl: '',\n      showImgVisible: false,\n      showIndex: [],\n      uploadFile: [],\n    }\n  },\n\n  watch: {\n    comments() {\n      this.commentList = this.comments\n    }\n  },\n\n  methods: {\n    confirmComment() {\n      if (this.myComment === '' && this.preview0 === '') {\n        Toast('请输入评论')\n      } else {\n        const formData = new FormData()\n        formData.append('text', this.myComment)\n        formData.append('docId', this.docId)\n        for (let i = 0; i < this.uploadFile.length; i++) {\n          formData.append('files', this.uploadFile[i])\n        }\n\n        /* 显示上传评论提示 */\n        Indicator.open()\n\n        this\n          .$http\n          .post('/comments/', formData)\n          .then((res) => {\n            this.commentList.unshift(res.data)\n          }).then(() => {\n            /* 关闭上传评论提示 */\n            Indicator.close()\n\n            Toast({\n              message: '评论成功',\n              iconClass: 'fa fa-check',\n            })\n          }).catch(() => {\n            /* 关闭上传评论提示 */\n            Indicator.close()\n\n            Toast({\n              message: '评论失败',\n              iconClass: 'fa fa-exclamation-triangle',\n            })\n          })\n\n        this.myComment = ''\n        this.isShowUploadImageIcon = false\n\n        /* 清空上传图片相关 */\n        this.cancleImage()\n      }\n    },\n\n    /* 处于评论状态时点击上传图片按钮 */\n    clickUploadImageInputForComment() {\n      this.inputImage = ''\n      this.$refs.uploadImageInputForComment.click()\n    },\n\n    /* 处于回复状态时点击上传图片按钮 */\n    clickUploadImageInputForReply() {\n      this.inputImage = ''\n      this.$refs.uploadImageInputForReply.click()\n    },\n\n    /* 转换文件类型 */\n    handleInputChange(event) {\n      if (event.target.files) {\n        this.files = Array.from(event.target.files)\n        this.transformToDataUrl(this.files)\n      }\n    },\n\n    transformToDataUrl(files) {\n      for (let i = 0; i < 3; i++) {\n        if (files[i]) {\n          if (this.preview0 === '') {\n            this.preview0 = URL.createObjectURL(files[i])\n          } else if (this.preview1 === '') {\n            this.preview1 = URL.createObjectURL(files[i])\n          } else {\n            this.preview2 = URL.createObjectURL(files[i])\n          }\n        }\n      }\n    },\n\n    /* 确认上传图片 */\n    comfirmUpload() {\n      this.isShowUploadImagesDialog = false\n      this.uploadFile = this.files\n      this.isShowUploadImageIcon = true\n    },\n\n    /* 取消上传图片 */\n    cancleUpload() {\n      this.isShowUploadImagesDialog = false\n      this.cancleImage()\n    },\n\n    /* 删除图片相关 */\n    cancleImage() {\n      this.uploadFile = []\n      this.files = []\n      this.preview0 = ''\n      this.preview1 = ''\n      this.preview2 = ''\n    },\n\n    showImg(imgUrl) {\n      this.showImgUrl = imgUrl\n      this.showImgVisible = true\n    },\n\n    /* 点击回复按钮 */\n    handleOnReply(index, i, type) {\n      if (index !== -1) {\n        this.index = index\n      } else {\n        index = this.index\n      }\n      this.commentObj = this.commentList[index]\n      this.approveL = this.commentObj.approve.length\n      this.replyList = this.commentObj.replies\n      this.replyVisible = true\n      this.rrVisible = true\n      this.replyFormData = new FormData()\n      this.replyFormData.append('commentId', this.commentObj.id)\n\n      if (type === 1) {\n        this.replyFormData.append('sourceId', this.commentObj.accountId)\n      } else {\n        this.replyFormData.append('sourceId', this.commentObj.replies[i].accountId)\n      }\n      this.replyIndex = index\n    },\n\n    /* 确认回复 */\n    confirmReply() {\n      this.isShowUploadImageIcon = false\n      this.rrVisible = false\n      this.comfirmUpload()\n      for (let i = 0; i < this.uploadFile.length; i++) {\n        this.replyFormData.append('files', this.uploadFile[i])\n      }\n      this.replyFormData.append('text', this.replyText)\n\n      if (this.replyText === '' && this.preview0 === '') {\n        Toast('请输入回复')\n      } else {\n        Indicator.open({ position: 'bottom' })\n        this.preview0 = ''\n        this\n          .$http\n          .post(`/comments/${this.commentList[this.replyIndex].id}/reply`, this.replyFormData)\n          .then((res) => {\n            this.replyList = res.data.replies\n            this.commentList[this.index].replies = res.data.replies\n            this.cancleImage()\n            this.replyText = ''\n            Indicator.close()\n            Toast({\n              message: '回复成功',\n              iconClass: 'icon icon-success',\n              position: 'bottom',\n            })\n            this.showReply(this.replyIndex)\n          })\n          .catch(() => {\n            Indicator.close()\n            Toast({\n              message: '回复失败',\n              iconClass: 'icon icon-success',\n              position: 'bottom',\n            })\n          })\n      }\n    },\n\n    /* 取消回复 */\n    cancleReply() {\n      this.cancleImage()\n      this.rrVisible = false\n      this.replyText = ''\n    },\n\n    /* 显示回复列表 */\n    showReply(index) {\n      if (this.showIndex.indexOf(index) !== -1) {\n        const i = this.showIndex.indexOf(index)\n        this.showIndex.splice(i, 1)\n      } else {\n        this.showIndex.push(index)\n      }\n    },\n\n    /* 点赞 */\n    approveHandle(index, i, type) {\n      if (index === -1) {\n        index = this.index\n      }\n      if (type === 1) {\n        /* 点赞评论 */\n        this.commentId = this.commentList[index].id\n        this.accountId = this.commentList[index].accountId\n        this.approveList = this.commentList[index].approve\n      } else {\n        /* 点赞回复 */\n        this.commentId = this.commentList[index].replies[i].id\n        this.accountId = this.commentList[index].replies[i].accountId\n        this.approveList = this.commentList[index].replies[i].approve\n      }\n      /* 检查此评论是否被点赞过（查找list中有没有这个accountId） */\n      if (this.approveList.indexOf(this.accountId) === -1) {\n        document.getElementById(`approve${this.commentId}`).style.color = '#2196F3'\n        if (document.getElementById(`approvepop${this.commentId}`)) {\n          document.getElementById(`approvepop${this.commentId}`).style.color = '#2196F3'\n        }\n        this.approveList.push(this.accountId)\n        if (type === 1) {\n          this.approveL = this.approveList.length\n        }\n        this\n          .$http\n          .put(`/comments/${this.commentId}/approve`, { approve: true })\n      } else {\n        const cancleIndex = this.approveList.indexOf(this.accountId)\n        this.approveList.splice(cancleIndex, 1)\n        if (type === 1) {\n          this.approveL = this.approveList.length\n        }\n        document.getElementById(`approve${this.commentId}`).style.color = 'black'\n        if (document.getElementById(`approvepop${this.commentId}`)) {\n          document.getElementById(`approvepop${this.commentId}`).style.color = 'black'\n        }\n        this.$http.put(`/comments/${this.commentId}/approve`, { approve: false })\n      }\n    },\n\n    /* 格式化时间 */\n    formatTime(time) {\n      const parseTime = new Date(time)\n\n      return `${parseTime.getFullYear()}-${parseTime.getMonth() + 1}-${parseTime.getDate()} ${this.paddingNumberWithZero(parseTime.getHours())}:${this.paddingNumberWithZero(parseTime.getMinutes())}:${this.paddingNumberWithZero(parseTime.getSeconds())}`\n    },\n\n    /* 针对只有个位的数字，返回一个前置补零的字符串 */\n    paddingNumberWithZero(number) {\n      return number > 9 ? String(number) : `0${number}`\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.commentContainer {\n  margin: 10px 10px 60px;\n}\n\n.commentInput {\n  position: fixed;\n  z-index: 200;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  border-top: 1px solid #AAA;\n}\n\n.commentCell {\n  margin-bottom: 10px;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: #EEE;\n}\n\n.commentTop {\n  position: relative;\n  display: flex;\n  width: 100%;\n  align-items: center;\n}\n\n.avatar {\n  width: 25px;\n  height: 25px;\n  border: 1px solid lightgray;\n  border-radius: 50%;\n}\n\n.userName {\n  font-size: 16px;\n  color: #5082B4;\n  margin-left: 5px;\n}\n\n.approve {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  transform: translate(0, -50%);\n  display: inline-flex;\n  align-items: center;\n}\n\n.text {\n  padding: 5px 30px;\n  word-wrap: break-word;\n}\n\n.imagesBox {\n  padding-left: 30px;\n}\n\n.mint-indicator-wrapper {\n  z-index: 2100 !important;\n}\n\n.mint-toast {\n  z-index: 2100 !important;\n}\n\n.changeColor {\n  color: blue;\n}\n\n.line {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  border: 0.5px solid #ddd;\n}\n\n.top {\n  margin-bottom: 10px;\n}\n\n.showImg {\n  width: 80%;\n  margin-right: 10%;\n}\n\n.imagesUploadDialog {\n  box-sizing: border-box;\n  min-width: 80%;\n  min-height: 200px;\n  max-height: 400px;\n  padding: 10px;\n  border-radius: 5px;\n}\n\n.textImg {\n  width: 60px;\n  height: 60px;\n  font-size: 14px;\n  display: inline-block;\n  padding: 5px;\n}\n\n.replyPop {\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  padding-left: 10px;\n  padding-right: 10px;\n  box-sizing: border-box;\n}\n\n.replyBtnCell {\n  float: right;\n}\n\n.replyBtn {\n  font-size: 14px;\n  padding: 0 8px;\n  color: #60898b;\n}\n\n.replyInput {\n  margin: 20px 10px;\n  margin-bottom: 0px;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n}\n\n.replyCell {\n  margin-top: -10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Player/Comment/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"commentContainer\"},[_c('mt-field',{staticClass:\"commentInput\",attrs:{\"placeholder\":\"评论\",\"disableClear\":\"\"},model:{value:(_vm.myComment),callback:function ($$v) {_vm.myComment=$$v},expression:\"myComment\"}},[(!_vm.isShowUploadImageIcon)?_c('i',{staticClass:\"fa fa-picture-o\",staticStyle:{\"font-size\":\"20px\"},on:{\"click\":function($event){_vm.isShowUploadImagesDialog = true}}}):_vm._e(),_vm._v(\" \"),(_vm.isShowUploadImageIcon)?_c('img',{attrs:{\"width\":\"35px\",\"src\":_vm.preview0}}):_vm._e(),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"margin-left\":\"10px\",\"height\":\"35px\",\"background-color\":\"#418642\",\"color\":\"#FFF\"},on:{\"click\":function($event){_vm.confirmComment()}}},[_vm._v(\"\\n      提交\\n    \")])],1),_vm._v(\" \"),_vm._l((_vm.commentList),function(comment,index){return _c('div',{key:comment.id,staticClass:\"commentCell\"},[_c('div',{staticClass:\"commentTop\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":comment.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(comment.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"approve\"},[_c('i',{staticClass:\"fa fa-thumbs-o-up\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"5px\"},attrs:{\"id\":\"approve\" + comment.id},on:{\"click\":function($event){_vm.approveHandle(index, 0, 1)}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(comment.approve.length))])])]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(comment.text))]),_vm._v(\" \"),(comment.images.length)?_c('div',{staticClass:\"imagesBox\"},_vm._l((comment.images),function(img){return _c('img',{staticClass:\"textImg\",attrs:{\"src\":img},on:{\"click\":function($event){_vm.showImg(img)}}})})):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"gray\",\"font-size\":\"12px\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.formatTime(comment.createTime))+\"\\n    \")]),_vm._v(\" \"),_c('span',{staticClass:\"replyBtn\",on:{\"click\":function($event){_vm.handleOnReply(index, 0, 1)}}},[_vm._v(\"\\n      回复(\"+_vm._s(comment.replies.length)+\")\\n    \")])])}),_vm._v(\" \"),(!_vm.commentList.length)?_c('h3',{staticStyle:{\"color\":\"gray\"}},[_vm._v(\"暂无评论，快来评论吧！\")]):_vm._e(),_vm._v(\" \"),_c('mt-popup',{staticClass:\"imagesUploadDialog\",attrs:{\"popup-transition\":\"popup-fade\"},model:{value:(_vm.isShowUploadImagesDialog),callback:function ($$v) {_vm.isShowUploadImagesDialog=$$v},expression:\"isShowUploadImagesDialog\"}},[_c('div',[_c('p',{staticStyle:{\"padding-bottom\":\"10px\",\"color\":\"#555\"}},[_vm._v(\"最多可上传3张图片\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[(_vm.preview0 !== \"\")?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"solid 1px #DDD\",\"margin-right\":\"10px\"},attrs:{\"src\":_vm.preview0,\"height\":\"100px\"}}):_vm._e(),_vm._v(\" \"),(_vm.preview1 !== \"\")?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"solid 1px #DDD\",\"margin-right\":\"10px\"},attrs:{\"src\":_vm.preview1,\"height\":\"100px\"}}):_vm._e(),_vm._v(\" \"),(_vm.preview2 !== \"\")?_c('img',{staticStyle:{\"border-radius\":\"5px\",\"border\":\"solid 1px #DDD\",\"margin-right\":\"10px\"},attrs:{\"src\":_vm.preview2,\"height\":\"100px\"}}):_vm._e(),_vm._v(\" \"),(_vm.preview2 === \"\")?_c('i',{staticClass:\"fa fa-plus-square-o\",staticStyle:{\"font-size\":\"100px\",\"padding-left\":\"10px\",\"padding-right\":\"10px\",\"border-radius\":\"5px\",\"border\":\"solid 1px #DDD\"},on:{\"click\":_vm.clickUploadImageInputForComment}}):_vm._e(),_vm._v(\" \"),_c('input',{ref:\"uploadImageInputForComment\",staticStyle:{\"display\":\"none\"},attrs:{\"accept\":\"image/*\",\"type\":\"file\",\"multiple\":\"\"},domProps:{\"value\":_vm.inputImage},on:{\"change\":_vm.handleInputChange}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-self\":\"center\",\"margin-top\":\"30px\"}},[_c('mt-button',{staticStyle:{\"margin-right\":\"10px\",\"padding-left\":\"30px\",\"padding-right\":\"30px\"},on:{\"click\":_vm.comfirmUpload}},[_vm._v(\"\\n          确定\\n        \")]),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"margin-left\":\"10px\",\"padding-left\":\"30px\",\"padding-right\":\"30px\"},on:{\"click\":_vm.cancleUpload}},[_vm._v(\"\\n          取消\\n        \")])],1)])]),_vm._v(\" \"),(Object.keys(_vm.commentObj))?_c('mt-popup',{staticClass:\"replyPop\",attrs:{\"position\":\"right\"},model:{value:(_vm.replyVisible),callback:function ($$v) {_vm.replyVisible=$$v},expression:\"replyVisible\"}},[_c('div',[_c('mt-button',{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\",\"padding-left\":\"10px\",\"padding-right\":\"10px\"},on:{\"click\":function($event){_vm.replyVisible = false}}},[_vm._v(\"\\n        返回\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"commentCell\"},[_c('div',{staticClass:\"commentTop\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.commentObj.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(_vm.commentObj.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"approve\"},[_c('i',{staticClass:\"fa fa-thumbs-o-up\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"5px\"},attrs:{\"id\":\"approvepop\" + _vm.commentObj.id},on:{\"click\":function($event){_vm.approveHandle(-1, 0, 1)}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.approveL))])])]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.commentObj.text))]),_vm._v(\" \"),(_vm.commentObj.images && _vm.commentObj.images.length)?_c('div',{staticClass:\"imagesBox\"},_vm._l((_vm.commentObj.images),function(img){return _c('img',{staticClass:\"textImg\",attrs:{\"src\":img},on:{\"click\":function($event){_vm.showImg(img)}}})})):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"gray\",\"font-size\":\"12px\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.formatTime(_vm.commentObj.createTime))+\"\\n      \")]),_vm._v(\" \"),_c('span',{staticClass:\"replyBtn\",on:{\"click\":function($event){_vm.handleOnReply(-1, 0, 1)}}},[_vm._v(\"\\n        回复(\"+_vm._s(_vm.replyList.length)+\")\\n      \")])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_vm._l((_vm.replyList),function(reply,i){return _c('div',{staticClass:\"commentCell\"},[_c('div',{staticClass:\"commentTop\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":reply.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(reply.userName))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"14px\",\"color\":\"gray\",\"margin-left\":\"5px\",\"margin-right\":\"5px\"}},[_vm._v(\"@:\")]),_vm._v(\" \"),_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(reply.originUserName))]),_vm._v(\" \"),_c('div',{staticClass:\"approve\"},[_c('i',{staticClass:\"fa fa-thumbs-o-up\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"5px\"},attrs:{\"id\":\"approve\" + reply.id},on:{\"click\":function($event){_vm.approveHandle(_vm.index, i, 2)}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(reply.approve.length))])])]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(reply.text))]),_vm._v(\" \"),(reply.images.length)?_c('div',{staticClass:\"imagesBox\"},_vm._l((reply.images),function(img){return _c('img',{staticClass:\"textImg\",attrs:{\"src\":img},on:{\"click\":function($event){_vm.showImg(img)}}})})):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"gray\",\"font-size\":\"12px\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.formatTime(reply.createTime))+\"\\n      \")]),_vm._v(\" \"),_c('span',{staticClass:\"replyBtn\",on:{\"click\":function($event){_vm.handleOnReply(-1, i, 2)}}},[_vm._v(\"\\n        回复\\n      \")])])})],2):_vm._e(),_vm._v(\" \"),_c('mt-popup',{staticClass:\"imagesUploadDialog\",model:{value:(_vm.rrVisible),callback:function ($$v) {_vm.rrVisible=$$v},expression:\"rrVisible\"}},[_c('mt-field',{staticClass:\"replyInput\",attrs:{\"placeholder\":\"请输入回复\"},model:{value:(_vm.replyText),callback:function ($$v) {_vm.replyText=$$v},expression:\"replyText\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\",\"margin-top\":\"5px\"}},[_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"gray\",\"margin\":\"0 12px\"}},[_vm._v(\"至多可提交3张图片\")]),_vm._v(\" \"),( _vm.preview0 !== \"\" )?_c('img',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"src\":_vm.preview0,\"height\":\"70px\"}}):_vm._e(),_vm._v(\" \"),( _vm.preview1 !== \"\" )?_c('img',{attrs:{\"src\":_vm.preview1,\"height\":\"70px\"}}):_vm._e(),_vm._v(\" \"),( _vm.preview2 !== \"\" )?_c('img',{attrs:{\"src\":_vm.preview2,\"height\":\"70px\"}}):_vm._e(),_vm._v(\" \"),( _vm.preview2 === \"\" )?_c('i',{staticClass:\"fa fa-plus-square-o\",staticStyle:{\"font-size\":\"70px\",\"margin-left\":\"5%\"},on:{\"click\":_vm.clickUploadImageInputForReply}}):_vm._e(),_vm._v(\" \"),_c('input',{ref:\"uploadImageInputForReply\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"multiple\":\"\"},domProps:{\"value\":_vm.inputImage},on:{\"change\":_vm.handleInputChange}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-self\":\"center\",\"margin-top\":\"30px\"}},[_c('mt-button',{staticStyle:{\"margin-right\":\"10px\",\"padding-left\":\"30px\",\"padding-right\":\"30px\"},on:{\"click\":_vm.confirmReply}},[_vm._v(\"\\n        确定\\n      \")]),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"margin-left\":\"10px\",\"padding-left\":\"30px\",\"padding-right\":\"30px\"},on:{\"click\":_vm.cancleReply}},[_vm._v(\"\\n        取消\\n      \")])],1)],1),_vm._v(\" \"),_c('mt-popup',{staticClass:\"showImg\",attrs:{\"position\":\"right\"},model:{value:(_vm.showImgVisible),callback:function ($$v) {_vm.showImgVisible=$$v},expression:\"showImgVisible\"}},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.showImgUrl}})])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b44363e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Player/Comment/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b44363e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b44363e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b44363e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Player/Comment/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class='score'>\n    <div class='left'>\n      <span style='font-size: 16px; font-weight: 800; margin-right: 5px;'>\n        评分:\n      </span>\n      <span style='font-size: 26px; font-weight: 800;'>\n        {{score === -1 ? '暂无评分' : `${score}/5`}}\n      </span>\n    </div>\n    <router-link\n      class='right'\n      v-if='accountId !== -1 && Object.keys(teacherInformation).length'\n      :to='`/teacher/${accountId}`'\n    >\n      <img\n        style='width: 30px; height: 30px; border-radius: 50%;'\n        :src='teacherInformation.avatar'\n      />\n      <span style='color: #000; font-size: 20px;'>\n        {{teacherInformation.name || teacherInformation.nickname}}\n      </span>\n      <i\n        class='fa fa-angle-right'\n        style='color: #000; font-size: 20px;'\n      />\n    </router-link>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Score',\n\n  props: {\n    accountId: {\n      type: Number,\n      required: true,\n    },\n    score: {\n      type: Number,\n      required: true,\n    },\n    teacherInformation: {\n      type: Object,\n      required: true,\n      default: function() {\n        return {}\n      }\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.score {\n  height: 50px;\n  padding: 0 10px;\n  border-bottom: 1px solid #EEE;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.right {\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n}\n\n.right > * {\n  margin-left: 10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Player/Score/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"score\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"800\",\"margin-right\":\"5px\"}},[_vm._v(\"\\n      评分:\\n    \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"26px\",\"font-weight\":\"800\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.score === -1 ? '暂无评分' : (_vm.score + \"/5\"))+\"\\n    \")])]),_vm._v(\" \"),(_vm.accountId !== -1 && Object.keys(_vm.teacherInformation).length)?_c('router-link',{staticClass:\"right\",attrs:{\"to\":(\"/teacher/\" + _vm.accountId)}},[_c('img',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"border-radius\":\"50%\"},attrs:{\"src\":_vm.teacherInformation.avatar}}),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#000\",\"font-size\":\"20px\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.teacherInformation.name || _vm.teacherInformation.nickname)+\"\\n    \")]),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-angle-right\",staticStyle:{\"color\":\"#000\",\"font-size\":\"20px\"}})]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-292d2f14\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Player/Score/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-292d2f14\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-292d2f14\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-292d2f14\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Player/Score/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div\n    class='subtitles'\n    :style='subtitleContainerMarginTop ? { marginTop: `${subtitleContainerMarginTop}px` } : undefined'\n  >\n    <div\n      class='subtitle'\n      v-for='(subtitle, index) in subtitles'\n      :class='{activeSubtitle: index === activeSubtitleIndex }'\n      :key='subtitle.beginTime'\n      :ref='index === activeSubtitleIndex ? \"activeSubtitle\" : undefined'\n    >\n      <span class='start'>{{formatDuring(subtitle.beginTime)}}</span>\n      <span class='wordstext'>{{subtitle.text}}</span>\n    </div>\n    <h3\n      style='color: gray; margin-top: 100px;'\n      v-if='!subtitles.length'\n    >\n      暂无字幕\n    </h3>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Subtitles',\n\n  props: {\n    activeSubtitleIndex: {\n      type: Number,\n      required: true,\n    },\n    subtitles: {\n      type: Array,\n      required: true,\n    },\n    subtitleContainerMarginTop: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      text: '',\n      time: '',\n      scroll: '',\n      count: 0,\n    }\n  },\n\n  updated() {\n    if (this.$refs.activeSubtitle && this.$refs.activeSubtitle[0]) {\n      const offsetTop = this.$refs.activeSubtitle[0].offsetTop\n      document.documentElement.scrollTop = offsetTop - (window.innerHeight - this.subtitleContainerMarginTop) / 2\n    }\n  },\n\n  methods: {\n    formatDuring(mss) {\n      let minutes = parseInt((mss % (1000 * 60 * 60)) / (1000 * 60))\n      let seconds = parseInt((mss % (1000 * 60)) / 1000)\n      if (seconds < 10) {\n        seconds = `0${seconds}`\n      }\n      if (minutes < 10) {\n        minutes = `0${minutes}`\n      }\n      return `${minutes}:${seconds}`\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.subtitles {\n  position: relative;\n  border-top: solid 1px #EEE\n}\n\n.subtitle {\n  text-align: left;\n  font-size: 16px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  color:gray;\n  display: flex;\n  align-items:center;\n  padding: 6px;\n  border-bottom: 1px solid lightgray;\n}\n\n.start {\n  display: inline-block;\n  width: 15%;\n  height: 18px;\n  margin-left: 1%;\n  margin-right: 3%;\n  font-size: 15px;\n}\n\n.wordstext {\n  width: 70%;\n  overflow: hidden;\n  display: inline-block;\n}\n\n.activeSubtitle {\n  color: black;\n  background-color: #DDD;\n  transition: background-color 0.1s;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Player/Subtitles/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subtitles\",style:(_vm.subtitleContainerMarginTop ? { marginTop: (_vm.subtitleContainerMarginTop + \"px\") } : undefined)},[_vm._l((_vm.subtitles),function(subtitle,index){return _c('div',{key:subtitle.beginTime,ref:index === _vm.activeSubtitleIndex ? \"activeSubtitle\" : undefined,refInFor:true,staticClass:\"subtitle\",class:{activeSubtitle: index === _vm.activeSubtitleIndex }},[_c('span',{staticClass:\"start\"},[_vm._v(_vm._s(_vm.formatDuring(subtitle.beginTime)))]),_vm._v(\" \"),_c('span',{staticClass:\"wordstext\"},[_vm._v(_vm._s(subtitle.text))])])}),_vm._v(\" \"),(!_vm.subtitles.length)?_c('h3',{staticStyle:{\"color\":\"gray\",\"margin-top\":\"100px\"}},[_vm._v(\"\\n    暂无字幕\\n  \")]):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5532351d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Player/Subtitles/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5532351d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5532351d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5532351d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Player/Subtitles/index.vue\n// module id = null\n// module chunks = ","const key = {\n  fullscreenEnabled: 0,\n  fullscreenElement: 1,\n  requestFullscreen: 2,\n  exitFullscreen: 3,\n  fullscreenchange: 4,\n  fullscreenerror: 5,\n}\n\nconst webkit = [\n  'webkitFullscreenEnabled',\n  'webkitFullscreenElement',\n  'webkitRequestFullscreen',\n  'webkitExitFullscreen',\n  'webkitfullscreenchange',\n  'webkitfullscreenerror',\n]\n\nconst moz = [\n  'mozFullScreenEnabled',\n  'mozFullScreenElement',\n  'mozRequestFullScreen',\n  'mozCancelFullScreen',\n  'mozfullscreenchange',\n  'mozfullscreenerror',\n]\n\nconst ms = [\n  'msFullscreenEnabled',\n  'msFullscreenElement',\n  'msRequestFullscreen',\n  'msExitFullscreen',\n  'MSFullscreenChange',\n  'MSFullscreenError',\n]\n\n// so it doesn't throw if no window or document\nconst document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {}\n\nconst vendor = (\n  ('fullscreenEnabled' in document && Object.keys(key)) ||\n  (webkit[0] in document && webkit) ||\n  (moz[0] in document && moz) ||\n  (ms[0] in document && ms) ||\n  []\n)\n\nexport default {\n  requestFullscreen: element => element[vendor[key.requestFullscreen]](),\n  requestFullscreenFunction: element => element[vendor[key.requestFullscreen]],\n  get exitFullscreen() { return document[vendor[key.exitFullscreen]].bind(document) },\n  addEventListener: (type, handler, options) => document.addEventListener(vendor[key[type]], handler, options),\n  removeEventListener: (type, handler, options) => document.removeEventListener(vendor[key[type]], handler, options),\n  get fullscreenEnabled() { return Boolean(document[vendor[key.fullscreenEnabled]]) },\n  set fullscreenEnabled(val) {},\n  get fullscreenElement() { return document[vendor[key.fullscreenElement]] },\n  set fullscreenElement(val) {},\n  get onfullscreenchange() { return document[`on${vendor[key.fullscreenchange]}`.toLowerCase()] },\n  set onfullscreenchange(handler) { return document[`on${vendor[key.fullscreenchange]}`.toLowerCase()] = handler },\n  get onfullscreenerror() { return document[`on${vendor[key.fullscreenerror]}`.toLowerCase()] },\n  set onfullscreenerror(handler) { return document[`on${vendor[key.fullscreenerror]}`.toLowerCase()] = handler },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Player/Player/lib/fscreen.js","import axios from 'axios'\nimport Hammer from 'hammerjs'\nimport fscreen from '../lib/fscreen'\n\nimport './Player.css'\n\nexport default class Player {\n  /* 格式化 Action 数据 */\n  static formatActionData(actionData) {\n    return {\n      actions: actionData.actions.map((action, index) => ({\n        ...action,\n        actionId: index,\n        color: action.color,\n        endTime: action.endTime ? Math.round(window.parseFloat(action.endTime) * 10) * 100 : undefined,\n        id: action.id,\n        points: action.points ? action.points.map(point => [window.parseFloat(point.x), window.parseFloat(point.y)]) : undefined,\n        startTime: Math.round(window.parseFloat(action.startTime) * 10) * 100,\n        target: action.target,\n        type: action.type,\n        width: action.width ? window.parseInt(action.width, 10) : undefined,\n        yDistance: action.yDistance ? window.parseInt(action.yDistance, 10) : undefined,\n      })).sort((prev, next) => prev.startTime - next.startTime),\n      draftHeight: window.parseInt(actionData.draftHeight, 10),\n      draftWidth: window.parseInt(actionData.draftWidth, 10),\n      windowHeight: window.parseInt(actionData.windowHeight, 10),\n      windowWidth: window.parseInt(actionData.windowWidth, 10),\n    }\n  }\n\n  constructor({\n    actionUrl,\n    audioUrl,\n    duration,\n    element,\n    imageUrls,\n    mode = 'mobile',\n    size,\n    subtitles,\n  }) {\n    this.actionData = {\n      actions: null,\n      draftHeight: 0,\n      draftWidth: 0,\n      windowHeight: 0,\n      windowWidth: 0,\n    }\n    this.domRefs = {\n      audio: null,\n      images: [],\n      imageContainer: null,\n      playerContainer: element,\n    }\n    this.options = {\n      /* 外部实例化时传入的配置项参数 */\n      actionUrl,\n      audioUrl,\n      duration,\n      element,\n      imageUrls,\n      mode,\n      size,\n      subtitles,\n      /* 滚动一页距离需要的时间，以秒为单位 */\n      scrollDuration: 1,\n      /* 是否自动播放 */\n      autoPlay: mode === 'mobile',\n      /* 字幕初始大小 */\n      captionFontSize: 16,\n    }\n    this.state = {\n      /* 语音文件加载状态 */\n      audioLoadStatus: 'initial',\n      /* 图集加载状态 */\n      imagesLoaded: new Array(imageUrls.length, false),\n      /* 播放器能否开始播放 */\n      canPlay: false,\n      /* setTimeout注册动作的返回值，暂停时需取消已注册的动作 */\n      nextAction: null,\n      nextActionIndex: 0,\n      /* 使用这个取消注册的动画 */\n      animation: null,\n      /* 使用这个注册动画 */\n      animationObj: null,\n      /* 播放器处于暂停或播放状态 */\n      halt: true,\n      /* 播放器是否正在等候加载 */\n      isLoading: true,\n      /* 是否处于网页全屏 */\n      isPageFullscreenOpen: false,\n      /* 草稿纸是否处于打开状态 */\n      isdraftOpen: false,\n      /* 草稿纸的宽度，用于打开草稿纸时进行恢复 */\n      draftWidth: 0,\n      /* 当前使用的草稿纸编号，从1开始 */\n      draftNum: 1,\n      /* 保存所有canvas的context，一个是在课件上绘制笔迹的canvas，其余为草稿纸canvas */\n      contexts: [],\n      /* 保存课件canvas和草稿纸canvas使用的比例 */\n      propotions: [],\n      /* 当前使用的比例 */\n      propotion: 1,\n      /* 当前使用的context */\n      ctx: null,\n      /* 当前显示的字幕索引 */\n      currentSubtitleIndex: 0,\n      /* 字幕数组 */\n      subtitles: this.options.subtitles || [],\n      /* 是否开启字幕 */\n      isCaptionsOpen: mode === 'mobile',\n      /* 播放器的初始宽度，用于退出全屏时进行恢复 */\n      initialWidth: element.offsetWidth,\n      /* 用于记录加载完成后如何恢复状态，分别为正在等待加载的页码和加载成功后恢复的时刻 */\n      wating: {\n        waitingPage: null,\n        waitingTime: null,\n      },\n    }\n    /* html模板 */\n    this.template = {\n      playerControl: `\n        <div class=\"player-main\">\n          <div class=\"player-section-left\">\n            <button class=\"player-section player-play player-button\" title=\"播放\">\n              <i class=\"fa fa-play\"></i>\n            </button>\n            <div class=\"player-section player-time\">\n              <span class=\"current-time\">0</span>\n              <span class=\"player-time-divider\">/</span>\n              <span class=\"duration\">${Player.normalizeTime(this.options.duration)}</span>\n            </div>\n          </div>\n          <div class=\"player-section-right\">\n            <button class=\"${`player-section player-button player-toggle-captions${this.state.isCaptionsOpen ? ' is-active' : ''}`}\" title=\"打开字幕\">\n              <svg viewBox=\"0 0 24 24\" style=\"display: inline-block; fill: currentcolor; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\">\n                <path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z\"></path>\n              </svg>\n            </button>\n            <button class=\"player-section player-button player-page-fullscreen\" title=\"网页全屏\">\n              <svg viewBox=\"0 0 24 24\" style=\"display: inline-block; fill: currentcolor; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\">\n                <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"></path>\n              </svg>\n              <svg viewBox=\"0 0 24 24\" style=\"display: none; fill: currentcolor; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\">\n                <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"></path>\n              </svg>\n            </button>\n            <button class=\"player-section player-button player-fullscreen\" title=\"进入全屏\">\n              <svg viewBox=\"0 0 24 24\" style=\"display: inline-block; fill: currentcolor; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\">\n                <path d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"></path>\n              </svg>\n            </button>\n          </div>\n          <div class=\"player-progress-control\">\n            <div class=\"player-progressbar-wrap\">\n              <div class=\"player-progressbar\">\n                <div class=\"player-progressbar-handle\">\n                <i class=\"fa fa-circle\"></i>\n                </div>\n              </div>\n              <div class=\"player-preview\"></div>\n            </div>\n          </div>\n        </div>\n      `,\n      loadTip: `\n        <div class=\"player-load-tip\">\n          <button class=\"player-load-button\">\n            <i class=\"fa fa-play\" aria-hidden=\"true\"></i>\n            <span>${Math.round(size / 1024 / 1024)}MB流量</span>\n          </button>\n          <div class=\"player-loading\">\n            <i class=\"fa fa-spinner fa-spin fa-3x fa-fw\"></i>\n            <div>正在加载...</div>\n          </div>\n        </div>\n      `,\n      draft: `\n        <canvas class=\"draft\"></canvas>\n      `,\n      captions: `\n        <div class=\"player-captions\">\n          ${mode === 'desktop' ? '<i class=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i>' : ''}\n          <span class=\"player-captions-text\">(播放开始时将出现字幕)</span>\n        </div>\n      `,\n    }\n    this.handleAudioLoaded = this.handleAudioLoaded.bind(this)\n    this.loadSource = this.loadSource.bind(this)\n    this.fetchActions()\n  }\n\n  fetchActions() {\n    axios\n      .get(this.options.actionUrl, {\n        baseURL: '',\n        responseType: 'json',\n      })\n      .then((response) => {\n        /* 对数据进行格式化处理 */\n        this.actionData = Player.formatActionData(response.data)\n        this.renderContainer()\n      })\n      .catch((error) => {\n        throw error\n      })\n  }\n\n  /* 渲染播放器的主体结构，添加缓冲提示 */\n  renderContainer() {\n    const {\n      actionData: {\n        windowHeight,\n        windowWidth,\n      },\n      domRefs: {\n        playerContainer,\n      },\n      options: {\n        mode,\n      },\n      template: {\n        loadTip,\n      },\n    } = this\n\n    const container = document.createElement('div')\n    container.className = 'player-image-container'\n    /* 获取到渲染节点的实际宽度，并将该宽度设置为播放器宽度 */\n    const containerWidth = playerContainer.offsetWidth\n    /* 以上面设置的播放器宽度为基准，动态调整播放器的高度，使播放器的宽高比与录制区域的宽高 */\n    /* 比相同 */\n    const containerHeight = containerWidth * windowHeight / windowWidth\n    container.style.width = `${containerWidth}px`\n    container.style.height = `${containerHeight}px`\n\n    /* 渲染正在加载的提示 */\n    const loadTipElem = Player.renderString(container, loadTip)\n    playerContainer.appendChild(container)\n\n    this.domRefs.loadTip = loadTipElem\n    this.domRefs.imageContainer = container\n    this.domRefs.loading = loadTipElem.querySelector('.player-loading')\n\n    const event = new CustomEvent('actionsLoaded')\n    playerContainer.dispatchEvent(event)\n\n    /* 如果为移动端，则显示当前需要下载的资源的大小而不是直接下载资源 */\n    const loadButton = loadTipElem.querySelector('.player-load-button')\n    if (mode === 'mobile') {\n      loadButton.addEventListener('click', this.loadSource)\n    } else {\n      this.loadSource()\n    }\n  }\n\n  loadSource() {\n    const {\n      loadTip,\n    } = this.domRefs\n\n    /* 获取音频资源 */\n    this.loadAudio()\n    /* 获取图片资源 */\n    this.loadImages()\n\n    /* 隐藏加载资源按钮，显示正在加载提示 */\n    loadTip.firstElementChild.style.display = 'none'\n    loadTip.lastElementChild.style.display = 'block'\n  }\n\n  loadAudio() {\n    const audioElement = document.createElement('audio')\n\n    audioElement.addEventListener('canplay', this.handleAudioLoaded)\n    audioElement.addEventListener('canplaythrough', this.handleAudioLoaded)\n    audioElement.addEventListener('loadeddata', this.handleAudioLoaded)\n    audioElement.addEventListener('loadedmetadata', this.handleAudioLoaded)\n\n    audioElement.src = this.options.audioUrl\n\n    this.domRefs.audio = audioElement\n\n    this.state.audioLoadStatus = 'loading'\n  }\n\n  loadImages() {\n    const imageNameRegExp = /p(\\d+)\\.png$/\n\n    const imageUrls = this.options.imageUrls.sort((prev, next) => {\n      const prevImageOrder = Number(prev.match(imageNameRegExp)[1])\n      const nextImageOrder = Number(next.match(imageNameRegExp)[1])\n\n      return prevImageOrder - nextImageOrder\n    })\n    this.options.imageUrls = imageUrls\n\n    /* 图片宽度等于播放器宽度 */\n    const imageWidth = this.domRefs.playerContainer.offsetWidth\n\n    /* 生成图片节点,并请求第一张图片,待第一张请求成功再请求其他图片 */\n    this.domRefs.images = imageUrls.map((imageUrl, index) => {\n      const imageElement = new Image(imageWidth)\n      /* 改变图片下载完成事件处理程序的指定方式 */\n      imageElement.addEventListener('load', this.handleImageLoaded.bind(this, index))\n      return imageElement\n    })\n    this.domRefs.images[0].addEventListener('load', this.handleFirstImageLoaded.bind(this))\n    this.domRefs.images[0].src = imageUrls[0]\n  }\n\n  handleFirstImageLoaded() {\n    this.checkSrcLoadStatus()\n\n    /* 加载剩余的图片 */\n    this.domRefs.images.forEach((imageElem, index) => {\n      if (index) {\n        imageElem.src = this.options.imageUrls[index]\n      }\n    })\n  }\n\n  handleImageLoaded(index) {\n    this.state.imagesLoaded[index] = true\n  }\n\n  handleAudioLoaded() {\n    this.state.audioLoadStatus = 'finish'\n    this.checkSrcLoadStatus()\n  }\n\n  checkSrcLoadStatus() {\n    /* 如果音频加载完成且第一张图片加载完成，播放器可以开始播放 */\n    if (this.state.audioLoadStatus === 'finish' && this.state.imagesLoaded[0] && !this.state.canPlay) {\n      this.state.canPlay = true\n      this.setLoadingTipStatus(false)\n      /* 图片和语音都已经加载完成，可以初始化页面的 HTML 结构了 */\n      this.initHtml()\n      this.bindEvents()\n      this.setDrawTarget()\n      /* 将播放进度调整到开头 */\n      this.changeCurrentTime(0)\n      if (this.options.autoPlay) {\n        this.togglePlay()\n      }\n      this.showPlayerControl()\n    }\n  }\n\n  initHtml() {\n    this.renderImages()\n    this.renderCanvas()\n    this.renderPlayerControl()\n    this.renderCaptions()\n    this.renderAudio()\n    this.renderDraft()\n  }\n\n  setLoadingTipStatus(status) {\n    this.state.isLoading = status\n    this.domRefs.loading.style.display = this.state.isLoading ? 'block' : 'none'\n  }\n\n  renderImages() {\n    const {\n      images,\n      imageContainer,\n    } = this.domRefs\n    /* 挂载图片节点，置于canvas之下 */\n    this.domRefs.pages = []\n    /* 在循环中频繁操作 DOM 是很费时的，最好将要添加的 DOM 元素先添加到一个文档片段中，最 */\n    /* 后一次性添加到文档中 */\n    const fragment = document.createDocumentFragment()\n    images.forEach((image) => {\n      const section = document.createElement('section')\n      section.classList.add('player-image-section')\n      /* 图片撑满画布宽度，高度自适应 */\n      image.classList.add('player-image')\n      section.appendChild(image)\n      this.domRefs.pages.push(section)\n      fragment.appendChild(section)\n    })\n    imageContainer.appendChild(fragment)\n  }\n\n  renderCanvas() {\n    const canvas = document.createElement('canvas')\n    this.domRefs.canvas = canvas\n    const {\n      imageContainer,\n    } = this.domRefs\n    /* canvas的宽和高等于底图容器，注意这里需修改canvas的width和height，而非style */\n    this.setCanvasSize(imageContainer.offsetWidth)\n    canvas.classList.add('player-canvas')\n    imageContainer.appendChild(canvas)\n    const ctx = canvas.getContext('2d')\n    ctx.lineCap = 'round'\n    this.state.contexts.push(ctx)\n    this.setPropotions()\n  }\n\n  renderAudio() {\n    const {\n      audio,\n      playerContainer,\n    } = this.domRefs\n    /* 将音频元素添加到文档中 */\n    playerContainer.appendChild(audio)\n  }\n\n  renderPlayerControl() {\n    const {\n      domRefs: {\n        playerContainer,\n      },\n      options: {\n        mode,\n      },\n      template: {\n        playerControl: playerControlTemplate,\n      },\n    } = this\n\n    const playerControl = Player.renderString(playerContainer, playerControlTemplate)\n\n    /* 将控制条中点节点添加到domRefs中 */\n    this.domRefs.playerControl = playerControl\n    this.domRefs.progressbarWrapper = playerControl.querySelector('.player-progressbar-wrap')\n    this.domRefs.playState = playerControl.querySelector('.player-play')\n    this.domRefs.fullscreen = playerControl.querySelector('.player-fullscreen')\n    this.domRefs.pageFullscreen = playerControl.querySelector('.player-page-fullscreen')\n    this.domRefs.toggleCaptionsButton = playerControl.querySelector('.player-toggle-captions')\n    this.domRefs.duration = playerControl.querySelector('.duration')\n    this.domRefs.currentTime = playerControl.querySelector('.current-time')\n    this.domRefs.progressbar = playerControl.querySelector('.player-progressbar')\n    this.domRefs.preview = playerControl.querySelector('.player-preview')\n    this.domRefs.progressHandle = playerControl.querySelector('.player-progressbar-handle')\n    if (mode === 'mobile') {\n      this.domRefs.pageFullscreen.style.display = 'none'\n    }\n  }\n\n  renderCaptions() {\n    const {\n      playerContainer,\n      playerControl,\n    } = this.domRefs\n    const captionsNode = Player.renderString(playerContainer, this.template.captions)\n    if (!this.state.isCaptionsOpen) {\n      captionsNode.style.display = 'none'\n    }\n    this.domRefs.captions = captionsNode\n  }\n\n  renderDraft() {\n    const draft = Player.renderString(this.domRefs.imageContainer, this.template.draft)\n    const ctx = draft.getContext('2d')\n    ctx.lineCap = 'round'\n    this.state.contexts.push(ctx)\n    this.domRefs.draft = draft\n    this.setDraftSize()\n  }\n\n  bindEvents() {\n    const {\n      audio,\n      canvas,\n      fullscreen,\n      pageFullscreen,\n      playState,\n      progressbarWrapper,\n      playerControl,\n      progressHandle,\n      toggleCaptionsButton,\n      captions,\n      loadTip,\n    } = this.domRefs\n    this.handlePlayButtonClick = this.handlePlayButtonClick.bind(this)\n    this.handleFullscreenClick = this.handleFullscreenClick.bind(this)\n    this.handleCaptionsMove = this.handleCaptionsMove.bind(this)\n    this.showPlayerControl = this.showPlayerControl.bind(this)\n    this.handleCaptionsDown = this.handleCaptionsDown.bind(this)\n    this.handleCaptionsUp = this.handleCaptionsUp.bind(this)\n    this.toggleFullscreen = this.toggleFullscreen.bind(this)\n    this.togglePageFullscreen = this.togglePageFullscreen.bind(this)\n    this.handleProgressbarOver = this.handleProgressbarOver.bind(this)\n    this.handleProgressbarleave = this.handleProgressbarleave.bind(this)\n    this.handleSeekMousedown = this.handleSeekMousedown.bind(this)\n    /* 添加PC端事件 */\n    if (this.options.mode === 'desktop') {\n      playerControl.addEventListener('mouseenter', this.showPlayerControl)\n      playerControl.addEventListener('mousemove', this.showPlayerControl)\n      loadTip.addEventListener('mouseenter', this.showPlayerControl)\n      loadTip.addEventListener('mousemove', this.showPlayerControl)\n      loadTip.addEventListener('click', this.handlePlayButtonClick)\n      fullscreen.addEventListener('click', this.toggleFullscreen)\n      pageFullscreen.addEventListener('click', this.togglePageFullscreen)\n      progressbarWrapper.addEventListener('mouseover', this.handleProgressbarOver)\n      progressbarWrapper.addEventListener('mouseleave', this.handleProgressbarleave)\n      progressbarWrapper.addEventListener('mousemove', this.handleProgressbarOver)\n      progressHandle.addEventListener('mousedown', this.handleSeekMousedown)\n      captions.addEventListener('mousedown', this.handleCaptionsDown)\n    }\n    /* 添加公共事件 */\n    audio.addEventListener('timeupdate', this.handleTimeUpdate.bind(this))\n    audio.addEventListener('ended', this.handleEnded.bind(this))\n    playState.addEventListener('click', this.handlePlayButtonClick)\n    fscreen.addEventListener('fullscreenchange', this.handleFullscreenChange.bind(this))\n    toggleCaptionsButton.addEventListener('click', this.toggleCaptions.bind(this))\n    progressbarWrapper.addEventListener('click', this.handleProgressbarClick.bind(this))\n    window.addEventListener('orientationchange', this.handleRotateScreen.bind(this))\n    window.addEventListener('resize', this.handleWindowResize.bind(this))\n    /* 添加移动端事件 */\n    this.handlePlayerTap = this.handlePlayerTap.bind(this)\n    this.handleProgressPanStart = this.handleProgressPanStart.bind(this)\n    this.handleProgressPanMove = this.handleProgressPanMove.bind(this)\n    this.handleCaptionsPress = this.handleCaptionsPress.bind(this)\n    this.handleCaptionsPressUp = this.handleCaptionsPressUp.bind(this)\n    this.handleCaptionsPanMove = this.handleCaptionsPanMove.bind(this)\n    const handleHammer = new Hammer(progressHandle)\n    handleHammer.on('panstart', this.handleProgressPanStart)\n    handleHammer.on('panleft panright', this.handleProgressPanMove)\n    const captionsHammer = new Hammer(captions)\n    captionsHammer.get('pan').set({\n      direction: Hammer.DIRECTION_ALL,\n    })\n    captionsHammer.get('press').set({\n      time: 500,\n    })\n    captionsHammer.on('press', this.handleCaptionsPress)\n    captionsHammer.on('panleft panright panup pandown', this.handleCaptionsPanMove)\n    captionsHammer.on('panend', this.handleCaptionsPressUp)\n    const fullscreenHammer = new Hammer(fullscreen)\n    fullscreenHammer.on('tap', this.toggleFullscreen)\n    const loadTipHammer = new Hammer(loadTip)\n    loadTipHammer.on('tap', this.handlePlayerTap)\n    loadTipHammer.on('panstart', this.handleProgressPanStart)\n    loadTipHammer.on('panleft panright', this.handleProgressPanMove)\n  }\n\n  handleCaptionsPress() {\n    const {\n      captions,\n    } = this.domRefs\n    /* 长按字幕可以拖动 */\n    this.canCaptionsMove = true\n    this.captionsStartX = captions.offsetLeft\n    this.captionsStartY = captions.offsetTop\n  }\n\n  handleCaptionsPressUp() {\n    this.canCaptionsMove = false\n  }\n\n  handleCaptionsPanMove(e) {\n    if (this.canCaptionsMove) {\n      const left = this.captionsStartX + e.deltaX\n      const top = this.captionsStartY + e.deltaY\n      this.setCaptionsOffset(left, top)\n    }\n  }\n\n  handleProgressPanStart() {\n    /* 当滑动开始时，记录下起始的时间 */\n    const {\n      audio,\n    } = this.domRefs\n    this.panStartTime = audio.currentTime\n  }\n\n  handleProgressPanMove(e) {\n    const {\n      domRefs: {\n        progressbarWrapper,\n      },\n      options: {\n        duration,\n      },\n    } = this\n\n    const percent = e.deltaX / progressbarWrapper.offsetWidth\n    const deltaTime = duration * percent\n    let time = this.panStartTime + deltaTime\n    time = Math.min(duration, time)\n    time = Math.max(0, time)\n    this.showPlayerControl()\n    this.changeCurrentTime(time * 1000)\n  }\n\n  handlePlayerTap(e) {\n    e.preventDefault()\n    this.showPlayerControl()\n  }\n\n  handleCaptionsDown(e) {\n    const {\n      captions,\n    } = this.domRefs\n    document.addEventListener('mousemove', this.handleCaptionsMove)\n    document.addEventListener('mouseup', this.handleCaptionsUp)\n    this.captionsStartX = captions.offsetLeft\n    this.captionsStartY = captions.offsetTop\n    this.cursorStartX = e.clientX\n    this.cursorStartY = e.clientY\n  }\n\n  handleCaptionsUp() {\n    document.removeEventListener('mousemove', this.handleCaptionsMove)\n    document.removeEventListener('mouseup', this.handleCaptionsUp)\n  }\n\n  handleCaptionsMove(e) {\n    const distX = e.clientX - this.cursorStartX\n    const distY = e.clientY - this.cursorStartY\n    const left = this.captionsStartX + distX\n    const top = this.captionsStartY + distY\n    this.setCaptionsOffset(left, top)\n  }\n\n  setCaptionsOffset(left, top) {\n    const {\n      captions,\n      playerContainer,\n      playerControl,\n    } = this.domRefs\n    const parentWidth = playerContainer.offsetWidth\n    const parentHeight = playerContainer.offsetHeight\n    const captionsLeftMax = parentWidth - captions.offsetWidth\n    const captionsBottomMax = parentHeight - captions.offsetHeight\n\n    let leftOffset = left\n    leftOffset = Math.max(0, leftOffset)\n    leftOffset = Math.min(captionsLeftMax, leftOffset)\n    captions.style.left = `${leftOffset / parentWidth * 100}%`\n\n    /* 这里设置字幕的bottom值而非top，是考虑到用户一般会将字幕放到视频的下半部分，\n    所以需要避免字幕过多时超出播放器的下限，但仍然有超出上限的危险 */\n    let bottomOffset = parentHeight - top - captions.offsetHeight\n    bottomOffset = Math.max(playerControl.offsetHeight, bottomOffset)\n    bottomOffset = Math.min(captionsBottomMax, bottomOffset)\n    captions.style.bottom = `${bottomOffset / parentHeight * 100}%`\n  }\n\n  handleWindowResize() {\n    const {\n      playerContainer,\n    } = this.domRefs\n    const currentWidth = playerContainer.offsetWidth\n    /* 如果播放器节点的宽度没有改变，则无需重设播放器宽度 */\n    if (!this.lastWidth || this.lastWidth !== currentWidth) {\n      this.resizePlayer(playerContainer.offsetWidth)\n    }\n    this.lastWidth = currentWidth\n  }\n\n  handleEnded() {\n    /* 将播放器暂停 */\n    this.togglePlay()\n    /* 恢复初始状态 */\n    this.changeCurrentTime(0)\n  }\n\n  handleSeekMousedown() {\n    this.handleSeekMousemove = this.handleSeekMousemove.bind(this)\n    this.handleSeekMouseup = this.handleSeekMouseup.bind(this)\n    document.addEventListener('mousemove', this.handleSeekMousemove)\n    document.addEventListener('mouseup', this.handleSeekMouseup)\n  }\n\n  handleSeekMousemove(e) {\n    this.changeProgressbarHandle(e)\n  }\n\n  handleSeekMouseup() {\n    document.removeEventListener('mousemove', this.handleSeekMousemove)\n    document.removeEventListener('mouseup', this.handleSeekMouseup)\n  }\n  /* 全屏状态时点击控制条之外的部分都会暂停 */\n  handleFullscreenClick(e) {\n    const {\n      playerControl,\n    } = this.domRefs\n    if (playerControl !== e.target && !(playerControl.contains(e.target))) {\n      this.handlePlayButtonClick(e)\n    }\n  }\n  /* 根据全屏时屏幕尺寸计算播放器需放大到的尺寸 */\n  getFullscreenSize() {\n    /* 重设播放器的高宽，使之撑满屏幕 */\n    const {\n      height,\n      width,\n    } = window.screen\n\n    const {\n      windowHeight,\n      windowWidth,\n    } = this.actionData\n\n    const propotion1 = height / width\n    const propotion2 = windowHeight / windowWidth\n    let containerHeight\n    let containerWidth\n    /* 如果宽度撑满，高度会超出屏幕，则选择撑满高度 */\n    if (propotion2 > propotion1) {\n      containerHeight = height\n      containerWidth = containerHeight / propotion2\n    } else {\n      containerWidth = width\n      containerHeight = containerWidth * propotion2\n    }\n    return containerWidth\n  }\n\n  handleRotateScreen() {\n    /* 若旋转了屏幕且此时处于全屏状态，需变更播放器尺寸 */\n    if (fscreen.fullscreenElement) {\n      const width = this.getFullscreenSize()\n      this.domRefs.playerContainer.style.width = `${width}px`\n      this.resizePlayer(width)\n    }\n  }\n\n  handleFullscreenChange() {\n    const {\n      domRefs: {\n        fullscreen,\n        pageFullscreen,\n        playerContainer,\n      },\n      options: {\n        mode,\n      },\n      state: {\n        initialWidth,\n        isPageFullscreenOpen,\n      },\n    } = this\n\n    if (fscreen.fullscreenElement) {\n      const fullscreenSize = this.getFullscreenSize()\n      playerContainer.style.width = `${fullscreenSize}px`\n      this.resizePlayer(fullscreenSize)\n\n      fullscreen.title = '退出全屏'\n\n      /* 在全屏状态不可直接设置网页全屏，需先退出才可设置 */\n      if (mode === 'desktop') {\n        pageFullscreen.style.display = 'none'\n      }\n    } else {\n      playerContainer.style.width = isPageFullscreenOpen ? '100%' : `${initialWidth}px`\n      this.resizePlayer(playerContainer.offsetWidth)\n\n      fullscreen.title = '进入全屏'\n      if (mode === 'desktop') {\n        pageFullscreen.style.display = 'inline'\n      }\n    }\n  }\n\n  setPropotions() {\n    const {\n      windowWidth,\n      draftHeight,\n    } = this.actionData\n    const {\n      imageContainer,\n    } = this.domRefs\n    const {\n      propotions,\n    } = this.state\n    propotions[0] = imageContainer.offsetWidth / windowWidth\n    propotions[1] = imageContainer.offsetHeight / draftHeight\n  }\n\n  /* 根据mountNode的宽度设置播放器各部件大小 */\n  resizePlayer(containerWidth) {\n    const {\n      audio,\n      playerControl,\n      captions,\n    } = this.domRefs\n    const {\n      windowWidth,\n      windowHeight,\n    } = this.actionData\n\n    const containerHeight = windowHeight / windowWidth * containerWidth\n\n    /* 如果全屏，播放器控制条占满宽度 */\n    let translateX = 0\n    let controlWidth = containerWidth\n    if (fscreen.fullscreenElement) {\n      controlWidth = window.screen.width\n      translateX = (window.screen.width - containerWidth) / 2\n    }\n    playerControl.style.width = `${controlWidth}px`\n\n    /* 全屏时将控制条移到最左侧 */\n    playerControl.style.transform = `translateX(${-translateX}px)`\n    this.setContainerSize(containerWidth, containerHeight)\n    this.setCanvasSize(containerWidth)\n\n    /* 修改播放器size后与原始大小的比例发生了变化 */\n    this.setPropotions()\n    this.setDrawTarget()\n    this.setDraftSize()\n    this.changeCurrentTime(audio.currentTime * 1000)\n\n    /* 调整字幕字体大小 */\n    const propotion = containerWidth / this.state.initialWidth\n    captions.style.fontSize = `${this.options.captionFontSize * propotion}px`\n  }\n\n  toggleFullscreen() {\n    const {\n      playerContainer,\n    } = this.domRefs\n    if (fscreen.fullscreenElement) {\n      fscreen.exitFullscreen()\n    } else {\n      fscreen.requestFullscreen(playerContainer)\n    }\n  }\n\n  togglePageFullscreen() {\n    const {\n      playerContainer,\n      pageFullscreen,\n    } = this.domRefs\n    this.state.isPageFullscreenOpen = !this.state.isPageFullscreenOpen\n    if (this.state.isPageFullscreenOpen) {\n      /* 改变图标 */\n      pageFullscreen.firstElementChild.style.display = 'none'\n      pageFullscreen.lastElementChild.style.display = 'inline-block'\n\n      /* 网页全屏的含义是将播放器宽度设成100%，使其撑满包裹元素 */\n      playerContainer.style.width = '100%'\n      this.resizePlayer(playerContainer.offsetWidth)\n    } else {\n      pageFullscreen.firstElementChild.style.display = 'inline-block'\n      pageFullscreen.lastElementChild.style.display = 'none'\n\n      /* 退出网页全屏即将宽度恢复原值 */\n      playerContainer.style.width = `${this.state.initialWidth}px`\n      this.resizePlayer(playerContainer.offsetWidth)\n    }\n  }\n\n  toggleCaptions() {\n    const {\n      isCaptionsOpen,\n    } = this.state\n    const {\n      toggleCaptionsButton,\n      captions,\n    } = this.domRefs\n    this.state.isCaptionsOpen = !isCaptionsOpen\n    if (this.state.isCaptionsOpen) {\n      toggleCaptionsButton.classList.add('is-active')\n      captions.style.display = 'block'\n    } else {\n      toggleCaptionsButton.classList.remove('is-active')\n      captions.style.display = 'none'\n    }\n  }\n\n  setContainerSize(width, height) {\n    const {\n      imageContainer,\n    } = this.domRefs\n    imageContainer.style.width = `${width}px`\n    imageContainer.style.height = `${height}px`\n  }\n\n  /* 修改 canvas 元素的尺寸，其中宽度与播放器的宽度相同，高度设置为与图集中最大高度的图片的 */\n  /* 高度相同 */\n  setCanvasSize(width) {\n    const {\n      images,\n      canvas,\n      playerContainer,\n    } = this.domRefs\n    canvas.width = width\n    const height = images.reduce((max, cur) => Math.max(max, cur.offsetHeight), 0)\n    canvas.height = Math.max(height, playerContainer.offsetHeight)\n  }\n\n  setDraftSize() {\n    const {\n      draft,\n      imageContainer,\n    } = this.domRefs\n    const {\n      draftWidth,\n    } = this.actionData\n    const {\n      propotions,\n    } = this.state\n    const height = imageContainer.offsetHeight\n    const width = draftWidth * propotions[1]\n    draft.width = width\n    draft.height = height\n    this.state.draftWidth = width\n  }\n\n  handleTimeUpdate(e) {\n    this.rerenderTimeInfo()\n    const time = e.target.currentTime * 1000\n    this.changeDisplaySubtitle(time)\n  }\n\n  rerenderTimeInfo() {\n    const {\n      domRefs: {\n        audio,\n        currentTime,\n        duration: durationEl,\n        progressbar,\n      },\n      options: {\n        duration,\n      },\n    } = this\n\n    currentTime.textContent = Player.normalizeTime(audio.currentTime)\n    durationEl.textContent = Player.normalizeTime(duration)\n    progressbar.style.width = `${audio.currentTime / duration * 100}%`\n  }\n\n  handleProgressbarOver(e) {\n    const {\n      domRefs: {\n        preview,\n      },\n      options: {\n        duration,\n      },\n    } = this\n\n    let time = this.getCursorTime(e)\n    time /= 1000\n    preview.style.left = `${time / duration * 100}%`\n    preview.style.visibility = 'visible'\n  }\n\n  handleProgressbarleave() {\n    const {\n      preview,\n    } = this.domRefs\n    preview.style.visibility = 'hidden'\n  }\n\n  handleProgressbarClick(e) {\n    this.changeProgressbarHandle(e)\n  }\n\n  changeProgressbarHandle(e) {\n    const time = this.getCursorTime(e)\n    this.changeCurrentTime(time)\n  }\n\n  showPlayerControl() {\n    const {\n      playerControl,\n    } = this.domRefs\n    if (this.hidePlayerControl) {\n      window.clearTimeout(this.hidePlayerControl)\n    }\n    playerControl.classList.remove('fade-out')\n    playerControl.style.opacity = '1'\n    this.hidePlayerControl = window.setTimeout(this.fadeOutPlayerControl.bind(this), 3000)\n  }\n\n  fadeOutPlayerControl() {\n    if (!(this.state.halt)) {\n      this.domRefs.playerControl.classList.add('fade-out')\n    }\n  }\n  /* 获得鼠标放置位置的时间 */\n  getCursorTime(e) {\n    const wrapper = document.querySelector('.player-progressbar-wrap')\n    let dist = e.clientX - wrapper.getBoundingClientRect().left\n    dist = Math.max(0, dist)\n    let percent = dist / wrapper.clientWidth\n    percent = Math.min(percent, 1.0)\n    const time = this.options.duration * percent * 1000\n    return time\n  }\n\n  handlePlayButtonClick(e) {\n    e.preventDefault()\n    e.stopPropagation()\n    this.togglePlay()\n  }\n\n  togglePlay() {\n    const {\n      playState,\n    } = this.domRefs\n    this[this.state.halt ? 'play' : 'halt']()\n    this.state.halt = !(this.state.halt)\n    playState.title = this.state.halt ? '播放' : '暂停'\n    playState.firstElementChild.className = this.state.halt ? 'fa fa-play' : 'fa fa-pause'\n    this.showPlayerControl()\n  }\n\n  /* 用于正在缓冲时暂停播放,此函数不改变状态变量 */\n  wait() {\n    this.setLoadingTipStatus(true)\n    this.halt()\n  }\n\n  halt() {\n    this.domRefs.audio.pause()\n    window.clearTimeout(this.state.nextAction)\n    window.cancelAnimationFrame(this.state.animation)\n  }\n\n  /* 用于缓冲结束时继续播放 */\n  continue() {\n    this.setLoadingTipStatus(false)\n    if (!this.state.halt) {\n      this.domRefs.audio.play()\n    }\n  }\n\n  play() {\n    this.domRefs.audio.play()\n    this.registerNextAction()\n    this.registerNextAnimation()\n  }\n\n  waitPageLoading(waitingPage, waitingTime) {\n    /* 等待加载的过程中暂停播放 */\n    this.wait()\n\n    /* 记录等待的页码和时间 */\n    this.state.waiting = { waitingPage, waitingTime }\n\n    /* 侦听等待图片的load事件，使得加载完成后可自动恢复播放 */\n    this.domRefs.images[waitingPage].addEventListener('load', () => {\n      const { waiting, isLoading } = this.state\n      const { waitingPage: currentWaitingPage, waitingTime: currentWaitingTime } = waiting\n\n      /* 如果当前正在加载，且当前等待的页码和时间与之前一致，则恢复播放，\n      之所以要进行后面两个判断，是因为可能在等待加载的过程中又调整了进度，这时等待的页码和时间可能与之前不同 */\n      if (isLoading && currentWaitingPage === waitingPage && waitingTime === currentWaitingTime) {\n        /* 在此函数内只需根据情况打开音频，因为changeCurrentTime会注册板书动作 */\n        this.continue()\n\n        /* 由于等待的页码已经加载成功，此时可以顺利地调整时间 */\n        this.changeCurrentTime(waitingTime)\n      }\n    })\n  }\n\n  /* 移动进度条时调用的函数，time单位为ms */\n  changeCurrentTime(time) {\n    const {\n      domRefs: {\n        audio,\n      },\n      state: {\n        imagesLoaded,\n      },\n    } = this\n    /* 调整音频时间秒 */\n    audio.currentTime = time / 1000\n    this.rerenderTimeInfo()\n\n    /* 若该时刻的图片还未加载完成，待加载完成再进行动作 */\n    const page = this.getPageByTime(time)\n    if (!imagesLoaded[page]) {\n      this.waitPageLoading(page, time)\n      return\n    }\n\n    if (this.state.isLoading) {\n      this.continue()\n    }\n\n    /* 取消已注册的动作 */\n    window.clearTimeout(this.state.nextAction)\n    /* 取消当前动画 */\n    window.cancelAnimationFrame(this.state.animation)\n    this.state.animationObj = null\n    /* 转到time时刻所在的页面 */\n    this.pageTo(page)\n    /* 恢复课件在time时刻的状态 */\n    this.setPageState(page, time)\n    /* 恢复草稿纸在time时刻的状态 */\n    this.setDraftState(time)\n    /* 设置下一个要注册的动作 */\n    const next = this.getNextAction(time)\n    if (next) {\n      this.state.nextActionIndex = next.actionId\n    } else {\n      this.state.nextActionIndex = -1\n    }\n    if (!(this.state.halt)) {\n      this.registerNextAction()\n      this.registerNextAnimation()\n    }\n    /* 重新渲染播放器控制条 */\n    this.changeDisplaySubtitle(time)\n  }\n\n  registerNextAction() {\n    const {\n      actionData: {\n        actions,\n      },\n      domRefs: {\n        audio,\n      },\n      state: {\n        nextActionIndex,\n      },\n    } = this\n    if (nextActionIndex >= actions.length || nextActionIndex < 0) {\n      return\n    }\n    this.state.nextAction = window.setTimeout(() => {\n      this.handleNextAction(true)\n    }, actions[nextActionIndex].startTime - audio.currentTime * 1000)\n  }\n\n  registerNextAnimation() {\n    const {\n      animationObj,\n    } = this.state\n    if (animationObj) {\n      const {\n        elaspedTime,\n      } = animationObj\n      animationObj.startTime = Date.now() - elaspedTime\n      this.state.animation = requestAnimationFrame(this.drawPoint.bind(this))\n    }\n  }\n\n  handleNextAction(needRegist) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    const nextAction = actions[this.state.nextActionIndex]\n    switch (nextAction.type) {\n      case 'path':\n        this.drawPath(nextAction, needRegist)\n        break\n      case 'arrow':\n        this.drawArrow(nextAction, needRegist)\n        break\n      case 'scroll':\n        this.scroll(nextAction, needRegist)\n        break\n      case 'page':\n        this.page(nextAction, needRegist)\n        break\n      case 'withdraw':\n        this.withdraw(nextAction)\n        break\n      case 'clear':\n        this.clear(nextAction)\n        break\n      case 'eliminate':\n        this.eliminate(nextAction)\n        break\n      case 'draft':\n        this.draft(nextAction)\n        break\n      default:\n        break\n    }\n    /* 注册下一个动作 */\n    if (needRegist && this.state.nextActionIndex < actions.length - 1) {\n      ++this.state.nextActionIndex\n      this.registerNextAction()\n    }\n  }\n\n  handleActions(actions, time) {\n    const {\n      nextActionIndex,\n      ctx,\n      propotion,\n    } = this.state\n    const {\n      canvas,\n    } = ctx\n    actions.forEach((action, i) => {\n      if (i === actions.length - 1 && action.type === 'path') {\n        const {\n          startTime,\n          endTime,\n          points,\n        } = action\n        const duration = endTime - startTime\n        const {\n          length,\n        } = points\n        /* 计算有多少点出现在time时刻前，将这些点直接绘出，其余点需通过动画 */\n        let cnt = Math.floor((time - startTime) / duration * length)\n        cnt = Math.min(cnt, length)\n        ctx.strokeStyle = action.color\n        ctx.lineWidth = Math.max(propotion * action.width, 1.5)\n        /* 记录笔迹动画开始前的canvas数据，动画的每一帧都要恢复一次 */\n        this.backgroundData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n        this.drawPoints(points, cnt)\n        if (cnt >= length) {\n          /* 所有的点都在time时刻前出现，无需注册动画 */\n          this.state.animationObj = null\n        } else {\n          const elaspedTime = duration * (cnt / length)\n          this.state.animationObj = {\n            points,\n            startTime: Date.now() - elaspedTime,\n            duration,\n            elaspedTime,\n          }\n        }\n      } else {\n        this.state.nextActionIndex = action.actionId\n        this.handleNextAction(false)\n      }\n    })\n    this.state.nextActionIndex = nextActionIndex\n  }\n  /* 绘制points[0-end) */\n  drawPoints(points, end) {\n    const {\n      ctx,\n      propotion,\n    } = this.state\n    ctx.beginPath()\n    points.slice(0, end).forEach((point, i) => {\n      const x = point[0] * propotion\n      const y = point[1] * propotion\n      if (i === 0) {\n        ctx.moveTo(x, y)\n      } else {\n        ctx.lineTo(x, y)\n      }\n    })\n    ctx.stroke()\n  }\n\n  drawPath(action, animate) {\n    const {\n      points,\n      width,\n      color,\n      startTime,\n      endTime,\n    } = action\n    const {\n      ctx,\n      propotion,\n    } = this.state\n    if (!points.length) {\n      return\n    }\n    ctx.lineWidth = width * propotion\n    ctx.lineWidth = Math.max(1.5, ctx.lineWidth)\n    ctx.strokeStyle = color\n    if (!animate) {\n      this.drawPoints(points, points.length - 1)\n    } else {\n      const duration = endTime - startTime\n      /* 保存在绘制路径前canvas的数据 */\n      this.backgroundData = ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height)\n      this.state.animationObj = {\n        points,\n        startTime: Date.now(),\n        duration,\n        elaspedTime: 0,\n      }\n      this.state.animation = requestAnimationFrame(this.drawPoint.bind(this))\n    }\n  }\n\n  drawPoint() {\n    if (!this.state.animationObj) {\n      return\n    }\n    const {\n      points,\n      startTime,\n      duration,\n    } = this.state.animationObj\n    const {\n      ctx,\n      propotion,\n    } = this.state\n    const {\n      length,\n    } = points\n    /* 清空画布，再重绘背景 */\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n    ctx.putImageData(this.backgroundData, 0, 0)\n    /* 计算在这一帧中需要画多少个点 */\n    const elaspedTime = Date.now() - startTime\n    const percent = elaspedTime / duration\n    let cnt = Math.ceil(points.length * percent)\n    cnt = Math.min(cnt, length)\n    ctx.beginPath()\n    for (let k = 0; k < cnt; ++k) {\n      const point = points[k]\n      const x = point[0] * propotion\n      const y = point[1] * propotion\n      if (k === 0) {\n        ctx.moveTo(x, y)\n      } else {\n        ctx.lineTo(x, y)\n      }\n    }\n    ctx.stroke()\n    if (cnt < length) {\n      this.state.animationObj.elaspedTime = elaspedTime\n      this.state.animation = requestAnimationFrame(this.drawPoint.bind(this))\n    } else {\n      this.state.animation = null\n      this.state.animationObj = null\n    }\n  }\n\n  drawArrow(action) {\n    const {\n      propotion,\n      ctx,\n    } = this.state\n    const {\n      points,\n    } = action\n    ctx.lineWidth = action.width * propotion\n    ctx.fillStyle = action.color\n    /* 起始点 */\n    const x1 = points[0][0] * propotion\n    const y1 = points[0][1] * propotion\n    /* 结束点 */\n    const x2 = points[1][0] * propotion\n    const y2 = points[1][1] * propotion\n    /* 箭杆长度 */\n    const r = Math.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)\n    const aX = x2 - (10 * propotion * (y1 - y2) / r)\n    const aY = y2 - (10 * propotion * (x2 - x1) / r)\n    const bX = x2 + (20 * propotion * (x2 - x1) / r)\n    const bY = y2 - (20 * propotion * (y1 - y2) / r)\n    const cX = x2 + (10 * propotion * (y1 - y2) / r)\n    const cY = y2 + (10 * propotion * (x2 - x1) / r)\n    const dX = x2 - (5 * propotion * (y1 - y2) / r)\n    const dY = y2 - (5 * propotion * (x2 - x1) / r)\n    const eX = x2 + (5 * propotion * (y1 - y2) / r)\n    const eY = y2 + (5 * propotion * (x2 - x1) / r)\n    ctx.beginPath()\n    ctx.moveTo(x1, y1)\n    ctx.lineTo(dX, dY)\n    ctx.lineTo(aX, aY)\n    ctx.lineTo(bX, bY)\n    ctx.lineTo(cX, cY)\n    ctx.lineTo(eX, eY)\n    ctx.fill()\n  }\n\n  clear() {\n    const {\n      ctx,\n    } = this.state\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n  }\n  /* 清除一些线 */\n  eliminate(action) {\n    if (this.state.isdraftOpen) {\n      this.setDraftState(action.startTime + 1)\n    } else {\n      const currentPage = this.getPageByTime(action.startTime)\n      this.setPageState(currentPage, action.startTime + 1)\n    }\n  }\n  /* 撤销当前页的上一个绘制操作 */\n  withdraw(action) {\n    if (this.state.isdraftOpen) {\n      this.setDraftState(action.startTime + 1)\n    } else {\n      const currentPage = this.getPageByTime(action.startTime)\n      this.setPageState(currentPage, action.startTime + 1)\n    }\n  }\n\n  draft(action) {\n    this.toggleDraft(action.status === 'open', true)\n  }\n\n  toggleDraft(open, animate) {\n    const {\n      draft,\n    } = this.domRefs\n    draft.style.transition = animate ? 'width 0.2s linear' : 'none'\n    if (open) {\n      draft.style.width = `${this.state.draftWidth}px`\n      this.state.isdraftOpen = true\n    } else {\n      draft.style.width = '0'\n      this.state.isdraftOpen = false\n    }\n    this.setDrawTarget()\n  }\n\n  /* 根据草稿纸是否打开，切换当前使用的canvas及比例 */\n  setDrawTarget() {\n    const {\n      isdraftOpen,\n      draftNum,\n      propotions,\n      contexts,\n    } = this.state\n    let ctxIndex = 0\n    let propIndex = 0\n    if (isdraftOpen) {\n      ctxIndex = draftNum\n      propIndex = 1\n    }\n    this.state.ctx = contexts[ctxIndex]\n    this.state.propotion = propotions[propIndex]\n  }\n\n  scroll(action, animate) {\n    const {\n      images,\n      canvas,\n    } = this.domRefs\n    const {\n      scrollDuration,\n    } = this.options\n    const {\n      propotion,\n    } = this.state\n    const currentPage = this.getPageByTime(action.startTime)\n    const image = images[currentPage]\n    /* 移动图片和canvas */\n    const offsetY = action.yDistance * propotion\n    let orginOffset = 0\n    const tmp = image.style.transform.match(/translateY\\(-(.*)px\\)/)\n    if (tmp) {\n      orginOffset = window.parseInt(tmp[1], 10)\n    }\n    const dist = Math.abs(orginOffset - offsetY)\n    const duration = dist / image.offsetHeight * propotion * scrollDuration\n    if (animate) {\n      image.style.transition = `transform ${duration}s linear`\n      canvas.style.transition = `transform ${duration}s linear`\n    } else {\n      image.style.transition = ''\n      canvas.style.transition = ''\n    }\n    image.style.transform = `translateY(${-offsetY}px)`\n    canvas.style.transform = `translateY(${-offsetY}px)`\n  }\n\n  page(action, animate) {\n    const {\n      pages,\n    } = this.domRefs\n    const currentPage = this.getPageByTime(action.startTime)\n    const targetPage = currentPage + (action.direction === 'next' ? 1 : -1)\n    if (targetPage >= pages.length || targetPage < 0) {\n      return\n    }\n\n    if (!this.state.imagesLoaded[targetPage]) {\n      this.waitPageLoading(targetPage, action.startTime - 1)\n      return\n    }\n\n    /* 转到该页 */\n    this.pageTo(targetPage, animate)\n    this.setPageState(targetPage, action.startTime)\n  }\n\n  setPageState(page, time) {\n    const {\n      images,\n    } = this.domRefs\n    /* 关闭草稿纸，将笔迹绘制在课件上 */\n    this.state.isdraftOpen = false\n    this.setDrawTarget()\n    const {\n      ctx,\n    } = this.state\n    const {\n      canvas,\n    } = ctx\n    /* 重做该页之前发生过的所有动作 */\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n    /* 因为之后要重做在page页上发生的动作（包括滚动），所以这里将该页的图片和canvas的垂直偏移置为0 */\n    canvas.style.transform = 'translateY(0px)'\n    images[page].style.transform = 'translateY(0px)'\n    const actions = this.getDrawActionsOnPage(page, time)\n    this.handleActions(actions, time)\n  }\n\n  /* 将草稿纸恢复到time时刻的状态 */\n  setDraftState(time) {\n    /* 将草稿纸设置成打开的状态 */\n    this.state.isdraftOpen = true\n    this.setDrawTarget()\n    /* 重新绘制草稿纸上的笔迹 */\n    const {\n      ctx,\n    } = this.state\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n    const draftActions = this.getActionsOnDraft(time)\n    this.handleActions(draftActions, time)\n    /* 设置time时刻草稿纸的状态 */\n    this.state.isdraftOpen = this.getDraftStatus(time) === 'open'\n    this.toggleDraft(this.state.isdraftOpen, false)\n  }\n\n  getDraftStatus(time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    let isdraftOpen = 'close'\n    for (let i = 0; i < actions.length && time > actions[i].startTime; ++i) {\n      const action = actions[i]\n      if (action.type === 'draft') {\n        isdraftOpen = action.status\n      }\n    }\n    return isdraftOpen\n  }\n\n  getActionsOnDraft(time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    const res = []\n    let isdraftOpen = false\n    for (let i = 0; i < actions.length && time > actions[i].startTime; ++i) {\n      const action = actions[i]\n      if (action.type === 'draft') {\n        isdraftOpen = (action.status === 'open')\n        continue\n      }\n      if (isdraftOpen) {\n        res.push(action)\n      }\n    }\n    return Player.filterActions(res)\n  }\n\n  pageTo(targetIndex, animate) {\n    const {\n      pages,\n    } = this.domRefs\n    pages.forEach((page) => {\n      page.style.transition = animate ? 'transform 0.2s ease' : 'none'\n      page.style.transform = `translateY(-${page.offsetHeight * targetIndex}px)`\n    })\n  }\n\n  /* 返回time时刻所在的页码 */\n  getPageByTime(time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    let page = 0\n    for (let i = 0; i < actions.length && actions[i].startTime < time; ++i) {\n      if (actions[i].type === 'page') {\n        page += actions[i].direction === 'prev' ? -1 : 1\n      }\n    }\n    return page\n  }\n  /* 获得time时刻前在page上进行过的所有未被撤销、未被清除的移动和绘制操作 */\n  getDrawActionsOnPage(page, time) {\n    return Player.filterActions(this.getActionsOnPage(page, time))\n  }\n  /* 根据撤销和消除操作对actions进行过滤 */\n  static filterActions(actions) {\n    /* 需要收集的动作类型 */\n    const includeTypes = ['arrow', 'scroll', 'path', 'clear', 'eliminate']\n    /* 可以被撤销的动作类型 */\n    const withdrawTypes = ['arrow', 'path', 'clear', 'eliminate']\n    const res = []\n    let eliminatedIds = []\n    for (let i = 0; i < actions.length; ++i) {\n      const action = actions[i]\n      /* 只收集进行的移动和绘制操作 */\n      if (includeTypes.indexOf(action.type) !== -1) {\n        /* 判断这个操作是否被之后的撤销操作撤销了 */\n        let withdraw = false\n        if (withdrawTypes.indexOf(action.type) !== -1) {\n          /* 若cnt变为0，则说明这个动作被撤销了 */\n          let cnt = 1\n          /* 这里加入了对page类型的判断，因为如果翻页之后再翻回来，之前的操作便不可撤销了 */\n          for (let j = i + 1; j < actions.length && actions[j].type !== 'page'; ++j) {\n            if (actions[j].type === 'withdraw') {\n              --cnt\n              if (!cnt) {\n                withdraw = true\n                break\n              }\n            }\n            if (withdrawTypes.indexOf(actions[j].type) !== -1) {\n              ++cnt\n            }\n          }\n        }\n        if (!withdraw) {\n          if (action.type === 'eliminate') {\n            eliminatedIds = eliminatedIds.concat(action.eliminateIds)\n          } else {\n            res.push(action)\n          }\n        }\n      }\n    }\n    return res.filter(action => !action.id || eliminatedIds.indexOf(action.id) === -1)\n  }\n  /* time时刻在page上进行的动作 */\n  getActionsOnPage(page, time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    let currentPage = 0\n    const res = []\n    let isdraftOpen = false\n    for (let i = 0; i < actions.length && actions[i].startTime < time; ++i) {\n      const action = actions[i]\n      if (action.type === 'draft') {\n        isdraftOpen = action.status === 'open'\n        continue\n      }\n      if (currentPage === page && !isdraftOpen) {\n        res.push(action)\n      }\n      if (action.type === 'page') {\n        currentPage += action.direction === 'next' ? 1 : -1\n      }\n    }\n    return res\n  }\n  /* 返回time时刻的下一个动作 */\n  getNextAction(time) {\n    const {\n      actionData: {\n        actions,\n      },\n    } = this\n    for (let i = 0; i < actions.length; ++i) {\n      const {\n        startTime,\n      } = actions[i]\n      if (startTime >= time) {\n        return actions[i]\n      }\n    }\n  }\n\n  /* 将秒表示的时间转换为00:00:00格式 */\n  static normalizeTime(time) {\n    /* 精确到s */\n    time = Math.floor(time)\n    const hours = Math.floor(time / 3600)\n    const remain = time % 3600\n    const minutes = Math.floor(remain / 60)\n    const seconds = remain % 60\n    let res = ''\n    /* 如果短于1h，不要小时段 */\n    res += hours ? `${hours}:` : ''\n    /* 如果前面有小时段，分钟至少为两位数 */\n    if (hours && minutes < 10) {\n      res += '0'\n    }\n    res += `${minutes}:`\n    if (seconds < 10) {\n      res += '0'\n    }\n    res += seconds\n    return res\n  }\n\n  changeDisplaySubtitle(currentTime) {\n    const {\n      subtitles,\n      isCaptionsOpen,\n      currentSubtitleIndex,\n    } = this.state\n    const {\n      playerContainer,\n      captions,\n    } = this.domRefs\n    if (!subtitles.length) {\n      return\n    }\n    /* 如果当前时间比现在字幕的时间小，则从索引0开始查，否则从当前索引开始查 */\n    const begin = parseFloat(subtitles[currentSubtitleIndex].beginTime) > currentTime ? 0 : currentSubtitleIndex\n    let res = -1\n    let hasSubtitle = false\n    let i\n    for (i = begin; i < subtitles.length && parseFloat(subtitles[i].beginTime) <= currentTime; ++i) {\n      if (parseFloat(subtitles[i].endTime) >= currentTime) {\n        hasSubtitle = true\n        res = i\n        break\n      }\n    }\n    if (!hasSubtitle) {\n      res = Math.min(subtitles.length - 1, i)\n    }\n    /* 更新播放器字幕节点文本内容 */\n    if (isCaptionsOpen) {\n      if (hasSubtitle) {\n        captions.style.display = 'block'\n        captions.lastElementChild.textContent = subtitles[res].text\n      } else {\n        captions.style.display = 'none'\n      }\n    }\n    const event = new CustomEvent('subtitlechange', {\n      detail: {\n        hasSubtitle,\n        subtitleIndex: res,\n      },\n    })\n    playerContainer.dispatchEvent(event)\n    this.state.currentSubtitleIndex = res\n  }\n\n  /* 渲染 string 表示的 HTML 元素并将之插入到第一个参数所指向的元素中，之后返回该元素 */\n  static renderString(parent, string) {\n    const elem = document.createElement('div')\n    elem.innerHTML = string\n    /* 注意调用appenChild会将之从原来的parent节点remove掉,并附加在新parent的最后 */\n    parent.appendChild(elem.firstElementChild)\n    return parent.lastElementChild\n  }\n\n  updateSubtitles(subtitles) {\n    this.state.subtitles = subtitles\n  }\n\n  /* 将播放器节点从dom树中移除 */\n  unmount() {\n    const {\n      playerContainer,\n    } = this.domRefs\n    playerContainer.parentNode.removeChild(playerContainer)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Player/Player/src/Player.js","<template>\n  <div class='container'>\n    <div\n      ref='playerWrapper'\n      :style='selected === \"subtitles\" ? {\n        position: \"fixed\",\n        left: \"0\",\n        top: \"0\",\n        zIndex: \"100\",\n        width: \"100%\",\n      } : undefined'\n    >\n      <MyHeader :title='title' />\n      <div\n        id=\"player\"\n        @actionsLoaded='handleOnSetSubtitleContainerMarginTop'\n        @subtitlechange='handleOnSubtitleChange'\n      />\n      <mt-navbar\n        class='selectToolBar'\n        v-model='selected'\n      >\n        <mt-tab-item\n          id='comment'\n          :style='selected === \"comment\" ? { borderBottom: \"3px solid #418642\" } : undefined'\n        >\n          <span\n            style='font-size: 18px; color: #666; font-weight: 800;'\n            :style='selected === \"comment\" ? { color: \"#418642\" } : undefined'\n          >\n            评论\n          </span>\n        </mt-tab-item>\n        <mt-tab-item\n          id='subtitles'\n          :style='selected === \"subtitles\" ? { borderBottom: \"3px solid #418642\" } : undefined'\n        >\n          <span\n            style='font-size: 18px; color: #666; font-weight: 800;'\n            :style='selected === \"subtitles\" ? { color: \"#418642\" } : undefined'\n          >\n            字幕\n          </span>\n        </mt-tab-item>\n      </mt-navbar>\n    </div>\n    <mt-tab-container v-model='selected'>\n      <mt-tab-container-item id='comment'>\n        <Score\n          :accountId='accountId'\n          :score='score'\n          :teacherInformation='teacherInformation'\n        />\n        <Comment\n          :docId='docId'\n          :comments.sync='comments'\n        />\n      </mt-tab-container-item>\n      <mt-tab-container-item id='subtitles'>\n        <Subtitles\n          :subtitles='subtitles'\n          :activeSubtitleIndex='activeSubtitleIndex'\n          :subtitleContainerMarginTop='subtitleContainerMarginTop'\n        />\n      </mt-tab-container-item>\n    </mt-tab-container>\n  </div>\n</template>\n\n<script>\n\nimport '../Player/Player/src/Player.css'\n\nimport MyHeader from '../MyHeader'\nimport Comment from './Comment'\nimport Score from './Score'\nimport Subtitles from './Subtitles'\nimport Bus from '../../bus.js'\nimport Player from '../Player/Player/src/Player.js'\n\nexport default {\n  name: 'Player',\n\n  data() {\n    return {\n      accountId: -1,\n      activeSubtitleIndex: -1,\n      comments: [],\n      docId: '',\n      pictures: [],\n      player: {},\n      score: -1,\n      selected: 'comment',\n      subtitleContainerMarginTop: 0,\n      subtitles: [],\n      teacherInformation: {},\n      title: '课程名称',\n    }\n  },\n\n  components: {\n    MyHeader,\n    Comment,\n    Score,\n    Subtitles,\n  },\n\n  mounted() {\n    /* 获取当前页面显示所需要的数据 */\n    if (this.$route.params.id) {\n      this.docId = this.$route.params.id\n\n      this\n        .$http\n        .get(`/players/${this.docId}`)\n        .then((respones) => {\n          const {\n            data: {\n              accounts,\n              comments,\n              doc: {\n                accountId,\n                action: actions,\n                defaultAction,\n                name,\n                pictures,\n                ratingStatis: {\n                  star1,\n                  star2,\n                  star3,\n                  star4,\n                  star5,\n                },\n              },\n            },\n          } = respones\n\n          /* 获取当前文档的作者信息 */\n          this.accountId = accountId\n          this.teacherInformation = accounts.find((user) => user.id === this.accountId)\n\n          /* 获取当前文档信息 */\n          this.title = name\n\n          /* 获取当前文档的评论和回复信息 */\n          this.comments = comments\n          this.comments.forEach((comment) => {\n            const userInformation = accounts.find((user) => user.id === comment.accountId)\n            comment.userName = userInformation.name || userInformation.nickname\n            comment.avatar = userInformation.avatar\n            comment.replies.forEach((reply) => {\n              const replyUserInformation = accounts.find((user) => user.id === reply.accountId)\n              const originUserInformation = accounts.find((user) => user.id === reply.sourceId)\n              reply.userName = replyUserInformation.name || replyUserInformation.nickname\n              reply.avatar = replyUserInformation.avatar\n              reply.originUserName = originUserInformation.name || originUserInformation.nickname\n              reply.originAvatar = originUserInformation.avatar\n            })\n          })\n\n          /* 获取应当播放的 action */\n          const action = actions.find((action) => action.id === defaultAction)\n\n          /* 获取对应的字幕数据 */\n          this.subtitles = action.subtitle\n\n          this.pictures = pictures\n\n          /* 计算当前文档的评分 */\n          this.score = (star1 + star2 * 2 + star3 * 3 + star4 * 4 + star5 * 5) / (star1 + star2 + star3 + star4 + star5)\n          this.score = window.isNaN(this.score) ? -1 : this.score\n\n          /* 实例化播放器 */\n          if (process.env.NODE_ENV === 'production') {\n            this.player = new Player({\n              actionUrl : action.json,\n              audioUrl  : action.recording,\n              duration  : action.duration,\n              element   : document.getElementById('player'),\n              imageUrls : this.pictures,\n              mode      : 'mobile',\n              size      : action.totalSize,\n              subtitles : action.subtitle,\n            })\n          }\n        })\n        .catch((error) => {\n          if (process.env.NODE_ENV === 'development') {\n            throw error\n          } else {\n            alert('获取数据错误，请检查访问地址')\n          }\n        })\n        .then(() => {\n          /* 等到播放器完成初始化并确定了其尺寸的时候触发，用来给字幕组件设置上外边距，防止 */\n          /* 处于固定定位的播放器遮盖底部的字幕组件正常显示 */\n          this.handleOnSetSubtitleContainerMarginTop()\n\n          // /* 配置微信的分享到朋友圈、分享给朋友、分享到 QQ 这三个操作 */\n          // window.jWeixin.onMenuShareTimeline({\n          //   title   : this.title,\n          //   link    : window.encodeURIComponent(window.location.href),\n          //   imgUrl  : this.pictures[0],\n          //   success : function () {\n          //     alert('分享到朋友圈成功！！！')\n          //   },\n          //   fail: function () {\n          //     alert('分享到朋友圈失败！！！')\n          //   },\n          // })\n\n          // /* 配置微信的分享到朋友圈、分享给朋友、分享到 QQ 这三个操作 */\n          // window.jWeixin.onMenuShareAppMessage({\n          //   title   : '轻慕课',\n          //   desc    : this.title,\n          //   link    : window.encodeURIComponent(window.location.href),\n          //   imgUrl  : this.pictures[0],\n          //   success : function () {\n          //     alert('分享给朋友成功！！！')\n          //   },\n          //   fail: function () {\n          //     alert('分享给朋友失败！！！')\n          //   },\n          // })\n\n          // /* 配置微信的分享到朋友圈、分享给朋友、分享到 QQ 这三个操作 */\n          // window.jWeixin.onMenuShareQQ({\n          //   title   : '轻慕课',\n          //   desc    : this.title,\n          //   link    : window.encodeURIComponent(window.location.href),\n          //   imgUrl  : this.pictures[0],\n          //   success : function () {\n          //     alert('分享到 QQ 成功！！！')\n          //   },\n          //   fail: function () {\n          //     alert('分享到 QQ 失败！！！')\n          //   },\n          // })\n        })\n    }\n  },\n\n  methods: {\n    handleOnSubtitleChange(event) {\n      this.activeSubtitleIndex = event.detail.subtitleIndex\n    },\n\n    handleOnSetSubtitleContainerMarginTop() {\n      this.subtitleContainerMarginTop = this.$refs.playerWrapper.offsetHeight\n    },\n  },\n}\n\n</script>\n\n<style scoped>\n\n.container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n#player {\n  width: 100%;\n  position: relative;\n}\n\n.selectToolBar {\n  width: 100%;\n  border: solid 1px #EEE;\n  box-sizing: border-box;\n}\n\n.selectToolBar > a:not(:first-child) {\n  border-left: solid 1px #EEE;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Player/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{ref:\"playerWrapper\",style:(_vm.selected === \"subtitles\" ? {\n      position: \"fixed\",\n      left: \"0\",\n      top: \"0\",\n      zIndex: \"100\",\n      width: \"100%\",\n    } : undefined)},[_c('MyHeader',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"player\"},on:{\"actionsLoaded\":_vm.handleOnSetSubtitleContainerMarginTop,\"subtitlechange\":_vm.handleOnSubtitleChange}}),_vm._v(\" \"),_c('mt-navbar',{staticClass:\"selectToolBar\",model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('mt-tab-item',{style:(_vm.selected === \"comment\" ? { borderBottom: \"3px solid #418642\" } : undefined),attrs:{\"id\":\"comment\"}},[_c('span',{staticStyle:{\"font-size\":\"18px\",\"color\":\"#666\",\"font-weight\":\"800\"},style:(_vm.selected === \"comment\" ? { color: \"#418642\" } : undefined)},[_vm._v(\"\\n          评论\\n        \")])]),_vm._v(\" \"),_c('mt-tab-item',{style:(_vm.selected === \"subtitles\" ? { borderBottom: \"3px solid #418642\" } : undefined),attrs:{\"id\":\"subtitles\"}},[_c('span',{staticStyle:{\"font-size\":\"18px\",\"color\":\"#666\",\"font-weight\":\"800\"},style:(_vm.selected === \"subtitles\" ? { color: \"#418642\" } : undefined)},[_vm._v(\"\\n          字幕\\n        \")])])],1)],1),_vm._v(\" \"),_c('mt-tab-container',{model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('mt-tab-container-item',{attrs:{\"id\":\"comment\"}},[_c('Score',{attrs:{\"accountId\":_vm.accountId,\"score\":_vm.score,\"teacherInformation\":_vm.teacherInformation}}),_vm._v(\" \"),_c('Comment',{attrs:{\"docId\":_vm.docId,\"comments\":_vm.comments},on:{\"update:comments\":function($event){_vm.comments=$event}}})],1),_vm._v(\" \"),_c('mt-tab-container-item',{attrs:{\"id\":\"subtitles\"}},[_c('Subtitles',{attrs:{\"subtitles\":_vm.subtitles,\"activeSubtitleIndex\":_vm.activeSubtitleIndex,\"subtitleContainerMarginTop\":_vm.subtitleContainerMarginTop}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e71d589e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Player/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e71d589e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e71d589e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e71d589e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Player/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class='container'>\n    <MyHeader :pageName='title' />\n    <div class='information'>\n      <div class='message'>\n        <mt-swipe class='mySwipe' :auto='0' :continuous='false'>\n          <mt-swipe-item>\n            <img src='./teacher.jpeg' class='photo'>\n            <h3 style='color:#FFFFFF'>蜗牛老师</h3>\n            <h5 style='color:#c7c7c7'>web前端工程师</h5>\n          </mt-swipe-item>\n          <mt-swipe-item>\n            <h4 style='color: rgb(232, 232, 232)'>这是一段介绍</h4>\n            <p style='color: rgb(232, 232, 232);padding-top: 15px;'>\n              《Sass与Compass实战》共分为10章，旨在完整介绍两个工具：Sass和Compass，从而引领读者通过框架高效地构建样式表，创建动态页面。\n            </p>\n          </mt-swipe-item>\n        </mt-swipe>\n      </div>\n      <img class='backgroundImage' src='./teacher.jpeg'>\n    </div>\n    <div class='courseList'>\n      <div class='coursesCell' v-for='library in libraries'>\n        <router-link :to='\"/course/\" + library.id' class='link'>\n          <div class='imgcontainer'>\n           <div class='image'>\n             <img class='image' :src='library.cover' onerror='this.style.display=\"none\"'>\n           </div>\n          </div>\n          <div class='msgcontainer'>\n            <span class='courseName'>{{library.name}}</span>\n            <p class='alt'>{{library.docs.length}}个文档</p>\n          </div>\n        </router-link>\n        <hr class='hr1'>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport MyHeader from '../MyHeader'\nimport { Indicator } from 'mint-ui'\nimport { Toast } from 'mint-ui'\n\nexport default {\n  name: 'Teacher',\n\n  data() {\n    return {\n      id: this.$route.params.id,\n      libraries: [],\n      title: '教师主页',\n    }\n  },\n\n  created() {\n    this.pageInite()\n  },\n\n  methods: {\n    pageInite() {\n      Indicator.open()\n      this.$http.get('/accounts/docs')\n        .then((res) => {\n          this.libraries = res.data.libraries\n          Indicator.close()\n        })\n    },\n\n    pop() {\n      Toast({\n        message: '该课程已关闭',\n        iconClass: 'icon',\n        position: 'bottom',\n      })\n    },\n  },\n\n  components: {\n    MyHeader,\n  },\n}\n\n</script>\n\n<style scoped>\n\n.container {\n  width: 100%;\n}\n\n.information {\n  width: 100%;\n  height: 200px;\n  position: relative;\n}\n\n.message {\n  width: 100%;\n  height: 100%;\n  background-color:rgba(0, 0, 0, 0.48);\n  text-align: center;\n}\n\n.backgroundImage {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n}\n\n.courseList {\n\n}\n\n.photo {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  border: 1px solid lightgray;\n  margin-top: 10px;\n}\n\n.mySwipe {\n  width: 100%;\n  height: 200px;\n}\n\n.coursesCell {\n  width: 100%;\n  height: 80px;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n.link {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  text-decoration: none;\n}\n\n.noclick {\n  pointer-events: none;\n}\n\n.imgcontainer {\n  width: 110px;\n  height: 100%;\n  border-radius: 5px;\n  background: gray;\n}\n\n.image {\n  display: inline-block;\n  width: 110px;\n  height: 100%;\n  border-radius: 5px;\n}\n\n.msgcontainer {\n  height: 100%;\n  margin-left: 10px;\n}\n\n.courseName {\n  display: inline-block;\n  width: 180px;\n  text-overflow: ellipsis;\n  overflow:hidden;\n  white-space: nowrap;\n  font-size: 20px;\n  color: black;\n}\n\n.alt {\n  color: gray;\n  font-size: 15px;\n  margin-top: 8px;\n}\n\n.hr1 {\n  height:1px;\n  border:none;\n  border-top:1px solid lightgray;\n  margin-top: 10px;\n  margin: 10px 10px 0 10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Teacher/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('MyHeader',{attrs:{\"pageName\":_vm.title}}),_vm._v(\" \"),_c('div',{staticClass:\"information\"},[_c('div',{staticClass:\"message\"},[_c('mt-swipe',{staticClass:\"mySwipe\",attrs:{\"auto\":0,\"continuous\":false}},[_c('mt-swipe-item',[_c('img',{staticClass:\"photo\",attrs:{\"src\":require(\"./teacher.jpeg\")}}),_vm._v(\" \"),_c('h3',{staticStyle:{\"color\":\"#FFFFFF\"}},[_vm._v(\"蜗牛老师\")]),_vm._v(\" \"),_c('h5',{staticStyle:{\"color\":\"#c7c7c7\"}},[_vm._v(\"web前端工程师\")])]),_vm._v(\" \"),_c('mt-swipe-item',[_c('h4',{staticStyle:{\"color\":\"rgb(232, 232, 232)\"}},[_vm._v(\"这是一段介绍\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"color\":\"rgb(232, 232, 232)\",\"padding-top\":\"15px\"}},[_vm._v(\"\\n            《Sass与Compass实战》共分为10章，旨在完整介绍两个工具：Sass和Compass，从而引领读者通过框架高效地构建样式表，创建动态页面。\\n          \")])])],1)],1),_vm._v(\" \"),_c('img',{staticClass:\"backgroundImage\",attrs:{\"src\":require(\"./teacher.jpeg\")}})]),_vm._v(\" \"),_c('div',{staticClass:\"courseList\"},_vm._l((_vm.libraries),function(library){return _c('div',{staticClass:\"coursesCell\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":\"/course/\" + library.id}},[_c('div',{staticClass:\"imgcontainer\"},[_c('div',{staticClass:\"image\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":library.cover,\"onerror\":\"this.style.display=\\\"none\\\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"msgcontainer\"},[_c('span',{staticClass:\"courseName\"},[_vm._v(_vm._s(library.name))]),_vm._v(\" \"),_c('p',{staticClass:\"alt\"},[_vm._v(_vm._s(library.docs.length)+\"个文档\")])])]),_vm._v(\" \"),_c('hr',{staticClass:\"hr1\"})],1)}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e1b72fb0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/Teacher/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e1b72fb0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e1b72fb0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e1b72fb0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Teacher/index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Course from '../containers/Course'\nimport Player from '../containers/Player'\nimport Teacher from '../containers/Teacher'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    redirect: '/teacher',\n  }, {\n    path: '/teacher',\n    name: 'teacher',\n    component: Teacher,\n  }, {\n    path: '/course/:id',\n    name: 'course',\n    component: Course,\n  }, {\n    path: '/player/:id',\n    name: 'player',\n    component: Player,\n  }],\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import 'mint-ui/lib/style.css'\n\nimport MintUI from 'mint-ui'\nimport Vue from 'vue'\nimport axios from 'axios'\nimport App from './App'\nimport initWeiXin from './weixin'\nimport router from './router'\nimport { wxOAuth2RedirectUrl } from './utils/constants'\n\nlet token\n\n/* 从 cookie 中获取 token */\nconst result = document.cookie.match(/qingtoken=(QJWT [\\w\\.\\-]+)/) // eslint-disable-line\n\n/* 销毁 cookie 中的 token */\ndocument.cookie = `qingtoken=none; expires=${new Date(0)};`\n\n/* 如果当前 cookie 中存在 token 值，说明用户是通过扫描二维码进入的，此时 cookie 中的 */\n/* token 值是最新的，则将 token 值保存到 localStorage 中；如果 cookie 中没有 */\n/* token，则表示用户不是通过扫描二维码进入的，此时从 localStorage 中取出之前的 token */\nif (result) {\n  token = result[1]\n  window.localStorage.setItem('token', result[1])\n} else {\n  token = window.localStorage.getItem('token')\n}\n\n/* axios 配置 */\naxios.defaults.baseURL = '/api/v1'\naxios.defaults.headers.common.Authorization = token\n\naxios.interceptors.response.use(response => response, (error) => {\n  const {\n    response: {\n      status: statusCode,\n    } = {},\n  } = error\n\n  /* 用户目前尚未登录的情况 */\n  if (statusCode === 401) {\n    if (window.location.pathname.startsWith('/player/')) {\n      /* 当用户处于播放页面时，跳转之前需要把现在的地址记录下来 */\n      const originURL = window.encodeURIComponent(window.location.pathname)\n      /* 带着现在的地址跳转到登录页面，等到用户登录以后再跳转回原来的播放页面 */\n      window.location.assign(wxOAuth2RedirectUrl.replace(/\\{\\{.*?\\}\\}/, originURL))\n    }\n  }\n\n  return Promise.reject(error)\n})\n\n/* 执行微信 JS-SDK 的初始化操作，需要在 axios 配置好了以后再执行 */\ninitWeiXin()\n\nVue.config.productionTip = process.env.NODE_ENV === 'development'\n\nVue.prototype.$http = axios\n\nVue.use(MintUI)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  router,\n  template: '<App />',\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/* 微信授权登录以后请求的服务器接口 */\nconst wxOAuth2RedirectUrl = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxa53771df5d04e3d3&redirect_uri=https%3A%2F%2Fmobile.mamasousuo.com%2Fapi%2Fv1%2Fauthentication%2Fmobile&response_type=code&scope=snsapi_userinfo&state={{}}#wechat_redirect'\n\n/* eslint-disable */\nexport {\n  wxOAuth2RedirectUrl,\n}\n/* eslint-disable */\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constants.js","module.exports = __webpack_public_path__ + \"static/img/teacher.b099d55.jpeg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Teacher/teacher.jpeg\n// module id = PTPz\n// module chunks = 1"],"sourceRoot":""}